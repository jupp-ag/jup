(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4693],{37392:function(e,t,n){"use strict";n.d(t,{F:function(){return er}});var r=n(85893),i=n(51906),s=n(37523),a=n(38878),o=n(28008),l=n(10576),c=n(54410),u=n(356),d=n(1032),m=n(3468),x=n(60967),k=n(31421),f=n(15486),h=n(71943),p=n(89358),y=n(68731),b=n(41664),j=n.n(b),g=n(18318),v=n(89941),w=n.n(v),S=n(65984),_=n(55541),D=n(5504),A=n(23148),I=n(32393),C=n(76564),F=n(96463),M=n(67294),Z=n(26495),z=n(2621),R=n(33435);function E(e){let{free:t,lockedStaking:n,lockedDemocracy:i}=e,{t:s}=(0,y.$G)(),a=(0,S.rZ)(),o=(0,I.G)(),{decimals:l}=(0,C.Y)(),{areBalancesVisible:c}=(0,z.F)(),{themeColors:u}=(0,F._)(),d=o?a.other.colors.balanceChartDark:a.other.colors.balanceChartLight,m=(0,M.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:16,boxHeight:8,boxWidth:10,filter:e=>e.text!==s("lockedStaked"),color:u.texts,font:{family:a.fontFamily,weight:700,size:Number((0,_.px)(a.fontSizes.md))}}},tooltip:{enabled:c,backgroundColor:a.other.colors.tooltip}},cutout:40}),[s,a,c,u]),x=(0,M.useMemo)(()=>{let e=i<n?i:n,r=[d[0],d[1],(0,R.n)(d[1],d[2]),d[2]];return{labels:[s("free"),s("reserved"),s("lockedStaked"),s("locked")],datasets:[{data:[+(0,D.YM)(t,l,6),+(0,D.YM)(n-e,l,6),+(0,D.YM)(e,l,6),+(0,D.YM)(i-e,l,6)],backgroundColor:r,hoverBackgroundColor:r,borderWidth:0}]}},[i,n,d,s,t,l]);return(0,r.jsx)(Z.$I,{data:x,options:m})}function Y(e){let{address:t,isStakingPage:n}=e,{t:i}=(0,y.$G)(),s=(0,h.l)(t),{isCurrentPath:b,fullPath:v}=(0,p.j)("staking");return(0,r.jsxs)(a.Z,{p:"xl",className:w().card,children:[(0,r.jsx)(o.D,{order:2,size:"h4",mb:"lg",children:i("balance")}),(0,r.jsx)("div",{className:w().chartBox,children:!!s&&(0,r.jsx)(E,{free:s.free,lockedStaking:s.lockedStaking,lockedDemocracy:s.lockedDemocracy})}),(0,r.jsx)(l.i,{mt:"lg"}),(0,r.jsxs)(c.x,{mt:"sm",fw:"bold",children:[i("total"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==s?void 0:s.total,isHidable:!0,maxDecimals:6})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i(n?"availableForStaking":"freeBalance"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:n?null==s?void 0:s.availableForStaking:null==s?void 0:s.free,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i(n?"availableForStakingTooltip":"freeBalanceTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i("reservedStaking"),(null==s?void 0:s.lockedStaking)===0n&&s.availableForStaking>0n&&!b?(0,r.jsx)(x.e,{component:j(),href:v,td:"none",children:(0,r.jsx)(m.x,{display:"inline-block",children:(0,r.jsx)(k.K,{size:"compact-sm",ml:"sm",children:i("startStaking")})})}):(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==s?void 0:s.lockedStaking,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i("reservedStakingTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i("lockedDemocracy"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==s?void 0:s.lockedDemocracy,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i("lockedDemocracyTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]})]})}A.kL.register(A.qi,A.De,A.u);var H=n(91166),G=n(3119),N=n(90991),B=n(8207),L=n(11163),O=n(6621),P=n(42600),T=n(50427),$=n(96721),K=n(14284);let q=e=>{let{reward:t,index:n}=e,i=(0,K.Ig)(t.block_timestamp),s=0===n;return(0,r.jsxs)(m.x,{children:[!s&&(0,r.jsx)(l.i,{mr:"xs"}),(0,r.jsxs)(u.Z,{justify:"space-between",pb:"xs",pt:s?0:"xs",children:[(0,r.jsx)(f.Y,{amount:t.amount,size:"sm",maxDecimals:4,isHidable:!0}),(0,r.jsx)(c.x,{fw:"lighter",size:"xs",mr:"xs",children:i})]})]})};var V=n(2558);let W=e=>{let{show:t,address:n,latestRewards:i}=e,{t:s}=(0,y.$G)(),{subscanUrl:o}=(0,C.Y)(),l=i.map((e,t)=>(0,r.jsx)(q,{reward:e,index:t},e.block_timestamp));return(0,r.jsx)(T.u,{mounted:t,transition:"slide-left",duration:400,timingFunction:"ease",children:e=>(0,r.jsx)(a.Z,{style:e,withBorder:!0,hidden:!t,pb:6,pr:6,children:(0,r.jsxs)(B.K,{gap:"xs",children:[(0,r.jsx)($.x,{h:234,pt:0,scrollbarSize:6,children:l}),(0,r.jsx)(N.M,{children:(0,r.jsx)(V.H,{link:"".concat(o,"/account/").concat(n,"?tab=reward"),label:s("goToSubscan")})})]})})})};var U=n(16207),X=n(33220),J=n(26670);function Q(e){let{labels:t,rewards:n}=e,i=(0,S.rZ)(),{decimals:s}=(0,C.Y)(),{areBalancesVisible:a}=(0,z.F)(),{themeColors:o}=(0,F._)(),l=(0,M.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1},ticks:{color:o.texts,padding:10,font:{family:i.fontFamily}},offset:!0},y:{min:0,border:{display:!1},ticks:{color:o.texts,padding:10,count:4,font:{family:i.fontFamily}}}},plugins:{legend:{display:!1},tooltip:{enabled:a,intersect:!1,displayColors:!1,callbacks:{title:()=>""}}}}),[i,a,o]),c=(0,M.useMemo)(()=>({labels:t,datasets:[{data:n.map(e=>+(0,D.YM)(e,s,10)),borderColor:i.colors[i.primaryColor][8],backgroundColor:e=>{let t=e.chart.ctx.createLinearGradient(0,0,0,e.chart.canvas.height);return t.addColorStop(0,"".concat(i.colors[i.primaryColor][8],"40")),t.addColorStop(.8,"".concat(i.colors[i.primaryColor][8],"00")),t},pointRadius:0,borderWidth:1,fill:!0,tension:.2}]}),[i,t,n,s]);return(0,r.jsx)(Z.x1,{data:c,options:l})}A.kL.register(A.uw,A.f$,A.od,A.jn,A.Gu);var ee=n(19951),et=n.n(ee);function en(e){var t;let{address:n,showHistoricalRewardRate:i}=e,{t:s}=(0,y.$G)(),l=(0,X.dD)(),b=(0,h.l)(n),{isCurrentPath:v,fullPath:w}=(0,p.j)("staking"),{width:_}=(0,P.n)(),[D,A]=(0,M.useState)(!1),{isLoading:I,labels:Z,hasFailed:z,rewards:E,latestRewards:Y}=function(e,t){let{locale:n="en_US"}=(0,L.useRouter)(),{subscanApiUrl:r}=(0,C.Y)(),[i,s]=(0,M.useState)(Array(t).fill(0n)),[a,o]=(0,M.useState)([]),[l,c]=(0,M.useState)(!1),[u,d]=(0,M.useState)(!1),m=(0,M.useMemo)(()=>Array(t).fill(void 0).map((e,r)=>{let i=new Date;return i.setDate(new Date().getDate()-(t-r)+1),(0,R.mn)(i,n)}),[n,t]);return(0,M.useEffect)(()=>{if(!e)return;let i=new AbortController,a=function(e){let t=new Date;return t.setDate(t.getDate()-e+1),t.setHours(0,0,0,0)/1e3}(t);return(async()=>{d(!1),c(!0);try{let{rewardsPerDay:t,latestRewards:l}=function(e,t,n,r){let i=Array(t.length).fill(0n),s=[];return e.filter((e,t)=>(t<12&&s.push(e),e.block_timestamp>r)).forEach(e=>{let r=new Date(1e3*e.block_timestamp),s=t.indexOf((0,R.mn)(r,n));i[s]+=BigInt(e.amount)}),{rewardsPerDay:i,latestRewards:s}}(await (0,O.FB)(e,r,i.signal,a),m,n,a);s(t),o(l),c(!1)}catch(e){e instanceof Error&&"AbortError"!==e.name&&(d(!0),c(!1))}})(),()=>{i.abort()}},[e,t,m,n,r]),{isLoading:l,labels:m,hasFailed:u,rewards:i,latestRewards:a}}(n,7),{themeColors:T}=(0,F._)(),{other:{colors:$}}=(0,S.rZ)(),K=(0,M.useRef)(null),[q,V]=(0,M.useState)((null===(t=K.current)||void 0===t?void 0:t.offsetWidth)||0);(0,M.useEffect)(()=>{var e;V((null===(e=K.current)||void 0===e?void 0:e.offsetWidth)||0)},[K,_]);let ee=(0,M.useMemo)(()=>E.reduce((e,t)=>e+t,0n),[E]),en=(0,M.useMemo)(()=>i?(0,J.g1)(ee,null==b?void 0:b.lockedStaking):void 0,[ee,b,i]),er=(null==b?void 0:b.lockedStaking)===0n&&0n===ee&&!v,ei=D?"hideDetails":"moreDetails",es=i?720:600,ea=D&&q<=es;return(0,r.jsxs)(a.Z,{p:"xl",pb:8,ref:K,children:[(0,r.jsxs)(u.Z,{justify:"space-between",mb:"lg",children:[(0,r.jsx)(o.D,{order:2,size:"h4",children:s("latestStakingRewards")}),Y.length&&(0,r.jsx)(H.k,{onClick:()=>A(!D),"aria-label":ei,children:(0,r.jsxs)(u.Z,{gap:"xs",children:[(0,r.jsx)(c.x,{children:s(ei)}),D?(0,r.jsx)(g.gYP,{color:$.action}):(0,r.jsx)(g.SZ3,{color:$.action})]})})]}),(0,r.jsxs)("div",{className:et().contentDiv,children:[(0,r.jsx)(G.f,{visible:I,overlayProps:{opacity:0,blur:1},zIndex:100,"data-testid":"staking-rewards-loading-overlay"}),er?(0,r.jsx)(N.M,{h:"100%",children:(0,r.jsx)(x.e,{component:j(),href:w,td:"none",children:(0,r.jsx)(m.x,{children:(0,r.jsx)(k.K,{children:s("startStaking")})})})}):z?(0,r.jsx)(c.x,{size:"sm",ta:"center",children:s("subscanConnectionError")}):(0,r.jsxs)(u.Z,{justify:"space-between",children:[(0,r.jsxs)(m.x,{w:D?q-290:"100%",children:[(0,r.jsxs)(u.Z,{justify:"space-between",gap:"xl",children:[(0,r.jsxs)(B.K,{gap:0,children:[(0,r.jsx)(f.Y,{amount:ee,maxDecimals:6,fz:24,isHidable:!0,lh:1}),(0,r.jsx)(U.V,{amount:ee,c:T.texts,fz:"sm",isHidable:!0}),(0,r.jsx)(c.x,{size:"sm",children:s("latestStakingRewardsDays",{days:7})})]}),(0,r.jsxs)(B.K,{gap:0,children:[en&&(0,r.jsxs)(u.Z,{gap:"xs",children:[s(l?"HRR":"staking:historicalRewardRate"),(0,r.jsx)(d.u,{label:(0,r.jsx)(y.cC,{i18nKey:"staking:historicalRewardRateTooltip",components:{bold:(0,r.jsx)(c.x,{fw:"bolder",ta:"center"})}}),w:400,multiline:!0,withArrow:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(g.HjO,{style:{verticalAlign:"middle"}})})})]}),en&&(0,r.jsxs)(c.x,{size:"xl",ta:"end",children:[en," ","%"]})]})]}),(0,r.jsx)(m.x,{className:et().chartDiv,hidden:ea,children:(0,r.jsx)(Q,{rewards:E,labels:Z})})]}),(0,r.jsx)(W,{show:D,address:n,latestRewards:Y})]})]})]})}let er=e=>{let{address:t,isStakingPage:n,showHistoricalRewardRate:a}=e;return(0,s.t)()?(0,r.jsxs)(i.r,{children:[(0,r.jsx)(i.r.Col,{span:{sm:12,md:12,lg:5,xl:4},children:(0,r.jsx)(Y,{address:t,isStakingPage:n})}),(0,r.jsx)(i.r.Col,{span:{sm:12,md:12,lg:7,xl:8},children:(0,r.jsx)(en,{address:t,showHistoricalRewardRate:a})})]}):null}},16207:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(85893),i=n(50351),s=n(46733),a=n(76564);function o(e){let{amount:t,...n}=e,{asset:o,decimals:l}=(0,a.Y)(),c=i.nE.fromAsset(o,{amount:t,decimals:l});return(0,r.jsx)(s.B,{assetAmount:c,...n})}},46733:function(e,t,n){"use strict";n.d(t,{B:function(){return f}});var r=n(85893),i=n(1032),s=n(54410),a=n(65984),o=n(76556),l=n(83613),c=n(37523),u=n(68731),d=n(67294),m=n(18318),x=n(2621);function k(e){let{assetAmount:t,maxDecimals:n,showPrice:a=!1,isHidable:o=!1,...d}=e,{t:k}=(0,u.$G)(),f=(0,c.t)(),{areBalancesVisible:h}=(0,x.F)(),[p,y]=(0,l.P8)(t,n,a);if(!f)return null;let b=o&&!h;return(0,r.jsx)(i.u,{disabled:!!p||b,label:k("priceNotFound"),children:(0,r.jsxs)(s.x,{span:!0,...d,children:[y,b?"****":p||(0,r.jsxs)(r.Fragment,{children:["-.- ",(0,r.jsx)(m.HjO,{style:{verticalAlign:"middle"}})]})]})})}function f(e){let t=(0,a.rZ)();return(0,r.jsx)(d.Suspense,{fallback:(0,r.jsx)(o.a,{size:"xs",color:t.colors.gray[4]}),children:(0,r.jsx)(k,{...e})})}},33088:function(e,t,n){"use strict";n.d(t,{W:function(){return _},$:function(){return I}});var r=n(85893),i=n(51906),s=n(81832),a=n(35604),o=n(41343),l=n(37523),c=n(65984),u=n(34124),d=n(80405),m=n(8207),x=n(28008),k=n(60967),f=n(356),h=n(2558),p=n(68731),y=n(41664),b=n.n(y),j=n(18318),g=n(88247),v=n.n(g);let w=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t?e.other.colors.announcementsLink.important:e.other.colors.announcementsLink.regular};function S(e){let{announcement:{title:t,link:n,image:i=""},isImportant:s}=e,{t:o}=(0,p.$G)(),l=(0,a.b)(),y=(0,c.rZ)();return(0,r.jsx)(u.X,{className:s?v().paperImportant:v().paper,p:0,children:(0,r.jsx)(d.X,{src:i,radius:"md",p:"xl",style:{backgroundPosition:"top"},children:(0,r.jsxs)(m.K,{justify:"space-between",mih:100,children:[(0,r.jsx)(x.D,{order:2,size:"h3",className:s?v().titleImportant:v().title,children:t}),n&&(0,r.jsxs)(r.Fragment,{children:[n.url&&(0,r.jsx)(h.H,{link:n.url,label:n.label||o("getMoreInfo"),className:v().link,fw:"bold",size:"md",c:w(y,s)}),n.path&&(0,r.jsx)(b(),{href:{pathname:"/[moonChainKey]".concat(n.path),query:{moonChainKey:l}},passHref:!0,children:(0,r.jsx)(k.e,{fw:"bold",className:v().link,children:(0,r.jsxs)(f.Z,{gap:0,children:[n.label||o("getMoreInfo"),(0,r.jsx)(j.qvS,{size:"20",style:{marginLeft:10}})]})})})]})]})})})}function _(){let{isEnabled:e,announcements:t}=function(){let{overview_announcements:e}=(0,s.useFlags)(["overview_announcements"]),t=(0,a.b)();try{var n;return{isEnabled:e.enabled,announcements:function(e,t){if(!t)return[];let n=(0,o.M)(t);return[...n.global||[],...n[e]||[]]}(t,null===(n=e.value)||void 0===n?void 0:n.toString())}}catch(e){return console.error("Error decoding overview announcements"),{isEnabled:!1,announcements:[]}}}(),n=(0,l.t)();return e&&n&&t.length?(0,r.jsx)(i.r,{children:t.map((e,t)=>(0,r.jsx)(i.r.Col,{span:{sm:12,md:6,xl:4},children:(0,r.jsx)(S,{announcement:e,isImportant:e.important||0===t})},t))}):null}var D=n(54680),A=n(54410);let I=()=>{let e=(0,c.rZ)(),{isEnabled:t,announcement:n}=function(){let{staking_announcement:e}=(0,s.useFlags)(["staking_announcement"]),t=(0,a.b)();try{var n;return{isEnabled:e.enabled,announcement:function(e,t){if(!t)return;let n=(0,o.M)(t);return n[e]||n.global||void 0}(t,null===(n=e.value)||void 0===n?void 0:n.toString())}}catch(e){return console.error("Error decoding staking announcement"),{isEnabled:!1,announcement:void 0}}}();return t&&n?(0,r.jsx)(D.b,{radius:"lg",maw:600,className:v().paperImportant,p:"sm",pl:"md",children:(0,r.jsx)(A.x,{ta:"center",children:(0,r.jsx)(h.H,{size:"md",link:n.link,label:n.text,c:w(e)})})}):null}},66320:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(53084);let i={[r.Ai.key]:{[r.zb.key]:"acala",[r.xF.key]:"astar",[r.xe.key]:"acala-dollar-acala",[r.vu.key]:"bifrost-native-coin",[r.LT.key]:"centrifuge",[r.AK.key]:"polkadot",[r.eq.key]:"equilibrium-token",[r.A1.key]:"hydradx",[r.gc.key]:"filecoin",[r.B0.key]:"moonbeam",[r.o4.key]:"interlay",[r.Is.key]:"liquid-staking-dot",[r.fM.key]:"manta-network",[r.KT.key]:"nodle-network",[r.aJ.key]:"parallel-finance",[r.So.key]:"pendulum-chain",[r.b5.key]:"pha",[r.v_.key]:"darwinia-network-native-token",[r.lu.key]:"subsocial",[r.wI.key]:"usd-coin",[r.UX.key]:"usd-coin-wormhole-from-ethereum",[r.ct.key]:"tether",[r.w1.key]:"tether-usd-wormhole",[r.kL.key]:"wrapped-btc-wormhole",[r.pV.key]:"ethereum-wormhole",[r.$A.key]:"interbtc",[r.YM.key]:"bifrost-voucher-astrt",[r.sy.key]:"voucher-dot",[r.r_.key]:"voucher-glmr",[r.OO.key]:"bifrost-voucher-manta",[r.sk.key]:"zeitgeist"},[r.eF.key]:{[r.xe.key]:"acala-dollar",[r.ED.key]:"crust-storage-market",[r.Ez.key]:"karura",[r.gI.key]:"kintsugi-btc",[r.fG.key]:"kintsugi",[r.xq.key]:"calamari-network",[r.DR.key]:"kusama",[r.wV.key]:"lit",[r.rS.key]:"mangata-x",[r.FE.key]:"moonriver",[r.GH.key]:"rmrk",[r.ld.key]:"shiden",[r.kD.key]:"integritee",[r.ct.key]:"tether",[r.Rc.key]:"robonomics-network",[r.b5.key]:"pha",[r.qz.key]:"picasso",[r.vu.key]:"bifrost-native-coin",[r.NC.key]:"voucher-ksm",[r.ym.key]:"voucher-movr"}}},14284:function(e,t,n){"use strict";n.d(t,{Ig:function(){return u},hs:function(){return d},sg:function(){return c}});var r=n(96313),i=n(28420),s=n(76564),a=n(68731),o=n(67294),l=n(26670);function c(e,t){let n=(0,i.A)(),{blockTime:r}=(0,s.Y)();return m((0,o.useMemo)(()=>e&&(0,l.ZP)(null!=n?n:0,e,r),[n,r,e]),t)}function u(e,t){return m(e?new Date().getTime()-1e3*e:0,t)}function d(e,t){let{blockTime:n}=(0,s.Y)();return m((e||0)*n*1e3,t)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,{t:n}=(0,a.$G)(),{days:i,hours:s,minutes:o,seconds:l}=(0,r.E)(e);if(e)return"".concat(e<0?"+":"").concat([i?n("timeDelta.day",{count:i}):null,s?n("timeDelta.hour",{count:s}):null,o?n("timeDelta.minute",{count:o}):null,l?n("timeDelta.second",{count:l}):null].filter(e=>!!e).slice(0,t).join(" "))}},83613:function(e,t,n){"use strict";n.d(t,{P8:function(){return d}});var r=n(13012),i=n(11163),s=n(67294),a=n(35604),o=n(19146),l=n(2621),c=n(40832),u=n(26670);function d(e,t){var n;let d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=(0,o.S)(),{fiatCurrency:k}=(0,l.F)(),f=function(){let{locale:e="en_US"}=(0,i.useRouter)(),{fiatCurrency:t}=(0,l.F)();return(0,s.useMemo)(()=>{var n;return null===(n=Intl.NumberFormat(e,{style:"currency",currency:t}).formatToParts(0).find(e=>"currency"===e.type))||void 0===n?void 0:n.value},[t,e])}(),h=(0,a.b)(),p=(0,c._s)(h,null==e?void 0:e.key),y=p?null==x?void 0:null===(n=x[p])||void 0===n?void 0:n[k]:void 0,b=(0,s.useMemo)(()=>{if(e&&y)return(0,u.li)(e,y,t)},[e,y,t]);return[function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{locale:a="en"}=(0,i.useRouter)();return(0,s.useMemo)(()=>{if(void 0==e)return;let i=new r.Z(e);if(n)return i.toString();let s=i.toNumber();return s.toLocaleString(a,{maximumFractionDigits:t||(s>1?2:s<.1?5:4)})},[e,n,a,t])}(d?y:b,t,m),f]}},40832:function(e,t,n){"use strict";n.d(t,{p_:function(){return x},_s:function(){return c},dV:function(){return m},Is:function(){return d},$Q:function(){return u}});var r=n(66320),i=n(34139),s=n.n(i),a=n(82819),o=n.n(a),l=n(3361);function c(e,t){var n;return t?null===(n=r.u[e])||void 0===n?void 0:n[t]:void 0}function u(){return Object.values(r.u).reduce((e,t)=>[...e,...Object.values(t)],[])}function d(e){return Object.values(e).flat().map(e=>e.coinGeckoId||"").filter(e=>e.length)}async function m(e){let t=new URL("https://api.coingecko.com/api/v3/simple/price"),n=[...new Set(e)];t.searchParams.append("vs_currencies",Object.values(l.e).join(",")),t.searchParams.append("ids",n.join(","));let r=t.toString(),i=o().get(r);if(i)return i;try{let e=await s()(fetch)(t.toString(),{retries:5,retryDelay:1e4,retryOn:[429,503]}),n={responseOk:e.ok,prices:await e.json()};return o().set(r,n,{ttl:600}),n}catch(e){return{responseOk:!1,error:e.message}}}async function x(e){let t=new URL("https://api.coingecko.com/api/v3/coins/".concat(e));return(await s()(fetch)(t.toString(),{retries:5,retryDelay:8e3,retryOn:[429,503]})).ok}},19146:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var r=n(67294),i=n(4480),s=n(94825),a=n(40832);let o=(0,a.$Q)();function l(){let[e,t]=(0,r.useState)(),n=(0,i.sJ)(s.Xe);return(0,r.useEffect)(()=>{let e=(0,a.Is)(n);(0,a.dV)([...o,...e]).then(e=>{e&&(e.responseOk?t(e.prices):console.error(e.error))})},[n]),e}},94825:function(e,t,n){"use strict";n.d(t,{Xe:function(){return a},j3:function(){return k},DM:function(){return f}});var r=n(53084),i=n(4480),s=n(71191);let a=(0,i.cn)({key:"importedTokens",default:{[r.Ai.key]:[],[r.eF.key]:[],[r.tb.key]:[]},effects:[(0,s.n)("imported-tokens")]});var o=n(50351),l=n(43417),c=n(90300),u=n(76564),d=n(35604),m=n(67294),x=n(37122);function k(){let e=(0,d.b)(),t=(0,c.S)(),n=(0,x.Z)(),[r,s]=(0,i.FV)(a),o=(0,m.useCallback)(async r=>{try{return await (0,l.s)(n,{address:t,token:r.contractAddress}),s(t=>t[e].some(e=>e.contractAddress===r.contractAddress)?t:{...t,[e]:[...t[e],r]}),!0}catch(e){return!1}},[s,e,t,n]),u=(0,m.useCallback)(t=>r[e].some(e=>e.contractAddress===t),[r,e]),k=(0,m.useCallback)(t=>{s(n=>({...n,[e]:n[e].filter(e=>e.contractAddress!==t)}))},[s,e]);return{addImportedToken:o,isTokenImported:u,importedTokens:r[e],removeImportedToken:k}}function f(){let e=(0,c.S)(),t=(0,d.b)(),n=(0,x.Z)(),{name:r}=(0,u.Y)(),s=(0,i.sJ)(a),[k,f]=(0,m.useState)();return(0,m.useEffect)(()=>{if(!e)return;let r=s[t]||[];Promise.all(null==r?void 0:r.map(t=>(0,l.s)(n,{address:e,token:t.contractAddress}))).then(e=>f(e.map((e,t)=>{let{decimals:n,symbol:i,value:s}=e;return{balance:new o.nE({amount:s,decimals:n,key:i.toLocaleLowerCase(),originSymbol:i,symbol:i}),coinGeckoId:r[t].coinGeckoId,erc20Id:r[t].contractAddress,isImported:!0,isNative:!1}})))},[s,t,e,r,n]),k}},89941:function(e){e.exports={card:"Balance_card__ra1dz",chartBox:"Balance_chartBox__ZM0aF"}},19951:function(e){e.exports={contentDiv:"StakingRewards_contentDiv__fS50W",chartDiv:"StakingRewards_chartDiv__cbcic"}},88247:function(e){e.exports={paper:"Announcement_paper__Iqn6k",paperImportant:"Announcement_paperImportant__LcZGC",title:"Announcement_title__xTGIB",titleImportant:"Announcement_titleImportant__Vm_Pc",link:"Announcement_link__7kwxl",linkImportant:"Announcement_linkImportant__WM9mg"}}}]);
//# sourceMappingURL=4693-5512c7c0969615ad.js.map