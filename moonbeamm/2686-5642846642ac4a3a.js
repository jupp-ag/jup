(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2686],{97513:function(e,t,n){"use strict";n.d(t,{F:function(){return er}});var r=n(85893),i=n(51906),o=n(53975),s=n(38878),a=n(28008),l=n(10576),c=n(54410),u=n(356),d=n(1032),m=n(33583),k=n(60967),x=n(88591),f=n(95490),h=n(54903),p=n(69469),y=n(532),b=n(41664),j=n.n(b),g=n(18644),v=n(5278),w=n.n(v),S=n(65984),_=n(55541),D=n(20321),A=n(23148),C=n(39723),I=n(77928),F=n(91695),M=n(67294),Z=n(26495),z=n(8205),R=n(64211);function E(e){let{free:t,lockedStaking:n,lockedDemocracy:i}=e,{t:o}=(0,y.$G)(),s=(0,S.rZ)(),a=(0,C.G)(),{decimals:l}=(0,I.Y)(),{areBalancesVisible:c}=(0,z.F)(),{themeColors:u}=(0,F._)(),d=a?s.other.colors.balanceChartDark:s.other.colors.balanceChartLight,m=(0,M.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:16,boxHeight:8,boxWidth:10,filter:e=>e.text!==o("lockedStaked"),color:u.texts,font:{family:s.fontFamily,weight:700,size:Number((0,_.px)(s.fontSizes.md))}}},tooltip:{enabled:c,backgroundColor:s.other.colors.tooltip}},cutout:40}),[o,s,c,u]),k=(0,M.useMemo)(()=>{let e=i<n?i:n,r=[d[0],d[1],(0,R.n)(d[1],d[2]),d[2]];return{labels:[o("free"),o("reserved"),o("lockedStaked"),o("locked")],datasets:[{data:[+(0,D.YM)(t,l,6),+(0,D.YM)(n-e,l,6),+(0,D.YM)(e,l,6),+(0,D.YM)(i-e,l,6)],backgroundColor:r,hoverBackgroundColor:r,borderWidth:0}]}},[i,n,d,o,t,l]);return(0,r.jsx)(Z.$I,{data:k,options:m})}function Y(e){let{address:t,isStakingPage:n}=e,{t:i}=(0,y.$G)(),o=(0,h.q)(t),{isCurrentPath:b,fullPath:v}=(0,p.j)("staking");return(0,r.jsxs)(s.Z,{p:"xl",className:w().card,children:[(0,r.jsx)(a.D,{order:2,size:"h4",mb:"lg",children:i("balance")}),(0,r.jsx)("div",{className:w().chartBox,children:!!o&&(0,r.jsx)(E,{free:o.free,lockedStaking:o.lockedStaking,lockedDemocracy:o.lockedDemocracy})}),(0,r.jsx)(l.i,{mt:"lg"}),(0,r.jsxs)(c.x,{mt:"sm",fw:"bold",children:[i("total"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==o?void 0:o.total,isHidable:!0,maxDecimals:6})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i(n?"availableForStaking":"freeBalance"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:n?null==o?void 0:o.availableForStaking:null==o?void 0:o.free,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i(n?"availableForStakingTooltip":"freeBalanceTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i("reservedStaking"),(null==o?void 0:o.lockedStaking)===0n&&o.availableForStaking>0n&&!b?(0,r.jsx)(k.e,{component:j(),href:v,td:"none",children:(0,r.jsx)(m.x,{display:"inline-block",children:(0,r.jsx)(x.K,{size:"compact-sm",ml:"sm",children:i("startStaking")})})}):(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==o?void 0:o.lockedStaking,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i("reservedStakingTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]}),(0,r.jsxs)(u.Z,{mt:"sm",justify:"space-between",children:[(0,r.jsxs)(c.x,{fw:"bold",children:[i("lockedDemocracy"),(0,r.jsx)(f.Y,{span:!0,ml:"sm",fw:"normal",amount:null==o?void 0:o.lockedDemocracy,isHidable:!0,maxDecimals:6})]}),(0,r.jsx)(d.u,{label:i("lockedDemocracyTooltip"),multiline:!0,w:300,withArrow:!0,children:(0,r.jsx)(m.x,{children:(0,r.jsx)(g.ib5,{})})})]})]})}A.kL.register(A.qi,A.De,A.u);var H=n(91166),G=n(3119),N=n(90991),B=n(8207),L=n(11163),O=n(80024),P=n(42600),T=n(50427),$=n(96721),q=n(34818);let K=e=>{let{reward:t,index:n}=e,i=(0,q.Ig)(t.block_timestamp),o=0===n;return(0,r.jsxs)(m.x,{children:[!o&&(0,r.jsx)(l.i,{mr:"xs"}),(0,r.jsxs)(u.Z,{justify:"space-between",pb:"xs",pt:o?0:"xs",children:[(0,r.jsx)(f.Y,{amount:t.amount,size:"sm",maxDecimals:4,isHidable:!0}),(0,r.jsx)(c.x,{fw:"lighter",size:"xs",mr:"xs",children:i})]})]})};var V=n(89088);let W=e=>{let{show:t,address:n,latestRewards:i}=e,{t:o}=(0,y.$G)(),{subscanUrl:a}=(0,I.Y)(),l=i.map((e,t)=>(0,r.jsx)(K,{reward:e,index:t},e.block_timestamp));return(0,r.jsx)(T.u,{mounted:t,transition:"slide-left",duration:400,timingFunction:"ease",children:e=>(0,r.jsx)(s.Z,{style:e,withBorder:!0,hidden:!t,pb:6,pr:6,children:(0,r.jsxs)(B.K,{gap:"xs",children:[(0,r.jsx)($.x,{h:234,pt:0,scrollbarSize:6,children:l}),(0,r.jsx)(N.M,{children:(0,r.jsx)(V.H,{link:"".concat(a,"/account/").concat(n,"?tab=reward"),label:o("goToSubscan")})})]})})})};var U=n(83795),X=n(38548),J=n(98656);function Q(e){let{labels:t,rewards:n}=e,i=(0,S.rZ)(),{decimals:o}=(0,I.Y)(),{areBalancesVisible:s}=(0,z.F)(),{themeColors:a}=(0,F._)(),l=(0,M.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1},ticks:{color:a.texts,padding:10,font:{family:i.fontFamily}},offset:!0},y:{min:0,border:{display:!1},ticks:{color:a.texts,padding:10,count:4,font:{family:i.fontFamily}}}},plugins:{legend:{display:!1},tooltip:{enabled:s,intersect:!1,displayColors:!1,callbacks:{title:()=>""}}}}),[i,s,a]),c=(0,M.useMemo)(()=>({labels:t,datasets:[{data:n.map(e=>+(0,D.YM)(e,o,10)),borderColor:i.colors[i.primaryColor][8],backgroundColor:e=>{let t=e.chart.ctx.createLinearGradient(0,0,0,e.chart.canvas.height);return t.addColorStop(0,"".concat(i.colors[i.primaryColor][8],"40")),t.addColorStop(.8,"".concat(i.colors[i.primaryColor][8],"00")),t},pointRadius:0,borderWidth:1,fill:!0,tension:.2}]}),[i,t,n,o]);return(0,r.jsx)(Z.x1,{data:c,options:l})}A.kL.register(A.uw,A.f$,A.od,A.jn,A.Gu);var ee=n(69110),et=n.n(ee);function en(e){var t;let{address:n,showHistoricalRewardRate:i}=e,{t:o}=(0,y.$G)(),l=(0,X.dD)(),b=(0,h.q)(n),{isCurrentPath:v,fullPath:w}=(0,p.j)("staking"),{width:_}=(0,P.n)(),[D,A]=(0,M.useState)(!1),{isLoading:C,labels:Z,hasFailed:z,rewards:E,latestRewards:Y}=function(e,t){let{locale:n="en_US"}=(0,L.useRouter)(),{subscanApiUrl:r}=(0,I.Y)(),[i,o]=(0,M.useState)(Array(7).fill(0n)),[s,a]=(0,M.useState)([]),[l,c]=(0,M.useState)(!1),[u,d]=(0,M.useState)(!1),m=(0,M.useMemo)(()=>Array(7).fill(void 0).map((e,t)=>{let r=new Date;return r.setDate(new Date().getDate()-(7-t)+1),(0,R.mn)(r,n)}),[n,t]);return(0,M.useEffect)(()=>{if(!e)return;let i=new AbortController,s=function(e){let t=new Date;return t.setDate(t.getDate()-e+1),t.setHours(0,0,0,0)/1e3}(t);return(async()=>{d(!1),c(!0);try{let{rewardsPerDay:t,latestRewards:l}=function(e,t,n,r){let i=Array(t.length).fill(0n),o=[];return e.filter((e,t)=>(t<12&&o.push(e),e.block_timestamp>r)).forEach(e=>{let r=new Date(1e3*e.block_timestamp),o=t.indexOf((0,R.mn)(r,n));i[o]+=BigInt(e.amount)}),{rewardsPerDay:i,latestRewards:o}}(await (0,O.FB)(e,r,i.signal,s),m,n,s);o(t),a(l),c(!1)}catch(e){e instanceof Error&&"AbortError"!==e.name&&(d(!0),c(!1))}})(),()=>{i.abort()}},[e,t,m,n,r]),{isLoading:l,labels:m,hasFailed:u,rewards:i,latestRewards:s}}(n,7),{themeColors:T}=(0,F._)(),{other:{colors:$}}=(0,S.rZ)(),q=(0,M.useRef)(null),[K,V]=(0,M.useState)((null===(t=q.current)||void 0===t?void 0:t.offsetWidth)||0);(0,M.useEffect)(()=>{var e;V((null===(e=q.current)||void 0===e?void 0:e.offsetWidth)||0)},[q,_]);let ee=(0,M.useMemo)(()=>E.reduce((e,t)=>e+t,0n),[E]),en=(0,M.useMemo)(()=>i?(0,J.g1)(ee,null==b?void 0:b.lockedStaking):void 0,[ee,b,i]),er=(null==b?void 0:b.lockedStaking)===0n&&0n===ee&&!v,ei=D?"hideDetails":"moreDetails",eo=i?720:600,es=D&&K<=eo;return(0,r.jsxs)(s.Z,{p:"xl",pb:8,ref:q,children:[(0,r.jsxs)(u.Z,{justify:"space-between",mb:"lg",children:[(0,r.jsx)(a.D,{order:2,size:"h4",children:o("latestStakingRewards")}),Y.length&&(0,r.jsx)(H.k,{onClick:()=>A(!D),"aria-label":ei,children:(0,r.jsxs)(u.Z,{gap:"xs",children:[(0,r.jsx)(c.x,{children:o(ei)}),D?(0,r.jsx)(g.gYP,{color:$.action}):(0,r.jsx)(g.SZ3,{color:$.action})]})})]}),(0,r.jsxs)("div",{className:et().contentDiv,children:[(0,r.jsx)(G.f,{visible:C,overlayProps:{opacity:0,blur:1},zIndex:100,"data-testid":"staking-rewards-loading-overlay"}),er?(0,r.jsx)(N.M,{h:"100%",children:(0,r.jsx)(k.e,{component:j(),href:w,td:"none",children:(0,r.jsx)(m.x,{children:(0,r.jsx)(x.K,{children:o("startStaking")})})})}):z?(0,r.jsx)(c.x,{size:"sm",ta:"center",children:o("subscanConnectionError")}):(0,r.jsxs)(u.Z,{justify:"space-between",children:[(0,r.jsxs)(m.x,{w:D?K-290:"100%",children:[(0,r.jsxs)(u.Z,{justify:"space-between",gap:"xl",children:[(0,r.jsxs)(B.K,{gap:0,children:[(0,r.jsx)(f.Y,{amount:ee,maxDecimals:6,fz:24,isHidable:!0,lh:1}),(0,r.jsx)(U.V,{amount:ee,c:T.texts,fz:"sm",isHidable:!0}),(0,r.jsx)(c.x,{size:"sm",children:o("latestStakingRewardsDays",{days:7})})]}),(0,r.jsxs)(B.K,{gap:0,children:[en&&(0,r.jsxs)(u.Z,{gap:"xs",children:[o(l?"HRR":"staking:historicalRewardRate"),(0,r.jsx)(d.u,{label:(0,r.jsx)(y.cC,{i18nKey:"staking:historicalRewardRateTooltip",components:{bold:(0,r.jsx)(c.x,{fw:"bolder",ta:"center"})}}),w:400,multiline:!0,withArrow:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(g.HjO,{style:{verticalAlign:"middle"}})})})]}),en&&(0,r.jsxs)(c.x,{size:"xl",ta:"end",children:[en," ","%"]})]})]}),(0,r.jsx)(m.x,{className:et().chartDiv,hidden:es,children:(0,r.jsx)(Q,{rewards:E,labels:Z})})]}),(0,r.jsx)(W,{show:D,address:n,latestRewards:Y})]})]})]})}let er=e=>{let{address:t,isStakingPage:n,showHistoricalRewardRate:s}=e;return(0,o.t)()?(0,r.jsxs)(i.r,{children:[(0,r.jsx)(i.r.Col,{span:{sm:12,md:12,lg:5,xl:4},children:(0,r.jsx)(Y,{address:t,isStakingPage:n})}),(0,r.jsx)(i.r.Col,{span:{sm:12,md:12,lg:7,xl:8},children:(0,r.jsx)(en,{address:t,showHistoricalRewardRate:s})})]}):null}},83795:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(85893),i=n(50351),o=n(7919),s=n(77928);function a(e){let{amount:t,...n}=e,{asset:a,decimals:l}=(0,s.Y)(),c=i.nE.fromAsset(a,{amount:t,decimals:l});return(0,r.jsx)(o.B,{assetAmount:c,...n})}},7919:function(e,t,n){"use strict";n.d(t,{B:function(){return f}});var r=n(85893),i=n(1032),o=n(54410),s=n(65984),a=n(76556),l=n(84050),c=n(53975),u=n(532),d=n(67294),m=n(18644),k=n(8205);function x(e){let{assetAmount:t,maxDecimals:n,showPrice:s=!1,isHidable:a=!1,...d}=e,{t:x}=(0,u.$G)(),f=(0,c.t)(),{areBalancesVisible:h}=(0,k.F)(),[p,y]=(0,l.P8)(t,n,s);if(!f)return null;let b=a&&!h;return(0,r.jsx)(i.u,{disabled:!!p||b,label:x("priceNotFound"),children:(0,r.jsxs)(o.x,{span:!0,...d,children:[y,b?"****":p||(0,r.jsxs)(r.Fragment,{children:["-.- ",(0,r.jsx)(m.HjO,{style:{verticalAlign:"middle"}})]})]})})}function f(e){let t=(0,s.rZ)();return(0,r.jsx)(d.Suspense,{fallback:(0,r.jsx)(a.a,{size:"xs",color:t.colors.gray[4]}),children:(0,r.jsx)(x,{...e})})}},94939:function(e,t,n){"use strict";n.d(t,{W:function(){return _},$:function(){return C}});var r=n(85893),i=n(51906),o=n(81832),s=n(66657),a=n(21170),l=n(53975),c=n(65984),u=n(34124),d=n(80405),m=n(8207),k=n(28008),x=n(60967),f=n(356),h=n(89088),p=n(532),y=n(41664),b=n.n(y),j=n(18644),g=n(8690),v=n.n(g);let w=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t?e.other.colors.announcementsLink.important:e.other.colors.announcementsLink.regular};function S(e){let{announcement:{title:t,link:n,image:i=""},isImportant:o}=e,{t:a}=(0,p.$G)(),l=(0,s.b)(),y=(0,c.rZ)();return(0,r.jsx)(u.X,{className:o?v().paperImportant:v().paper,p:0,children:(0,r.jsx)(d.X,{src:i,radius:"md",p:"xl",style:{backgroundPosition:"top"},children:(0,r.jsxs)(m.K,{justify:"space-between",mih:100,children:[(0,r.jsx)(k.D,{order:2,size:"h3",className:o?v().titleImportant:v().title,children:t}),n&&(0,r.jsxs)(r.Fragment,{children:[n.url&&(0,r.jsx)(h.H,{link:n.url,label:n.label||a("getMoreInfo"),className:v().link,fw:"bold",size:"md",c:w(y,o)}),n.path&&(0,r.jsx)(b(),{href:{pathname:"/[moonChainKey]".concat(n.path),query:{moonChainKey:l}},passHref:!0,children:(0,r.jsx)(x.e,{fw:"bold",className:v().link,children:(0,r.jsxs)(f.Z,{gap:0,children:[n.label||a("getMoreInfo"),(0,r.jsx)(j.qvS,{size:"20",style:{marginLeft:10}})]})})})]})]})})})}function _(){let{isEnabled:e,announcements:t}=function(){let{overview_announcements:e}=(0,o.useFlags)(["overview_announcements"]),t=(0,s.b)();try{var n;return{isEnabled:e.enabled,announcements:function(e,t){if(!t)return[];let n=(0,a.Mo)(t);return[...n.global||[],...n[e]||[]]}(t,null===(n=e.value)||void 0===n?void 0:n.toString())}}catch(e){return console.error("Error decoding overview announcements",e),{isEnabled:!1,announcements:[]}}}(),n=(0,l.t)();return e&&n&&t.length?(0,r.jsx)(i.r,{children:t.map((e,t)=>(0,r.jsx)(i.r.Col,{span:{sm:12,md:6,xl:4},children:(0,r.jsx)(S,{announcement:e,isImportant:e.important||0===t})},t))}):null}var D=n(54680),A=n(54410);let C=()=>{let e=(0,c.rZ)(),{isEnabled:t,announcement:n}=function(){let{staking_announcement:e}=(0,o.useFlags)(["staking_announcement"]),t=(0,s.b)();try{var n;return{isEnabled:e.enabled,announcement:function(e,t){if(!t)return;let n=(0,a.Mo)(t);return n[e]||n.global||void 0}(t,null===(n=e.value)||void 0===n?void 0:n.toString())}}catch(e){return console.error("Error decoding staking announcement",e),{isEnabled:!1,announcement:void 0}}}();return t&&n?(0,r.jsx)(D.b,{radius:"lg",maw:600,className:v().paperImportant,p:"sm",pl:"md",children:(0,r.jsx)(A.x,{ta:"center",children:(0,r.jsx)(h.H,{size:"md",link:n.link,label:n.text,c:w(e)})})}):null}},7083:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(53084);let i={[r.Ai.key]:{[r.zb.key]:"acala",[r.xF.key]:"astar",[r.xe.key]:"acala-dollar-acala",[r.Zm.key]:"axlusdc",[r.vu.key]:"bifrost-native-coin",[r.LT.key]:"centrifuge",[r.xV.key]:"dai",[r.AK.key]:"polkadot",[r.eq.key]:"equilibrium-token",[r.A1.key]:"hydradx",[r.gc.key]:"filecoin",[r.B0.key]:"moonbeam",[r.o4.key]:"interlay",[r.Is.key]:"liquid-staking-dot",[r.fM.key]:"manta-network",[r.KT.key]:"nodle-network",[r.aJ.key]:"parallel-finance",[r.So.key]:"pendulum-chain",[r.b5.key]:"pha",[r.v_.key]:"darwinia-network-native-token",[r.lu.key]:"subsocial",[r.wI.key]:"usd-coin",[r.UX.key]:"usd-coin-wormhole-from-ethereum",[r.ct.key]:"tether",[r.w1.key]:"tether-usd-wormhole",[r.kL.key]:"wrapped-btc-wormhole",[r.pV.key]:"ethereum-wormhole",[r.$A.key]:"interbtc",[r.YM.key]:"bifrost-voucher-astr",[r.sy.key]:"voucher-dot",[r.r_.key]:"voucher-glmr",[r.OO.key]:"bifrost-voucher-manta",[r.sk.key]:"zeitgeist"},[r.eF.key]:{[r.xe.key]:"acala-dollar",[r.ED.key]:"crust-storage-market",[r.Ez.key]:"karura",[r.gI.key]:"kintsugi-btc",[r.fG.key]:"kintsugi",[r.xq.key]:"calamari-network",[r.DR.key]:"kusama",[r.rS.key]:"mangata-x",[r.FE.key]:"moonriver",[r.GH.key]:"rmrk",[r.ld.key]:"shiden",[r.kD.key]:"integritee",[r.CS.key]:"tinkernet",[r.jD.key]:"turing-network",[r.ct.key]:"tether",[r.Rc.key]:"robonomics-network",[r.b5.key]:"pha",[r.qz.key]:"picasso",[r.vu.key]:"bifrost-native-coin",[r.NC.key]:"voucher-ksm",[r.ym.key]:"voucher-movr"}}},34818:function(e,t,n){"use strict";n.d(t,{Ig:function(){return u},hs:function(){return d},sg:function(){return c}});var r=n(96313),i=n(18621),o=n(77928),s=n(532),a=n(67294),l=n(98656);function c(e,t){let n=(0,i.A)(),{blockTime:r}=(0,o.Y)();return m((0,a.useMemo)(()=>e&&(0,l.ZP)(null!=n?n:0,e,r),[n,r,e]),t)}function u(e,t){return m(e?new Date().getTime()-1e3*e:0,t)}function d(e,t){let{blockTime:n}=(0,o.Y)();return m((e||0)*n*1e3,t)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,{t:n}=(0,s.$G)(),{days:i,hours:o,minutes:a,seconds:l}=(0,r.E)(e);if(e)return"".concat(e<0?"+":"").concat([i?n("timeDelta.day",{count:i}):null,o?n("timeDelta.hour",{count:o}):null,a?n("timeDelta.minute",{count:a}):null,l?n("timeDelta.second",{count:l}):null].filter(e=>!!e).slice(0,t).join(" "))}},84050:function(e,t,n){"use strict";n.d(t,{P8:function(){return d}});var r=n(13012),i=n(11163),o=n(67294),s=n(66657),a=n(84096),l=n(8205),c=n(83385),u=n(98656);function d(e,t){var n;let d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments.length>3&&void 0!==arguments[3]&&arguments[3],k=(0,a.S)(),{fiatCurrency:x}=(0,l.F)(),f=function(){let{locale:e="en_US"}=(0,i.useRouter)(),{fiatCurrency:t}=(0,l.F)();return(0,o.useMemo)(()=>{var n;return null===(n=Intl.NumberFormat(e,{style:"currency",currency:t}).formatToParts(0).find(e=>"currency"===e.type))||void 0===n?void 0:n.value},[t,e])}(),h=(0,s.b)(),p=(0,c._s)(h,null==e?void 0:e.key),y=p?null==k?void 0:null===(n=k[p])||void 0===n?void 0:n[x]:void 0,b=(0,o.useMemo)(()=>{if(e&&y)return(0,u.li)(e,y,t)},[e,y,t]);return[function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{locale:s="en"}=(0,i.useRouter)();return(0,o.useMemo)(()=>{if(void 0==e)return;let i=new r.Z(e);if(n)return i.toString();let o=i.toNumber();return o.toLocaleString(s,{maximumFractionDigits:t||(o>1?2:o<.1?5:4)})},[e,n,s,t])}(d?y:b,t,m),f]}},83385:function(e,t,n){"use strict";n.d(t,{p_:function(){return k},_s:function(){return c},dV:function(){return m},Is:function(){return d},$Q:function(){return u}});var r=n(7083),i=n(34139),o=n.n(i),s=n(82819),a=n.n(s),l=n(60963);function c(e,t){var n;return t?null===(n=r.u[e])||void 0===n?void 0:n[t]:void 0}function u(){return Object.values(r.u).reduce((e,t)=>[...e,...Object.values(t)],[])}function d(e){return Object.values(e).flat().map(e=>e.coinGeckoId||"").filter(e=>e.length)}async function m(e){let t=new URL("https://api.coingecko.com/api/v3/simple/price"),n=[...new Set(e)];t.searchParams.append("vs_currencies",Object.values(l.e).join(",")),t.searchParams.append("ids",n.join(","));let r=t.toString(),i=a().get(r);if(i)return i;try{let e=await o()(fetch)(t.toString(),{retries:5,retryDelay:1e4,retryOn:[429,503]}),n={responseOk:e.ok,prices:await e.json()};return a().set(r,n,{ttl:600}),n}catch(e){return{responseOk:!1,error:e.message}}}async function k(e){let t=new URL("https://api.coingecko.com/api/v3/coins/".concat(e));return(await o()(fetch)(t.toString(),{retries:5,retryDelay:8e3,retryOn:[429,503]})).ok}},84096:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var r=n(67294),i=n(4480),o=n(73376),s=n(83385);let a=(0,s.$Q)();function l(){let[e,t]=(0,r.useState)(),n=(0,i.sJ)(o.Xe);return(0,r.useEffect)(()=>{let e=(0,s.Is)(n);(0,s.dV)([...a,...e]).then(e=>{e&&(e.responseOk?t(e.prices):console.error(e.error))})},[n]),e}},73376:function(e,t,n){"use strict";n.d(t,{Xe:function(){return s},j3:function(){return x},DM:function(){return f}});var r=n(53084),i=n(4480),o=n(16642);let s=(0,i.cn)({key:"importedTokens",default:{[r.Ai.key]:[],[r.eF.key]:[],[r.tb.key]:[]},effects:[(0,o.n)("imported-tokens")]});var a=n(50351),l=n(43417),c=n(2359),u=n(77928),d=n(66657),m=n(67294),k=n(37122);function x(){let e=(0,d.b)(),t=(0,c.S)(),n=(0,k.Z)(),[r,o]=(0,i.FV)(s),a=(0,m.useCallback)(async r=>{try{return await (0,l.s)(n,{address:t,token:r.contractAddress}),o(t=>t[e].some(e=>e.contractAddress===r.contractAddress)?t:{...t,[e]:[...t[e],r]}),!0}catch(e){return console.error(e),!1}},[o,e,t,n]),u=(0,m.useCallback)(t=>r[e].some(e=>e.contractAddress===t),[r,e]),x=(0,m.useCallback)(t=>{o(n=>({...n,[e]:n[e].filter(e=>e.contractAddress!==t)}))},[o,e]);return{addImportedToken:a,isTokenImported:u,importedTokens:r[e],removeImportedToken:x}}function f(){let e=(0,c.S)(),t=(0,d.b)(),n=(0,k.Z)(),{name:r}=(0,u.Y)(),o=(0,i.sJ)(s),[x,f]=(0,m.useState)();return(0,m.useEffect)(()=>{if(!e)return;let r=o[t]||[];Promise.all(null==r?void 0:r.map(t=>(0,l.s)(n,{address:e,token:t.contractAddress}))).then(e=>f(e.map((e,t)=>{let{decimals:n,symbol:i,value:o}=e;return{balance:new a.nE({amount:o,decimals:n,key:i.toLocaleLowerCase(),originSymbol:i,symbol:i}),coinGeckoId:r[t].coinGeckoId,erc20Id:r[t].contractAddress,isImported:!0,isNative:!1}})))},[o,t,e,r,n]),x}},5278:function(e){e.exports={card:"Balance_card__ra1dz",chartBox:"Balance_chartBox__ZM0aF"}},69110:function(e){e.exports={contentDiv:"StakingRewards_contentDiv__fS50W",chartDiv:"StakingRewards_chartDiv__cbcic"}},8690:function(e){e.exports={paper:"Announcement_paper__Iqn6k",paperImportant:"Announcement_paperImportant__LcZGC",title:"Announcement_title__xTGIB",titleImportant:"Announcement_titleImportant__Vm_Pc",link:"Announcement_link__7kwxl",linkImportant:"Announcement_linkImportant__WM9mg"}}}]);
//# sourceMappingURL=2686-5642846642ac4a3a.js.map