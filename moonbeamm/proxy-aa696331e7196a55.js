(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6962],{28315:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[moonChainKey]/proxy",function(){return n(43474)}])},15934:function(e,r,n){"use strict";n.d(r,{s:function(){return a}});var l=n(85893),t=n(356),i=n(54410),s=n(42201),d=n(81127),o=n(97683);let a=e=>{let{address:r,withAddress:n=!1}=e,a=(0,d.j)(r),c=a&&a.display;return(0,l.jsxs)(t.Z,{gap:"xs",children:[(0,l.jsx)(s.q,{size:30,address:r}),(0,l.jsx)(i.x,{children:(0,o.Fu)(a,r)}),n&&c&&(0,l.jsx)(i.x,{children:(0,o.Fu)(void 0,r,5,5)})]})}},73148:function(e,r,n){"use strict";n.d(r,{P:function(){return d}});var l=n(85893),t=n(8207),i=n(54410),s=n(65890);let d=e=>{let{label:r,...n}=e;return(0,l.jsxs)(t.K,{my:"md",align:"center",...n,children:[(0,l.jsx)(s.cD2,{size:45}),(0,l.jsx)(i.x,{children:r})]})}},41390:function(e,r,n){"use strict";n.d(r,{t:function(){return a}});var l=n(85893),t=n(356),i=n(41959),s=n(69084),d=n(532),o=n(67294);let a=e=>{let{total:r,activePage:n,setActivePage:a,recordsPerPage:c=10,setRecordsPerPage:x}=e,{t:u}=(0,d.$G)(),h=(0,o.useMemo)(()=>[...Array(10).keys()].map(e=>{let r=5*e+5;return{value:"".concat(r),label:u("perPage",{count:r})}}),[u]);return(0,l.jsxs)(t.Z,{justify:"flex-end",children:[(0,l.jsx)(i.t,{value:n,onChange:a,total:Math.ceil((null!=r?r:0)/c),getControlProps:e=>"previous"===e?{"aria-label":u("icons.pagination.previous")}:"next"===e?{"aria-label":u("icons.pagination.next")}:{}}),x&&(0,l.jsx)(s.P,{style:{width:140},placeholder:u("perPage",{count:c}),data:h,onChange:e=>{x(+e),a(1)}})]})}},81780:function(e,r,n){"use strict";n.d(r,{H:function(){return a}});var l=n(7087),t=n(77928),i=n(78551),s=n(67294),d=n(3577);let o=[d.Iz.Any,d.Iz.NonTransfer];function a(e,r){let{data:n,isLoading:d}=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],r=(0,l.h)(),{key:n}=(0,t.Y)();return(0,i.a)({queryKey:["all-proxies",n],queryFn:async()=>{let e=await (null==r?void 0:r.query.proxy.proxies.entries());return e?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={};return e.forEach(function(){var e,n;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l.length&&(null===(n=l[1])||void 0===n||null===(e=n[0])||void 0===e||e.forEach(e=>{var n;let{delegate:t,delay:i,proxyType:s}=e,d=null===(n=l[0])||void 0===n?void 0:n.args[0].toString(),o=s.toString(),a=i.toNumber(),c=t.toString();r[c]||(r[c]=[]),!a&&d&&r[c].push({address:d,proxyType:o})}))}),r}(e):void 0},enabled:!!r&&e})}(!!e),a=(0,s.useMemo)(()=>{if(n&&e)return(null==n?void 0:n[e])?r?n[e].filter(e=>{var n;return r===(n=e.proxyType)||o.includes(n)}):n[e]:[]},[n,e,r]);return{accounts:a,isLoading:d||!!e&&!d&&!a}}},83585:function(e,r,n){"use strict";n.d(r,{f:function(){return s}});var l=n(7087),t=n(468);function i(e){return e[0].map(e=>({delegate:e.delegate.toString(),proxyType:e.proxyType.toString(),proxyTypeIndex:e.proxyType.toNumber(),delay:e.delay.toNumber()}))}function s(e){let r=(0,l.h)();return(0,t.k)(null==r?void 0:r.query.proxy.proxies,[e||void 0],i)}},43474:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return ea},default:function(){return ec}});var l=n(85893),t=n(43078),i=n(28008),s=n(356),d=n(1032),o=n(33583),a=n(65984),c=n(8207),x=n(38878),u=n(86414),h=n(69084),j=n(3249),p=n(81441),y=n(83215),g=n(68229),v=n(41994),f=n(16476),m=n(3577),T=n(61091);let b=f.Q.ADD_PROXY;var P=n(532),A=n(49367);let w=e=>{let{proxy:r,disabled:n,onConfirmed:t,...i}=e,{t:s}=(0,P.$G)("proxy"),{writeContract:d,isPending:o}=function(e){let{address:r,proxyTypeIndex:n,delay:l,onConfirmed:t,onError:i}=e;return(0,v.k)({action:b,contractAddress:m.Zg,contractAbi:m.Ak,functionName:T.dl.ADD_PROXY,args:[r,n,l],onConfirmed:t,onError:i})}({address:r.delegate,proxyTypeIndex:r.proxyTypeIndex,delay:r.delay,onConfirmed(){null==t||t()}});return(0,l.jsx)(g.h,{checkMoonChain:!0,fullWidth:!0,loading:o,onClick:d,disabled:o||n,leftSection:(0,l.jsx)(A.Zev,{size:"20"}),...i,children:s("addProxy")})};var _=n(67294),k=n(1604);let C=k.z.object({address:k.z.string().length(42).startsWith("0x").regex(/^[a-zA-Z0-9]+$/),selectedType:k.z.object({label:k.z.string(),value:k.z.string()}),delay:k.z.number().nonnegative().int()}),S=()=>{let{t:e}=(0,P.$G)("proxy"),r=(0,p.c)({validate:(0,y.F)(C),initialValues:{address:"",selectedType:m.tQ[0],delay:0},validateInputOnChange:!0}),n=(0,_.useMemo)(()=>({delegate:r.values.address,proxyTypeIndex:Number(r.values.selectedType.value),delay:r.values.delay}),[r.values.address,r.values.delay,r.values.selectedType]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.Z,{mih:100,children:(0,l.jsxs)(s.Z,{align:"flex-start",children:[(0,l.jsx)(u.o,{label:e("proxyAddress"),placeholder:"0x...",required:!0,...r.getInputProps("address"),w:240}),(0,l.jsx)(h.P,{label:e("proxyType"),data:m.tQ,onChange:(e,n)=>{n&&r.setFieldValue("selectedType",n)},value:r.values.selectedType.value,required:!0,w:205}),(0,l.jsx)(j.Y,{allowDecimal:!1,allowNegative:!1,label:e("delayInBlocks"),placeholder:"0",...r.getInputProps("delay"),onChange:e=>{r.setFieldValue("delay",Number(e))},required:!0,w:200}),(0,l.jsx)(o.x,{mt:"xl",children:(0,l.jsx)(w,{proxy:n,disabled:!r.isValid(),onConfirmed:r.reset,w:200})})]})})})};var z=n(76556),E=n(99704),N=n(73148),Z=n(54410),M=n(48506);let O=e=>{let{label:r,iconSize:n,...t}=e,{t:i}=(0,P.$G)("common"),s=r||i("notConnected",{ns:"common"});return(0,l.jsxs)(c.K,{my:"md",align:"center",...t,children:[(0,l.jsx)(M.U0G,{size:n||45}),(0,l.jsx)(Z.x,{children:s})]})};var F=n(41390),I=n(15934);let G=e=>{let{rowHeight:r,proxy:n,index:t}=e;return(0,l.jsxs)(E.i.Tr,{h:r,children:[(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(Z.x,{ta:"center",children:"#".concat(t+1)})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(s.Z,{children:(0,l.jsx)(I.s,{address:n.address,withAddress:!0})})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(Z.x,{children:n.proxyType})})]})};var R=n(81780),$=n(2359),D=n(66625),X=n.n(D);let q=()=>{let{t:e}=(0,P.$G)("proxy"),[r,n]=(0,_.useState)(1),t=(0,$.S)(),{accounts:i,isLoading:d}=(0,R.H)(t),a=(0,_.useMemo)(()=>{var e;return null==i?void 0:null===(e=i.slice((r-1)*5,5*r))||void 0===e?void 0:e.map((e,r)=>(0,l.jsx)(G,{proxy:e,rowHeight:40,index:r},r))},[i,r]),c=Array.isArray(i)&&(null==i?void 0:i.length)>5,u=!(null==i?void 0:i.length)&&t&&!d,h=!t,j=!!(null==i?void 0:i.length);return(0,l.jsxs)(x.Z,{shadow:"md",w:"auto",padding:0,children:[d&&(0,l.jsx)(s.Z,{justify:"center",children:(0,l.jsx)(z.a,{my:"md"})}),u&&(0,l.jsx)(N.P,{label:e("noProxyFound")}),h&&(0,l.jsx)(O,{}),j&&(0,l.jsxs)(E.i,{className:X()["highlight-on-hover"],verticalSpacing:"xs",px:"xl",highlightOnHover:!0,children:[(0,l.jsx)(E.i.Thead,{children:(0,l.jsxs)(E.i.Tr,{h:44,children:[(0,l.jsx)(E.i.Th,{}),(0,l.jsx)(E.i.Th,{children:e("proxyAddress")}),(0,l.jsx)(E.i.Th,{children:e("proxyType")})]})}),(0,l.jsx)(E.i.Tbody,{children:a})]}),c&&(0,l.jsx)(o.x,{m:"xs",children:(0,l.jsx)(F.t,{total:(null==i?void 0:i.length)||0,activePage:r,setActivePage:n,recordsPerPage:5})})]})},V=()=>{let{t:e}=(0,P.$G)("proxy");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.D,{size:"h3",mt:"xl",children:e("proxiedTitle")}),(0,l.jsx)(q,{})]})},Y=f.Q.REMOVE_PROXY,H=e=>{let{proxy:r}=e,{t:n}=(0,P.$G)("proxy"),{writeContract:t,isPending:i}=function(e){let{address:r,proxyType:n,delay:l,onConfirmed:t,onError:i}=e;return(0,v.k)({action:Y,contractAddress:m.Zg,contractAbi:m.Ak,functionName:T.dl.REMOVE_PROXY,args:[r,n,l],onConfirmed:t,onError:i})}({address:r.delegate,proxyType:r.proxyTypeIndex,delay:r.delay});return(0,l.jsx)(g.h,{checkMoonChain:!0,fullWidth:!0,loading:i,onClick:t,disabled:i,leftSection:(0,l.jsx)(A.IXM,{size:"20"}),children:n("remove")})},K=e=>{let{rowHeight:r,proxy:n,index:t}=e;return(0,l.jsxs)(E.i.Tr,{h:r,children:[(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(Z.x,{ta:"center",children:"#".concat(t+1)})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(s.Z,{children:(0,l.jsx)(I.s,{address:n.delegate,withAddress:!0})})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(Z.x,{children:n.proxyType})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(Z.x,{children:n.delay})}),(0,l.jsx)(E.i.Td,{children:(0,l.jsx)(H,{proxy:n})})]})},Q=e=>{let{proxies:r}=e,{t:n}=(0,P.$G)("proxy"),[t,i]=(0,_.useState)(1),d=(0,$.S)(),a=(0,_.useMemo)(()=>{var e;return null==r?void 0:null===(e=r.slice((t-1)*5,5*t))||void 0===e?void 0:e.map((e,r)=>(0,l.jsx)(K,{proxy:e,rowHeight:40,index:r},r))},[t,r]),c=Array.isArray(r)&&(null==r?void 0:r.length)>5,u=!r&&d,h=!(null==r?void 0:r.length)&&d&&!u,j=!d,p=!!(null==r?void 0:r.length);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(x.Z,{shadow:"md",w:"auto",padding:0,children:[u&&(0,l.jsx)(s.Z,{justify:"center",children:(0,l.jsx)(z.a,{my:"md"})}),h&&(0,l.jsx)(N.P,{label:n("noProxyFound")}),j&&(0,l.jsx)(O,{}),p&&(0,l.jsxs)(E.i,{className:X()["highlight-on-hover"],verticalSpacing:"xs",px:"xl",highlightOnHover:!0,children:[(0,l.jsx)(E.i.Thead,{children:(0,l.jsxs)(E.i.Tr,{h:44,children:[(0,l.jsx)(E.i.Th,{}),(0,l.jsx)(E.i.Th,{children:n("proxyAddress")}),(0,l.jsx)(E.i.Th,{children:n("proxyType")}),(0,l.jsx)(E.i.Th,{children:n("delay")}),(0,l.jsx)(E.i.Th,{})]})}),(0,l.jsx)(E.i.Tbody,{children:a})]}),c&&(0,l.jsx)(o.x,{m:"xs",children:(0,l.jsx)(F.t,{total:(null==r?void 0:r.length)||0,activePage:t,setActivePage:i,recordsPerPage:5})})]})})};var W=n(83585);let L=()=>{let{t:e}=(0,P.$G)("proxy"),r=(0,$.S)(),n=(0,W.f)(r);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.D,{size:"h3",mt:"xl",children:e("proxyListTitle")}),(0,l.jsx)(Q,{proxies:n})]})},U=f.Q.REMOVE_ALL_PROXIES;var B=n(98810);let J=e=>{let{t:r}=(0,P.$G)("proxy"),n=(0,$.S)(),t=(0,W.f)(n),i=t&&(null==t?void 0:t.length)>0,{writeContract:s,isPending:d}=function(e){let{onConfirmed:r,onError:n}=e;return(0,v.k)({action:U,contractAddress:m.Zg,contractAbi:m.Ak,functionName:T.dl.REMOVE_PROXIES,args:[],onConfirmed:r,onError:n})}({});return(0,l.jsx)(g.h,{...e,checkMoonChain:!0,fullWidth:!0,loading:d,onClick:s,disabled:d||!i,leftSection:(0,l.jsx)(B.UMi,{size:20,color:"red"}),children:r("removeAllProxies")})},ee=()=>{let e=(0,a.rZ)();return(0,l.jsxs)(c.K,{children:[(0,l.jsx)(S,{}),(0,l.jsx)(L,{}),(0,l.jsx)(J,{w:200,color:e.colors.red[6]}),(0,l.jsx)(V,{})]})};var er=n(81747),en=n(53975),el=n(77928),et=n(9008),ei=n.n(et),es=n(11163),ed=n(18644),eo=n(97683),ea=!0,ec=()=>{let{t:e}=(0,P.$G)("proxy"),{key:r}=(0,el.Y)(),n=(0,es.useRouter)(),a=(0,en.t)(),c=(0,er.R)();return(0,_.useEffect)(()=>{c&&a&&n.replace("/".concat(r))},[n,r,c,a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ei(),{children:(0,l.jsx)("meta",{name:"description",content:e("descriptions.proxy",{ns:"common"})},"description")}),(0,l.jsxs)(t.W,{children:[(0,l.jsx)(i.D,{size:"h2",mb:"lg",children:(0,l.jsxs)(s.Z,{gap:2,children:[e("proxyTitle",{chain:(0,eo.kC)(r)}),(0,l.jsx)(d.u,{label:e("proxyTitleTooltip",{chain:(0,eo.kC)(r)}),withArrow:!0,children:(0,l.jsx)(o.x,{children:(0,l.jsx)(ed.ib5,{size:16})})})]})}),(0,l.jsx)(ee,{})]})]})}},66625:function(e){e.exports={"highlight-on-hover":"common_highlight-on-hover__mglju"}},83215:function(e,r,n){"use strict";function l(e){return r=>{let n=e.safeParse(r);if(n.success)return{};let l={};return n.error.errors.forEach(e=>{l[e.path.join(".")]=e.message}),l}}n.d(r,{F:function(){return l}})}},function(e){e.O(0,[648,594,1358,1133,4587,5850,1441,9194,2888,9774,179],function(){return e(e.s=28315)}),_N_E=e.O()}]);
//# sourceMappingURL=proxy-aa696331e7196a55.js.map