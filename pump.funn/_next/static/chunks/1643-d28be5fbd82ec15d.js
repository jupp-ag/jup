"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1643],{63591:function(e,t,a){a.d(t,{C:function(){return u}});var r=a(57437),n=a(2265),s=a(65050),o=a(1657);let i=s.fC,l=s.xz,d=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:i=4,...l}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsx)(s.VY,{ref:t,align:n,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a),...l})})});d.displayName=s.VY.displayName;var c=a(16691),f=a.n(c);function u(e){let{image:t,alt:a}=e;return(0,r.jsx)("div",{onClick:e=>{console.log("clicked",e),e.stopPropagation(),e.preventDefault()},children:(0,r.jsxs)(i,{children:[(0,r.jsx)(l,{asChild:!0,children:(0,r.jsx)("div",{className:"cursor-pointer hover:opacity-7",children:(0,r.jsx)(f(),{src:t,width:18,height:18,alt:a,className:"h-4"})})}),(0,r.jsx)(d,{className:"w-fit bg-black p-2 text-white",children:(0,r.jsx)("p",{className:"text-sm leading-none",children:a})})]})})}},18069:function(e,t,a){a.r(t),a.d(t,{CoinPreview:function(){return c}});var r=a(57437),n=a(1657),s=a(61396),o=a.n(s),i=a(63591),l=a(5453),d=a(23702);let c=e=>{let{coin:t,shouldAnimate:a}=e,{name:s,symbol:c,description:f,image_uri:u,mint:h,creator:p,king_of_the_hill_timestamp:x,raydium_pool:m,reply_count:g,creator_profile_image:v,creator_username:b}=t;return(0,r.jsx)(o(),{href:"/".concat(h),children:(0,r.jsxs)("div",{className:"max-h-[300px] overflow-hidden h-fit p-2 flex border border-transparent hover:border-white gap-2 w-full ".concat(a?"animate-shake":""),children:[(0,r.jsx)("div",{className:"min-w-32",children:(0,r.jsx)(l.Z,{width:128,height:128,className:"mr-4 w-32 h-auto",src:u||n.W,alt:s})}),(0,r.jsxs)("div",{className:"gap-1 grid h-fit",children:[(0,r.jsxs)("div",{className:"text-xs text-blue-200 flex items-center gap-2",children:[(0,r.jsx)("div",{children:"Created by"}),(0,r.jsx)(d.R,{username:b,profile_image:v,address:p})]}),(0,r.jsxs)("div",{className:"text-xs text-green-300 flex gap-1",children:["market cap: ".concat(Number(t.usd_market_cap/1e3).toFixed(2),"K"),(x||m)&&(0,r.jsxs)("div",{className:"flex text-green-500",children:["[badge:"," ",m&&(0,r.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(i.C,{image:"/migrated.png",alt:"raydium badge"})}),x&&(0,r.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(i.C,{image:"/king.png",alt:"king of the hill badge"})}),"]"]})]}),(0,r.jsxs)("p",{className:"text-xs flex items-center gap-2",children:["replies: ",g||0,t.nsfw&&(0,r.jsx)("span",{className:"text-red-400",children:"[NSFW]"})]}),(0,r.jsxs)("p",{className:"text-sm w-full",style:{overflowWrap:"break-word",wordBreak:"break-all"},children:[(0,r.jsxs)("span",{className:"font-bold",children:[s," (ticker: ",c,"):"," "]}),f]})]})]})})}},5453:function(e,t,a){var r=a(57437),n=a(16691),s=a.n(n),o=a(2265);t.Z=e=>{let t="".concat(e.src,"?img-width=").concat(e.width,"&img-dpr=2&img-onerror=redirect"),[a,n]=(0,o.useState)(t);return(0,o.useEffect)(()=>{n(t)},[e]),(0,r.jsx)(s(),{...e,src:a,unoptimized:!0,onError:()=>{n(e.src)}})}},11400:function(e,t,a){a.r(t),a.d(t,{UserPreview:function(){return f}});var r=a(57437),n=a(1657),s=a(85429),o=a(30282),i=a(57042),l=a(61396),d=a.n(l),c=a(5453);let f=e=>{let{username:t,profile_image:a,address:l,devAddress:f,withBackground:u,big:h}=e,{ipfsPrefix:p}=(0,s.useIpfsPrefix)(),x=(0,n.P)(a,p),m=(0,o.Q)((null==l?void 0:l.slice(0,6))||"anon");return(0,r.jsx)(d(),{href:"/profile/".concat(t||l),children:(0,r.jsxs)("span",{className:"flex gap-1  items-center",children:[(0,r.jsx)(c.Z,{src:x,width:h?64:16,height:h?64:16,alt:"",className:(0,i.Z)("rounded",h?"w-16":"w-4 h-4")}),(0,r.jsxs)("span",{className:(0,i.Z)("px-1 rounded hover:underline flex gap-1",u&&"text-black"),style:{backgroundColor:u?m:"transparent"},children:[t||(null==l?void 0:l.slice(0,6))||"anon"," ",f&&l.toLowerCase()===f.toLowerCase()&&"(dev)"]})]})})}},23702:function(e,t,a){a.d(t,{R:function(){return c}});var r=a(57437),n=a(1657),s=a(85429),o=a(30282),i=a(57042),l=a(24033),d=a(5453);let c=e=>{let{username:t,profile_image:a,address:c,devAddress:f,withBackground:u}=e,h=(0,l.useRouter)(),{ipfsPrefix:p}=(0,s.useIpfsPrefix)(),x=(0,n.P)(a,p),m=(0,o.Q)((null==c?void 0:c.slice(0,6))||"anon"),g=e=>{e.preventDefault(),e.ctrlKey||e.metaKey?window.open("/profile/".concat(t||c),"_blank","noopener"):h.push("/profile/".concat(t||c))};return(0,r.jsx)("button",{type:"button",onClick:e=>g(e),children:(0,r.jsxs)("span",{className:"flex gap-1  items-center",children:[(0,r.jsx)(d.Z,{src:x,width:16,height:16,alt:"",className:"w-4 h-4 rounded"}),(0,r.jsxs)("span",{className:(0,i.Z)("px-1 rounded hover:underline flex gap-1",u&&"text-black"),style:{backgroundColor:u?m:"transparent"},children:[t||(null==c?void 0:c.slice(0,6))||"anon"," ",f&&c.toLowerCase()===f.toLowerCase()&&"(dev)"]})]})})}},85754:function(e,t,a){a.d(t,{z:function(){return d}});var r=a(57437),n=a(2265),s=a(67256),o=a(39213),i=a(1657);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:d=!1,...c}=e,f=d?s.g7:"button";return(0,r.jsx)(f,{className:(0,i.cn)(l({variant:n,size:o,className:a})),ref:t,...c})});d.displayName="Button"},2953:function(e,t,a){a.d(t,{a:function(){return n}});var r=a(2265);let n=e=>{let[t,a]=(0,r.useState)(),n=async()=>{if(e)try{let t=await fetch("".concat("https://frontend-api.pump.fun","/users/").concat(e)).then(e=>null==e?void 0:e.json());a(t)}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{n()},[e]),{fetchUser:n,user:t}}},1657:function(e,t,a){a.d(t,{P:function(){return i},W:function(){return o},cn:function(){return s}});var r=a(57042),n=a(74769);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}let o="https://cf-ipfs.com/ipfs/QmeSzchzEPqCU1jwTnsipwcBAeH7S4bmVvFGfF65iA1BY1",i=(e,t)=>(e||o).replace("https://cf-ipfs.com/ipfs/",t)},85429:function(e,t,a){a.r(t),a.d(t,{IpfsPrefixProvider:function(){return l},useIpfsPrefix:function(){return o}});var r=a(57437),n=a(2265);let s=(0,n.createContext)({ipfsPrefix:"https://ipfs.io/ipfs/",findIpfsPrefix:()=>{}}),o=()=>(0,n.useContext)(s),i="https://pump.mypinata.cloud/ipfs/",l=e=>{let{children:t}=e,[a,o]=(0,n.useState)(i),l=async()=>{let e="QmXeG5tTjC63hjTF7a4GcUyetE6yPcsR4rBzX7wb8mmpzg",t=["https://cf-ipfs.com/ipfs/","https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/"];await fetch("".concat(i).concat(e)).then(e=>e.json()).then(e=>{o(i)}).catch(a=>{console.error(a),t.forEach(async t=>{let a=await fetch("".concat(t).concat(e)).then(e=>e.json());(null==a?void 0:a.name)&&o(e=>e!==i?e:t)})})};return(0,n.useEffect)(()=>{l()},[]),(0,r.jsx)(s.Provider,{value:{ipfsPrefix:a,findIpfsPrefix:l},children:t})}},80323:function(e,t,a){a.r(t),a.d(t,{ProfileProvider:function(){return h},useProfile:function(){return u}});var r=a(57437),n=a(2953),s=a(23845),o=a(78898),i=a(3446),l=a(68870),d=a.n(l),c=a(2265);let f=(0,c.createContext)({}),u=()=>(0,c.useContext)(f),h=e=>{let{children:t}=e,[a,l]=(0,c.useState)(!1),[u,h]=(0,o._)("jwt-login-token",""),{signMessage:p,publicKey:x}=(0,i.O)(),[m,g]=(0,c.useState)(),{user:v,fetchUser:b}=(0,n.a)(m);(0,c.useEffect)(()=>{m&&(0,s.sendGTMEvent)({user_id:m})},[m]);let w=async()=>{if(!p||!x)throw Error("Wallet not connected");l(!0);try{let e=Date.now(),t=d().encode(await p(new TextEncoder().encode("Sign in to pump.fun: ".concat(e)))),{access_token:a}=await fetch("".concat("https://frontend-api.pump.fun","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:x.toBase58(),signature:t,timestamp:e})}).then(e=>e.json());h(a)}catch(e){console.error("Failed to login",e)}finally{l(!1)}};return(0,c.useEffect)(()=>{if(u){let e=JSON.parse(atob(u.split(".")[1]));1e3*e.exp<Date.now()&&h(""),x&&x.toBase58()!==e.address&&h(""),g(e.address),fetch("".concat("https://frontend-api.pump.fun","/users/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({address:e.address})})}},[u,x]),(0,r.jsx)(f.Provider,{value:{loginToken:u,login:w,loginLoading:a,address:m,user:v,fetchUser:b},children:t})}},30282:function(e,t,a){a.d(t,{Q:function(){return r}});let r=e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t&=t;let a=(t=Math.abs(t))%128+127,r=(t>>8)%128+127,n=(t>>16)%128+127;return"#".concat(a.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0"))}}}]);