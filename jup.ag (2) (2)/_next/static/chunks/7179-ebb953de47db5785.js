"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7179],{46218:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(23877),i=n(33219);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t);return n.getTime()-o.getTime()}},88932:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(46218),i=n(33219);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},7094:function(e,t,n){var r=n(13838),i=n(93981),o=n(21382),s=n(96343),a=n(43231);t.Z=function(){var e,t=(0,o.tc)().poolInfo,n=(0,s.FB)(null!==(e=null===t||void 0===t?void 0:t.lpTokenInfo.address)&&void 0!==e?e:a.PublicKey.default,null===t||void 0===t?void 0:t.lpTokenInfo.decimals),l=(0,i.useMemo)((function(){return null!==t&&void 0!==t&&t.maxAumUsd.gt(0)?t.maxAumUsd:new r.Z(Number.MAX_VALUE)}),[t]),c=(0,i.useMemo)((function(){return null!==t&&void 0!==t&&t.maxAumUsd.gt(0)?t.maxAumUsd.minus(t.poolAumUsd):new r.Z(Number.MAX_VALUE)}),[t]),u=(0,i.useMemo)((function(){return t?c:new r.Z(0)}),[c,t]);return{lpTokenUserBalance:n,totalAUMQuotas:l,availableAUMQuotas:c,availableDepositQuotas:u}}},36232:function(e,t,n){n.d(t,{Z:function(){return J}});var r=n(93981),i=n(71048),o=n(89388),s=n(65838),a=n(20255),l=n(69667),c=n(63956),u=n(27195),d=n(8857),f=n.n(d),p=n(73360),m=n(7761),h=n(19240),x=n(77357),v=n(6691),b=n(50882),g=n(25546),j=n(74518),w=n(13170),k=n(1622),y=n(62812),C=n(29541);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.item,n=e.index,i=e.style,o=e.onSubmit,a=e.isKeyboardFocused,l=e.onMouseEnter,c=e.keyboardRefs,u=e.suppressCloseModal,d=e.usdValue,f=(0,s.Bn)().unknownTokenMap,m=(0,y.JT)().closeModal,h=(0,r.createRef)();c.current[n]=h;var x=r.useCallback((function(){o(t),u||m()}),[o,t,u,m]),v=(0,r.useCallback)((function(e){"Enter"===e.code&&a&&x()}),[x,a]);(0,g._1)("keydown",v);var b=a?"bg-jupiter-input-light dark:bg-transparent":"",N=a?"absolute w-full h-full left-0 top-0 opacity-0 dark:bg-jupiter-gradient dark:opacity-10":"",P=d&&d.gt(.01)?"$".concat(g.uf.format(d.toDP(2).toNumber())):"",M=(0,r.useMemo)((function(){return f.has(t.address)}),[t,f]);return(0,C.jsxs)("li",{className:"rounded py-4 cursor-pointer px-5 list-none ".concat(b),style:O({maxHeight:72,height:72},i),onMouseEnter:l,onClick:x,translate:"no",children:[(0,C.jsx)("div",{className:N}),(0,C.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)("div",{className:"h-6 w-6 bg-gray-200 rounded-full",children:(0,C.jsx)(j.Z,{info:t})})}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white-75 truncate",children:t.symbol}),(0,C.jsx)("p",{className:"text-sm text-gray-500 dark:text-white-35 truncate",children:t.address===w.W4.toBase58()?"Solana":t.name})]}),M&&(0,C.jsx)("p",{className:"border rounded-md text-xxs py-[1px] px-1 border-[#FAA63C] text-[#FAA63C]",children:(0,C.jsx)(p.cC,{id:"Unknown"})}),(0,C.jsxs)("div",{className:"text-xs dark:text-white-35 text-right",children:[(0,C.jsx)("div",{children:(0,C.jsx)(k.Z,{mintAddress:t.address,hideZeroBalance:!0})}),(0,C.jsx)("p",{children:P})]})]})]})},M=n(12197),Z=n(96343),S=n(49729);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=60,T=109,E=function(){var e=[A,T,72*((0,g.tq)()?4:10),8].reduce((function(e,t){return e+t}),0);return Math.min(window.innerHeight-32,e)},L=function(e,t){var n=e.token.symbol.toLowerCase().indexOf(t)>=0?t.length/e.token.symbol.length:0,r=(0,M.tr)(e.token);return{token:e.token,matchingIdx:e.values.indexOf(t),matchingSymbolPercent:n,isUnknown:r}},R=function(){var e=(0,u.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.toLowerCase(),i=t.reduce((function(e,t){var n=L(t,r);return n.matchingIdx>=0&&e.push(n),e}),[]),e.abrupt("return",i.filter((function(e){return!w.NH.has(e.token.address)})).sort((function(e,t){var n=e.matchingIdx-t.matchingIdx,r=t.matchingSymbolPercent>e.matchingSymbolPercent?1:t.matchingSymbolPercent==e.matchingSymbolPercent&&e.isUnknown&&!t.isUnknown?0:-1;return n>=0?r:n})).map((function(e){return e.token})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=(0,r.memo)((function(e){var t=e.data,n=e.index,r=e.style,i=t.searchResult[n];return(0,C.jsx)(P,{item:i,index:n,style:r,onSubmit:t.onSubmit,keyboardRefs:t.itemsRef,isKeyboardFocused:n===t.keyboardIndex,onMouseEnter:function(){return t.setFocusIndex(n)},suppressCloseModal:t.suppressCloseModal,usdValue:t.mintToUsdValue.get(i.address)},i.address)}),x.wy),U=function(e){var t=e.onSubmit,n=e.mintsList,a=e.onClose,l=e.suppressCloseModal,c=e.customStyle,u=e.overridePreferredTokenList,d=e.filterToken2022,f=void 0!==d&&d,j=(0,s.gZ)().fetchAllAccounts,w=(0,s.Bn)(),k=w.unknownTokenMap,N=w.preferredTokenListMode,O=w.setPreferredTokenListMode,P=(0,v.Fg)().mode;(0,r.useEffect)((function(){j()}),[]);var M=(0,r.useMemo)((function(){var e=u||N;return O(e),e}),[u,N,O]),I=(0,y.JT)().closeModal,T=(0,i.cI)({defaultValues:{searchValue:""}}),L=T.watch,U=(T.formState.errors,T.setFocus),B=L("searchValue");(0,r.useEffect)((function(){(0,g.tq)()||U("searchValue")}),[]);var V=(0,S.v)({searchValue:B,mintsList:n,filterToken2022:f}),F=V.searchResult,W=V.isInitialLoading,J=V.mintToUsdValue,H=(0,r.useMemo)((function(){var e=[];return k.forEach((function(t){var n;e.push({token:n=t,values:"".concat(n.symbol," ").concat(n.name).toLowerCase()})})),{normalizedTokenListWithUnknown:e}}),[k]),G=H.normalizedTokenListWithUnknown,z=(0,r.useState)([]),Q=z[0],X=z[1];(0,r.useEffect)((function(){W||(0===F.length?R(G,B).then(X):X([]))}),[F,B,G,W]);var q=(0,Z.nl)({items:F||[],defaultIndex:0,key:B}),K=q.itemsRef,Y=q.keyboardIndex,$=q.setFocusIndex,ee=(0,r.createRef)();return(0,r.useEffect)((function(){var e;null===ee||void 0===ee||null===(e=ee.current)||void 0===e||e.scrollToItem(Y)}),[Y,ee]),(0,C.jsxs)("div",{className:"flex flex-col relative w-[95vw] md:w-[448px] max-w-[448px] h-full overflow-hidden text-left bg-v2-background rounded-lg",style:D({height:E()},c),children:[(0,C.jsxs)("div",{className:"flex pt-3 px-5",style:{height:A,maxHeight:A},children:[(0,C.jsx)(b.Z,{}),(0,C.jsx)("input",D({autoComplete:"off",className:"w-[70%] outline-none ml-4 truncate bg-transparent text-sm placeholder:text-white/30",placeholder:m.ag._("Search by token or paste address")},T.register("searchValue"))),(0,C.jsx)("div",{className:"absolute px-3 py-2 text-xs rounded cursor-pointer focus:bg-red-100 right-4 top-5 md:right-4 bg-v2-background-dark text-v2-lily/50",onClick:null!==a&&void 0!==a?a:I,children:"Esc"})]}),(0,C.jsxs)("div",{className:"mt-2",style:{flexGrow:1},children:[F.length>0&&(0,C.jsx)(h.ZP,{children:function(e){var n=e.height,r=void 0===n?0:n,i=e.width,s=void 0===i?0:i;return(0,C.jsx)(x.t7,{ref:ee,height:r,itemCount:F.length,itemSize:72,width:s-2,itemData:{mintToUsdValue:J,searchResult:F,onSubmit:t,itemsRef:K,keyboardIndex:Y,setFocusIndex:$,suppressCloseModal:l},className:(0,o.cn)("overflow-y-scroll mr-1 min-h-[12rem] px-5","webkit-scrollbar ".concat(P===v.hY.DARK?"webkit-scrollbar-dark":"")),children:_})}}),W&&0===F.length?(0,C.jsx)("div",{className:"mx-5 mt-4 mb-4 text-center dark:text-white-50 text-black-50",children:(0,C.jsx)(p.cC,{id:"Loading tokens..."})}):0===F.length?(0,C.jsxs)("div",{className:"mx-5 mt-4 mb-4 text-center text-sm dark:text-white-50 text-black-50",children:[0===Q.length?(0,C.jsx)(p.cC,{id:"No tokens found"}):null,Q.length>0&&"strict"===M?(0,C.jsxs)("div",{children:[(0,C.jsx)(p.cC,{id:'No tokens were found in the "Strict" token list.'}),(0,C.jsx)("br",{}),(0,C.jsx)("p",{onClick:function(){O("all")},className:"mt-2 underline cursor-pointer",children:Q.length>0?(0,C.jsx)(p.cC,{id:'{0, plural, one {1 token found in "All" tokens} other {{1} tokens found in "All" tokens}}',values:{0:Q.length,1:Q.length}}):null})]}):null]}):(0,C.jsx)(C.Fragment,{})]})]})},B=n(10361),V=n(16330),F=n(39268),W=n.n(F)()((function(){return n.e(4566).then(n.bind(n,54566))}),{ssr:!1,loadableGenerated:{webpack:function(){return[54566]}}}),J=function(e){var t=e.control,n=e.pair,c=e.pairName,u=e.onSubmit,d=void 0===u?function(e){}:u,f=e.mintsList,p=e.disabled,m=void 0!==p&&p,h=e.disableTokenSelect,x=void 0!==h&&h,v=e.modalId,b=e.onMouseOver,g=e.onChangeWithoutEffect,w=e.hideUSDValue,k=(0,s.Bn)().unknownTokenMap,N=(0,a.B)(),O=N.add,P=N.get,M=(0,y.JT)(),Z=M.openModal,S=M.closeModal,I=M.visible,D=M.modalContextId,A=M.openContextualModal,T=M.setContextValue,E=M.ModalContextConsumer,L=(0,r.createRef)();(0,r.useEffect)((function(){D===v&&I&&T(v,f)}),[I,f,D,v,T]);var R=function(e){if(e){var t=k.get(e.address),n=P(e.address);t&&!n?setTimeout((function(){Z((0,C.jsx)(B.Z,{tokensInfo:[e],onClickReject:_,onClickAccept:function(){O(e.address),d(e),S()}}),{canDismiss:!1})}),0):(d(e),S())}},_=function(){E&&A(v,f,(0,C.jsx)(E,{children:function(e){return(0,C.jsx)(U,{onSubmit:R,mintsList:e})}}),{position:"top",noCloseButton:!0})};return(0,C.jsx)("div",{className:"flex flex-col dark:text-white h-full justify-center",children:(0,C.jsxs)("div",{className:"flex justify-between items-center",children:[(0,C.jsxs)("button",{type:"button",className:"disabled:p-0 p-1 pr-2 lg:p-2 rounded-lg flex items-center hover:bg-gray-100 dark:hover:bg-white-10 disabled:dark:hover:bg-transparent bg-v2-background disabled:bg-transparent",disabled:x,onClick:_,children:[(0,C.jsx)("div",{className:"w-6 h-6 text-xs hidden lg:flex items-center justify-center rounded-full",children:n.logoURI&&(0,C.jsx)(j.Z,{width:24,height:24,info:n})}),(0,C.jsx)("div",{className:"w-6 h-6 text-xs flex lg:hidden items-center justify-center rounded-full",children:n.logoURI&&(0,C.jsx)(j.Z,{width:16,height:16,info:n})}),(0,C.jsx)("div",{className:(0,o.cn)("font-semibold text-xs lg:text-base","lg:mx-3","ml-1 mr-2"),translate:"no",children:null===n||void 0===n?void 0:n.symbol}),x?null:(0,C.jsx)("div",{className:"text-black dark:text-white fill-current",children:(0,C.jsx)(l.Z,{})})]}),c&&(0,C.jsx)(i.Qr,{name:c,control:t,render:function(e){var t=e.field,r=t.onChange,i=t.value;return(0,C.jsxs)("div",{className:"text-right",children:[(0,C.jsx)(V.Z,{decimals:n.decimals,onChange:r,onChangeWithoutEffect:function(e){return g&&g(e)},value:i,disabled:m,onMouseOver:b,ref:L}),i&&!w?(0,C.jsx)("div",{className:(0,o.cn)("text-xs text-black-35 dark:text-white-35"),onClick:function(){var e;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.focus()},children:(0,C.jsx)(W,{tokenInfo:n,amount:Number(i)})}):null]})}})]})})}},19424:function(e,t,n){var r=n(7761),i=n(93981),o=n(16143),s=n(64508),a=n.n(s),l=n(89388),c=n(3082),u=n(21382),d=n(13838),f=n(7094),p=n(25546),m=n(40558),h=n(6901),x=n(29541),v=function(e){var t=e.title,n=e.active,r=e.href,i=e.attachment;return(0,x.jsxs)(a(),{href:r,className:(0,l.cn)("flex relative items-center","h-7","rounded-3xl px-4 text-xs text-white/20 border border-transparent whitespace-nowrap","text-labs font-[700] hover:!bg-labs/5 hover:!border-labs/25",{"!border-labs/25 !bg-labs/5 border":n}),shallow:!0,children:[(0,x.jsx)("span",{children:t}),i]})};t.Z=function(e){var t=e.children,n=(0,c.useRouter)().route,s="/perps/",a=n.includes(s),b="/perps-earn",g=n.includes(b),j=(0,u.tc)().poolInfo,w=(0,i.useMemo)((function(){if(null===j||void 0===j||!j.poolApr.feeAprBps)return"";var e=new d.Z(j.poolApr.feeAprBps.toString()).div(100),t=(0,h.b)(e);return"".concat(t.toFixed(2),"%")}),[null===j||void 0===j?void 0:j.poolApr.feeAprBps]),k=(0,f.Z)(),y=k.availableAUMQuotas,C=k.totalAUMQuotas;return(0,x.jsxs)(o.Z,{containerClassName:"flex flex-1 !px-0 ",hideFooter:!0,children:[(0,x.jsxs)("div",{className:"py-2.5 text-sm space-x-4 bg-[#192531] w-full flex justify-center items-center h-12",children:[(0,x.jsx)(v,{href:s,active:a,title:r.ag._("Trade")}),(0,x.jsx)(v,{href:b,active:g,title:r.ag._("Earn {aprText}",{aprText:w}),attachment:y.gte(1e4)?(0,x.jsx)(m.Z,{placement:"bottom",content:(0,x.jsxs)("div",{className:"flex flex-col !text-left space-y-1",children:[(0,x.jsx)("p",{className:"w-full whitespace-normal",children:r.ag._("The pool is only accepting new funds up to ${0} at the moment.",{0:p.uf.format(C.toDP(2).toNumber())})}),(0,x.jsx)("p",{className:"text-v2-lily/50",children:r.ag._("Remaining quotas: ${0}",{0:p.uf.format(d.Z.max(y,0).toDP(2).toNumber())})})]}),children:(0,x.jsx)("div",{className:"absolute right-2 top-2 bg-red-400 h-[5px] w-[5px] rounded-full animate-pulse"})}):null})]}),(0,x.jsx)("div",{className:(0,l.cn)("flex flex-1 min-h-full w-full max-w-[100vw] bg-v2-perps"),children:t})]})}},85653:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(63956),i=n(7761),o=n(93981),s=n(40558),a=n(21382),l=n(73360),c=n(71048),u=n(87821),d=n(89388),f=n(65838),p=n(96343),m=n(12866),h=n(25546),x=n(11003),v=n(16941),b=n(99438),g=n(71130),j=n(62812),w=n(29541);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.slippage,n=e.setSlippage,r=(0,f.MG)().constants.DEFAULT_SLIPPAGE,s=(0,j.JT)().closeModal,a=(0,o.useMemo)((function(){return[String(r),"1.0","2.0"]}),[r]),k=(0,o.useMemo)((function(){return a.find((function(e){return Number(e)===t}))}),[t,a]),C=(0,c.cI)({defaultValues:y({},t?k?{slippagePreset:String(k)}:{slippageInput:String(t)}:{})}),N=(0,p.lm)().toast,O=(0,o.useState)(!k),P=O[0],M=O[1],Z=C.watch("slippageInput"),S=C.watch("slippagePreset"),I=(0,o.useMemo)((function(){return Number(Z)>=0&&Number(Z)<=5}),[Z]),D=(0,o.useMemo)((function(){return Number(Z)<=.1?(0,w.jsx)(l.cC,{id:"Your transaction may fail"}):Number(Z)>=3?(0,w.jsx)(l.cC,{id:"Warning, slippage is high"}):""}),[Z]),A=(0,o.useRef)(),T=!!(P&&Number(Z)<0)||!S&&!I;return(0,w.jsx)("div",{className:(0,d.cn)("max-w-md w-screen bg-white dark:bg-[#313E4C] dark:text-white"),children:(0,w.jsxs)("form",{onSubmit:C.handleSubmit((function(e){!function(){if(!T){var e=Number(null!==Z&&void 0!==Z?Z:S);"number"===typeof e&&n(e);var t=i.ag._("Settings updated.");N({render:function(e){return(0,w.jsx)(x.ZJ,y(y({},e),{},{variant:x.Lb.SUCCESS,title:i.ag._("Settings saved"),description:t}))}}),s()}}()})),className:(0,d.cn)("w-full"),children:[(0,w.jsxs)("div",{className:"flex justify-between items-center p-5 pt-7 border-b border-b-white/10",children:[(0,w.jsx)("div",{className:"text-xl font-semibold",children:(0,w.jsx)(l.cC,{id:"Settings"})}),(0,w.jsx)("div",{className:"text-black dark:text-white fill-current cursor-pointer",onClick:function(){return s()},children:(0,w.jsx)(m.Z,{})})]}),(0,w.jsxs)("div",{className:(0,d.cn)("max-h-[70vh] overflow-y-auto"),children:[(0,w.jsxs)("div",{className:(0,d.cn)("mt-4 px-5"),children:[(0,w.jsx)("div",{className:"mt-5 flex items-center text-sm text-black/75 dark:text-white/75 font-[500]",children:(0,w.jsx)(l.cC,{id:"Slippage"})}),(0,w.jsxs)("div",{className:"flex items-center mt-2.5 rounded-xl ring-1 ring-black/10 dark:ring-white/5 overflow-hidden text-sm h-[52px]",children:[(0,w.jsx)(c.Qr,{name:"slippagePreset",control:C.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,w.jsx)(w.Fragment,{children:a.map((function(e,t){var i=h.uf.format(Number(e))+"%";return(0,w.jsx)(v.Z,{idx:t,itemsCount:a.length,className:"h-full",roundBorder:0===t?"left":void 0,highlighted:!P&&Number(r)===Number(e),onClick:function(){n(e),M(!1),C.setValue("slippageInput",void 0)},children:i},t)}))})}}),(0,w.jsxs)("div",{onClick:function(){var e;null===(e=A.current)||void 0===e||e.focus(),M(!0)},className:"flex items-center justify-between cursor-text w-[140px] lg:w-[174px] h-full text-black-50 dark:text-white-50 dark:bg-[#1B1B1E] px-4 text-sm relative border-l border-black-10 dark:border-white/5 ".concat(P?"v2-border-gradient v2-border-gradient-right bg-v2-dark-gradient bg-transparent ":""),children:[(0,w.jsx)("span",{className:"text-xs lg:text-sm",children:(0,w.jsx)(l.cC,{id:"Custom"})}),(0,w.jsx)(c.Qr,{name:"slippageInput",control:C.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,w.jsx)(u.Z,{value:"undefined"===typeof r?"":r,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},getInputRef:function(e){return A.current=e},allowNegative:!1,onValueChange:function(e){var t=e.floatValue;n(t),"undefined"!==typeof t&&C.setValue("slippagePreset",void 0)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"outline-none h-full w-full bg-transparent py-4 px-2 lg:px-5 text-sm rounded-lg placeholder:text-black/25 dark:placeholder:text-white/25 dark:text-white-50 text-black-50 text-right pointer-events-all",decimalSeparator:h.A5,placeholder:","===h.A5?"0,00%":"0.00%"})}})]})]}),P&&!I&&(0,w.jsx)(g.Z,{iconSize:14,className:"!text-jupiter-primary !px-0",message:i.ag._("Please set a slippage value that is within {MINIMUM_SLIPPAGE}% to {MAXIMUM_SLIPPAGE}%",{MINIMUM_SLIPPAGE:0,MAXIMUM_SLIPPAGE:5})}),D&&(0,w.jsx)(g.Z,{iconSize:14,className:"!text-jupiter-primary !px-0",message:D})]}),(0,w.jsx)("div",{className:"px-5 pb-5",children:(0,w.jsx)(b.Z,{type:"submit",className:"w-full mt-4",disabled:T,size:"md",children:(0,w.jsx)(l.cC,{id:"Save Settings"})})})]})]})})},N=n(99384);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var P=function(e){var t=e.onClick,n=e.disabled,r=e.children;return(0,w.jsx)("button",{type:"button",className:(0,d.cn)("flex items-center text-v2-lily fill-current rounded-full border border-white/5 p-2 bg-black/10 text-sm h-7",n?"opacity-50 cursor-not-allowed":"cursor-pointer"),disabled:n,onClick:t,children:r})},M=function(){return(0,w.jsx)("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.67559 1.39922C4.18425 1.39922 3.78594 1.79753 3.78594 2.28887C3.78594 2.78022 4.18425 3.17853 4.67559 3.17853C5.16694 3.17853 5.56525 2.78022 5.56525 2.28887C5.56525 1.79753 5.16694 1.39922 4.67559 1.39922ZM1.19961 2.88867H2.67329C2.93107 3.75043 3.72998 4.37853 4.67559 4.37853C5.62121 4.37853 6.42012 3.75043 6.67789 2.88867H10.7996C11.131 2.88867 11.3996 2.62004 11.3996 2.28867C11.3996 1.9573 11.131 1.68867 10.7996 1.68867H6.67777C6.41987 0.827121 5.62106 0.199219 4.67559 0.199219C3.73013 0.199219 2.93132 0.827121 2.67342 1.68867H1.19961C0.868239 1.68867 0.599609 1.9573 0.599609 2.28867C0.599609 2.62004 0.868239 2.88867 1.19961 2.88867ZM0.599609 7.58555C0.599609 7.25418 0.868239 6.98555 1.19961 6.98555H5.98367C6.24157 6.124 7.04038 5.49609 7.98585 5.49609C8.93131 5.49609 9.73012 6.124 9.98802 6.98555H10.7995C11.1309 6.98555 11.3995 7.25418 11.3995 7.58555C11.3995 7.91692 11.1309 8.18555 10.7995 8.18555H9.98814C9.73037 9.04731 8.93146 9.6754 7.98585 9.6754C7.04023 9.6754 6.24132 9.04731 5.98355 8.18555H1.19961C0.868239 8.18555 0.599609 7.91692 0.599609 7.58555ZM7.09619 7.58575C7.09619 7.09441 7.4945 6.69609 7.98585 6.69609C8.47719 6.69609 8.8755 7.09441 8.8755 7.58575C8.8755 8.07709 8.47719 8.4754 7.98585 8.4754C7.4945 8.4754 7.09619 8.07709 7.09619 7.58575Z",fill:"inherit",fillOpacity:"0.5"})})},Z=function(e){var t=e.refresh,n=e.isLoading,l=(0,a.tc)(),c=(l.slippage,(0,j.JT)()),u=c.openContextualModal,d=c.ModalContextConsumer,f=(0,o.useCallback)((function(){d&&u("PERPS_SETTINGS_MODAL",l,(0,w.jsx)(d,{children:function(e){return(0,w.jsx)(C,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}),{canDismiss:!1})}),[u,l,d]);return(0,w.jsxs)("div",{className:"flex space-x-1",children:[(0,w.jsx)("div",{className:"hidden xs:flex",children:(0,w.jsx)(P,{disabled:n,onClick:t,children:(0,w.jsx)("span",{className:"inline-block fill-current text-v2-lily/50",children:(0,w.jsx)(N.Z,{})})})}),(0,w.jsx)(s.Z,{persistOnClick:!1,content:i.ag._("Settings"),variant:"dark",buttonContentClassName:"h-full",children:(0,w.jsx)(P,{onClick:f,children:(0,w.jsx)("div",{className:"flex items-center justify-center",children:(0,w.jsx)("span",{className:"inline-block fill-current text-v2-lily/100",children:(0,w.jsx)(M,{})})})})})]})}},41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return u}});var r=n(97620),i=n(88932),o=n(93981),s=n(48645),a=n(13170),l=n(29541),c=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,i=e.sqSize,o=void 0===i?14:i,s=(o-r)/2,a="0 0 ".concat(o," ").concat(o),c=s*Math.PI*2,u=c-c*t/100;return(0,l.jsxs)("svg",{width:o,height:o,viewBox:a,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-black-10 dark:stroke-white-75",cx:o/2,cy:o/2,r:s,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:o/2,cy:o/2,r:s,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(o/2," ").concat(o/2,")"),style:{strokeDasharray:c,strokeDashoffset:u}})]})},u=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,c=e.refresh,u=o.useState((0,i.Z)((new Date).getTime(),n)),d=(0,r.Z)(u,2),f=d[0],p=d[1];return(0,s.Z)((function(){if(!t){var e=(0,i.Z)((new Date).getTime(),n);p(e),e>=a.GJ&&(l||0)>0&&c()}}),1e3),{timeDiff:f}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,i=e.refresh,s=u({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:i}).timeDiff,d=o.useCallback((function(e){e.stopPropagation(),i()}),[i]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(c,{sqSize:10,percentage:s/a.GJ*100})})}},59295:function(e,t,n){n.d(t,{c:function(){return o}});var r=n(13838),i=n(25546),o=function(e,t){var n=e.inAmount,o=e.inputDecimal,s=e.outAmount,a=e.outputDecimal,l=(0,i.lt)(n,o),c=(0,i.lt)(s,a),u=t?new r.Z(c).div(l):new r.Z(l).div(c);return Number.isNaN(u.toNumber())?0:u.lessThan(.1)?Number(u.toPrecision(Math.max(t?a:o,1))):u.toDP(t?a:o).toNumber()}},14640:function(e,t,n){var r=n(7761),i=n(93981),o=n(24684),s=n(65838);t.Z=function(e){var t=e.selectedRoute,n=e.hasEnoughSOL,a=(0,o.tX)(),l=(0,o.gJ)(),c=(0,s.Os)().connected;return{errors:i.useMemo((function(){var e=[];return 100*Number((null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct)||0)>5&&e.push(r.ag._("Price impact more than 5%")),a.isDanger&&e.push(r.ag._("{0}% more expensive than Birdeye rate",{0:a.formattedPercent})),c&&!n&&l&&(l.openOrdersDeposits.length||l.ataDeposits.length?e.push(r.ag._("You need at least {0} SOL to pay for fees and deposits",{0:l.minimumSOLForTransaction/Math.pow(10,9)})):e.push(r.ag._("You need at least {0} SOL to pay for fees",{0:l.minimumSOLForTransaction/Math.pow(10,9)}))),e}),[null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct,a.isDanger,a.formattedPercent,c,n,l])}}},24684:function(e,t,n){n.d(t,{tX:function(){return P},Gl:function(){return y},on:function(){return N},gJ:function(){return O}});var r=n(63956),i=n(93981),o=n(13838),s=n(9364),a=n(3011),l=n(31781),c=n(27195),u=n(8857),d=n.n(u),f=n(96343),p=n(41144),m=n(59295);var h=n(65838),x=n(12197),v=n(44495);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,s.cn)({inputTokenInfo:void 0,outputTokenInfo:void 0}),w=(0,s.cn)(null),k=(0,s.cn)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null,apiURL:""}),y=function(e,t,n){var r=(0,h.Bn)().getTokenInfo,s=(0,h.jB)().useWSol,l=(0,a.b9)(j),u=(0,a.b9)(w),b=(0,a.b9)(k),y=(0,h.gZ)().addressToTokenAccountMap,N=(0,i.useMemo)((function(){var e=new Map;return y.forEach((function(t,n){e.set(t.info.mint.toBase58(),t.pubkey.toBase58())})),e}),[y]),O=(0,i.useMemo)((function(){return[t?r(t):void 0,n?r(n):void 0]}),[r,t,n]),P=O[0],M=O[1];(0,v.Z)((function(){l({inputTokenInfo:P,outputTokenInfo:M})}),[P,M,l]),(0,v.Z)((function(){u(e?C(e,N,!s):null)}),[e,u,N,s]);var Z=function(e){var t=e.inputAmount,n=e.inputTokenInfo,r=e.outputAmount,s=e.outputTokenInfo,a=(null===n||void 0===n?void 0:n.address)||"",l=(null===s||void 0===s?void 0:s.address)||"",u=(0,i.useMemo)((function(){return"https://public-api.birdeye.so/defi/multi_price?list_address=".concat(a,",").concat(l)}),[a,l]),h=(0,f.aM)([u],(0,c.Z)(d().mark((function e(){var t,n,r,i,s,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&l){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,p.ZP.get(u,{headers:{"X-API-KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NzI5MDEwNzZ9.c66gFnI20ymHoPWapB0JgISzqDIK6Q_Zg0oAVp8Ssyc"}}).json();case 5:return s=e.sent,c=s.data,f=null!==(t=c[a])&&void 0!==t&&t.value&&null!==(n=c[l])&&void 0!==n&&n.value?new o.Z(null===(r=c[a])||void 0===r?void 0:r.value).div(new o.Z(null===(i=c[l])||void 0===i?void 0:i.value)):null,e.abrupt("return",f);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),{refetchInterval:3e4,staleTime:3e4}),x=(0,i.useMemo)((function(){return h.data?h.data.toNumber():null}),[h.data]),v=(0,i.useMemo)((function(){if(x&&n&&s&&t&&r){var e=(0,m.c)({inAmount:t,inputDecimal:n.decimals,outAmount:r,outputDecimal:s.decimals},!0);if(e&&x)return new o.Z(e).div(x).toDecimalPlaces(3).toNumber()}return null}),[x,t,r,n,s]);return(0,i.useMemo)((function(){return{rate:x,rateDiff:v,apiURL:u}}),[x,v,u])}({inputTokenInfo:P,outputTokenInfo:M,inputAmount:null===e||void 0===e?void 0:e.inAmount,outputAmount:null===e||void 0===e?void 0:e.outAmount}),S=(0,i.useMemo)((function(){var e=null===Z||void 0===Z?void 0:Z.rateDiff;if("number"!==typeof e)return k.init;var t=e>=1,n=e<1,r=n?1-e<=.02:e-1<=.02,i=n?1-e<=.05:e-1<=.05,s=!t&&!r&&i,a=!t&&!i,l=n?new o.Z(1).minus(e).mul(100).toDecimalPlaces(3).toNumber():new o.Z(e).minus(1).mul(100).toDecimalPlaces(3).toNumber();return g({isCheaper:t,isMoreExp:n,isWithinTwoPercent:r,isWithinFivePercent:i,isWarning:s,isDanger:a,percent:l,formattedPercent:x.uf.format(l)},Z)}),[Z]);(0,v.Z)((function(){b(S)}),[b,S])},C=function(e,t,n){var r=new o.Z(e.priceImpactPct||0).mul(100).toNumber();return g({isHighImpact:r>5,isMediumImpact:r>=2&&r<=5,priceImpact:r},(0,l.rR)(e,t,new Map,n,!0))},N=function(){return(0,a.Dv)(j)},O=function(){return(0,a.Dv)(w)},P=function(){return(0,a.Dv)(k)}},16941:function(e,t,n){var r=n(93981),i=n(89388),o=n(29541);t.Z=function(e){var t=e.idx,n=e.itemsCount,s=e.className,a=void 0===s?"":s,l=e.onClick,c=e.highlighted,u=e.roundBorder,d=e.children,f="left"===u?"v2-border-gradient-left":"right"===u?"v2-border-gradient-right":void 0,p=(0,r.useMemo)((function(){if(t>0&&t<n)return"border-l border-black/10 dark:border-white/5"}),[t,n]);return(0,o.jsx)("button",{type:"button",className:(0,i.cn)("".concat(p," ").concat("relative flex-1 py-4 px-1 text-black-50 dark:text-white-50 dark:bg-[#1B1B1E]"," ").concat(a," relative"),c&&"v2-border-gradient ".concat(f," bg-v2-dark-gradient bg-transparent dark:text-white")),onClick:l,children:(0,o.jsx)("div",{className:"h-full w-full leading-none flex justify-center items-center",children:d})})}},35569:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.width,n=void 0===t?"20":t,i=e.height,o=void 0===i?"20":i,s=e.className;return(0,r.jsxs)("svg",{width:n,height:o,className:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10C10.5523 10 11 10.4477 11 11V13C11 13.5523 10.5523 14 10 14C9.44772 14 9 13.5523 9 13V11C9 10.4477 9.44772 10 10 10Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M10 8C10.5523 8 11 7.55228 11 7C11 6.44772 10.5523 6 10 6C9.44772 6 9 6.44772 9 7C9 7.55228 9.44772 8 10 8Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.5C6.41015 3.5 3.5 6.41015 3.5 10C3.5 13.5899 6.41015 16.5 10 16.5C13.5899 16.5 16.5 13.5899 16.5 10C16.5 6.41015 13.5899 3.5 10 3.5ZM2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10Z",fill:"currentColor"})]})}},99384:function(e,t,n){var r=n(29541);t.Z=function(e){var t=e.width,n=void 0===t?12:t,i=e.height,o=void 0===i?12:i;return(0,r.jsxs)("svg",{width:n,height:o,viewBox:"0 0 12 12",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_841_4053)",children:(0,r.jsx)("path",{d:"M11.6466 4.23513V0.706082L10.4111 1.94156C9.3173 0.741165 7.72912 0 6 0C2.6827 0 0 2.6827 0 6C0 9.3173 2.68203 12 6 12C7.69405 12 9.21142 11.2939 10.3059 10.165L9.31797 9.14128C8.50601 10.0234 7.30561 10.5879 6 10.5879C3.45892 10.5879 1.41216 8.5411 1.41216 6.00002C1.41216 3.45894 3.45892 1.41218 6 1.41218C7.34135 1.41218 8.57615 2.01238 9.42317 2.92954L8.11757 4.23515L11.6466 4.23513Z",fill:"inherit"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_841_4053",children:(0,r.jsx)("rect",{width:"12",height:"12",fill:"white"})})})]})}},48645:function(e,t,n){var r=n(93981);t.Z=function(e,t){var n=(0,r.useRef)((function(){}));(0,r.useEffect)((function(){n.current=e})),(0,r.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t||0);return function(){return clearInterval(e)}}}),[t])}}}]);
//# sourceMappingURL=7179-ebb953de47db5785.js.map