(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8193],{67718:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/insights/resources",function(){return r(80262)}])},80262:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var s=r(85893),l=r(67294),a=r(11163),n=r(9669),o=r.n(n),u=r(94627);let i=u.Vo.KEY,c=e=>{let{page:t=1,limit:r=9,search:s,data:n}=e,c=(0,a.useRouter)(),[p,x]=(0,l.useState)(n),[g,d]=(0,l.useState)(!n);(0,l.useEffect)(()=>{if(!n){let e=window.location.search.substring(1),t=new URLSearchParams(e).get("slug");t?h(t):f()}},[]);let h=e=>{""!==e&&o().get("".concat(u.Vo.URL,"/slug/").concat(e),{params:{key:i,include:"authors,tags"}}).then(e=>{x(e.data),d(!1)}).catch(e=>console.log("fetchPost err",e))},f=()=>{o().get("".concat(u.Vo.URL),{params:{key:i,page:1,limit:2e3,include:"authors,tags"}}).then(e=>{x(e.data),d(!1)}).catch(e=>console.log("fetchAllBlog err",e))},b=(e,t)=>{let r=Math.ceil(e.length/t),s=[];for(let l=0;l<r;l++){let r=l*t,a=e.slice(r,r+t);s.push(a)}return s},j=e=>{var t;let r=null===(t=c.query)||void 0===t?void 0:t.tag;if(r&&"all"!==r){let t={...e},s=[];return t.posts.forEach(e=>{e.tags.forEach(t=>{t.slug===r&&s.push(e)})}),t.posts=s,t}return e},v=e=>{if(s&&""!==s){let t={...e};return t.posts=t.posts.filter(e=>e.html.toLowerCase().includes(s.toLowerCase())||e.title.toLowerCase().includes(s.toLowerCase())),t}return e},m=e=>{if(e){var s;let l={...j(e)};l={...v(l)};let a=(null===(s=c.query)||void 0===s?void 0:s.page)||t,n=b(l.posts,r);return{meta:{pagination:{page:Number(a),pages:n.length}},posts:n[Number(a)-1]}}return null};return{blogs:(0,l.useMemo)(()=>m(p),[t,r,c,p,s]),loading:g}};var p=r(83230),x=r(93717),g=r(57747),d=r(12998),h=r(27239),f=r(71293),b=r(49289),j=r(81136),v=r(36926),m=r(28273),w=r(38259),C=r(76300),E=r(11183),y=r(61471);let S=[{label:"Home",path:"/"},{label:"Our resources",path:"/insights/resources"}],_=[{label:"All",value:"all"}],k=()=>{var e;let[,t]=(0,l.useState)("all"),[,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)(""),[u]=(0,l.useState)(1),i=(0,a.useRouter)(),{blogs:m,loading:k}=c({page:u,search:n});(0,l.useEffect)(()=>{(0,p.L9)("LP_RESOURCES_PAGE")}),(0,l.useEffect)(()=>{let e=document.getElementById("blogHeroSection"),t=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting?r(!0):r(!1)},{threshold:1});return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[]),(0,l.useEffect)(()=>{var e;if(null===(e=i.query)||void 0===e?void 0:e.tag){let e=_.filter(e=>{var t;return e.value===(null===(t=i.query)||void 0===t?void 0:t.tag)});t(e.length>0?e[0].value:""),0==e.length&&i.replace({query:{}})}else t("all")},[i]);let N=(0,l.useCallback)(e=>{let t={...i.query,page:e};i.push({query:t})},[i]),L=(0,l.useCallback)(e=>{o(e)},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.k,{justifyContent:"center",children:(0,s.jsx)(C.Z,{})}),(0,s.jsxs)(g.xu,{id:"blogHeroSection",className:"blogBanner",h:{base:248,lg:353},mt:{base:"-26px",lg:"-86px"},children:[(0,s.jsx)(d.d,{below:"lg",children:(0,s.jsx)(w.Z,{data:S})}),(0,s.jsxs)(h.M,{mt:"50px",pl:{base:0,md:10},h:"calc(100% - 100px)",w:"100%",justifyContent:{base:"flex-end",md:"center",lg:"flex-start"},flexDir:"column",pb:{base:"34px",md:"84px",lg:"0px"},children:[(0,s.jsx)(d.d,{above:"lg",children:(0,s.jsx)(g.xu,{w:"100%",maxW:"1456px",children:(0,s.jsx)(w.Z,{ml:0,data:S})})}),(0,s.jsx)(f.x,{fontWeight:"700",fontSize:{base:"32px",md:"54px",lg:"64px"},children:"Our resources"}),(0,s.jsx)(v.ol,{onSearch:L})]})]}),(0,s.jsx)(g.xu,{position:{base:"sticky",lg:"unset"},top:"0",mt:"-1px",w:"100%",pt:"10px",zIndex:{base:2,lg:0},background:"#D8F0F0",children:(0,s.jsx)(b.i,{border:"1px solid",borderColor:"#AEDFCA",w:"100%"})}),(0,s.jsxs)(x.k,{justifyContent:"center",children:[(0,s.jsxs)(x.k,{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",gap:{base:"24px",lg:"40px"},p:{base:"40px 0px 64px",lg:"120px 120px 64px 120px"},w:"100%",maxW:"1512px",children:[!k&&m&&(null===(e=m.posts)||void 0===e?void 0:e.map(e=>(0,s.jsx)(v.$h,{data:e,variant:2},e.id))),k&&(0,s.jsx)(h.M,{h:"620px",children:(0,s.jsx)(j.$,{size:"lg"})})]}),m&&(0,s.jsx)(v.tl,{page:m.meta.pagination.page,pages:m.meta.pagination.pages,setCurrentPage:e=>k?null:N(e),loading:k})]}),(0,s.jsx)("div",{className:"seperator",style:{marginTop:"-0px"}}),(0,s.jsx)(E.Z,{}),(0,s.jsx)("div",{className:"seperatorWithStar"}),(0,s.jsx)(y.Z,{})]})};var N=e=>{let{page:t}=e;return(0,s.jsx)(m.JW,{children:(0,s.jsx)(m.Ti,{value:{pageData:t},children:(0,s.jsx)(k,{})})})}},28273:function(e,t,r){"use strict";r.d(t,{JW:function(){return u},Ti:function(){return o},z1:function(){return n}});var s=r(85893),l=r(67294);let a=(0,l.createContext)({tagQuery:null,setTagQuery:()=>{}}),n=(0,l.createContext)({pageData:{}}),o=e=>{let{children:t,...r}=e;return(0,s.jsx)(n.Provider,{...r,children:t})},u=e=>{let{children:t}=e,[r,n]=(0,l.useState)({tag:"all",page:1});return(0,s.jsx)(a.Provider,{value:{tagQuery:r,setTagQuery:n},children:t})}}},function(e){e.O(0,[2189,908,5204,6926,2888,9774,179],function(){return e(e.s=67718)}),_N_E=e.O()}]);
//# sourceMappingURL=resources-04dbc5056de6b99f.js.map