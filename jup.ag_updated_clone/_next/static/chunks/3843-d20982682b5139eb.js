"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3843],{54790:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(23877),r=n(33219);function a(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return!isNaN(t)}},49334:function(e,t,n){n.d(t,{u:function(){return R}});var i=n(78838),r=n.n(i),a=n(5615),o=n.n(a),u=n(49635),s=n.n(u),c=n(49274),l=n.n(c),p=n(67882),m=n.n(p),d=n(20253),f=n.n(d),y=n(44490),h=n.n(y),g=n(93981),v=n(30583),b=n.n(v),A=n(14056),w=n(3761),S=n(82838),M=n(43635),x=n(39414),P=n(17606),O=n(90575),k=n(49619),I=n(50139),E=["layout","type","stroke","connectNulls","isRange","ref"];function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function T(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B.apply(this,arguments)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_(i.key),i)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=L(e);if(t){var r=L(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===j(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function W(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==j(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}var R=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,i,a=z(u);function u(){var e;D(this,u);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return W(U(e=a.call.apply(a,[this].concat(n))),"state",{isAnimationFinished:!0}),W(U(e),"id",(0,O.EL)("recharts-area-")),W(U(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),l()(t)&&t()})),W(U(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),l()(t)&&t()})),e}return t=u,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(e,t,n){var i=this.props.isAnimationActive,r=this.state.isAnimationFinished;if(i&&!r)return null;var a=this.props,o=a.dot,s=a.points,c=a.dataKey,l=(0,I.L6)(this.props),p=(0,I.L6)(o,!0),m=s.map((function(e,t){var n=K(K(K({key:"dot-".concat(t),r:3},l),p),{},{dataKey:c,cx:e.x,cy:e.y,index:t,value:e.value,payload:e.payload});return u.renderDotItem(o,n)})),d={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(n,")"):null};return g.createElement(M.m,B({className:"recharts-area-dots"},d),m)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,i=t.points,r=t.strokeWidth,a=i[0].x,o=i[i.length-1].x,u=e*Math.abs(a-o),c=s()(i.map((function(e){return e.y||0})));return(0,O.hj)(n)&&"number"===typeof n?c=Math.max(n,c):n&&h()(n)&&n.length&&(c=Math.max(s()(n.map((function(e){return e.y||0}))),c)),(0,O.hj)(c)?g.createElement("rect",{x:a<o?a:a-u,y:0,width:u,height:Math.floor(c+(r?parseInt("".concat(r),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,i=t.points,r=t.strokeWidth,a=i[0].y,o=i[i.length-1].y,u=e*Math.abs(a-o),c=s()(i.map((function(e){return e.x||0})));return(0,O.hj)(n)&&"number"===typeof n?c=Math.max(n,c):n&&h()(n)&&n.length&&(c=Math.max(s()(n.map((function(e){return e.x||0}))),c)),(0,O.hj)(c)?g.createElement("rect",{x:0,y:a<o?a:a-u,width:c+(r?parseInt("".concat(r),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,i){var r=this.props,a=r.layout,o=r.type,u=r.stroke,s=r.connectNulls,c=r.isRange,l=(r.ref,T(r,E));return g.createElement(M.m,{clipPath:n?"url(#clipPath-".concat(i,")"):null},g.createElement(w.H,B({},(0,I.L6)(l,!0),{points:e,connectNulls:s,type:o,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==u&&g.createElement(w.H,B({},(0,I.L6)(this.props),{className:"recharts-area-curve",layout:a,type:o,connectNulls:s,fill:"none",points:e})),"none"!==u&&c&&g.createElement(w.H,B({},(0,I.L6)(this.props),{className:"recharts-area-curve",layout:a,type:o,connectNulls:s,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,i=this.props,r=i.points,a=i.baseLine,u=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,l=i.animationEasing,p=i.animationId,m=this.state,d=m.prevPoints,y=m.prevBaseLine;return g.createElement(A.ZP,{begin:s,duration:c,isActive:u,easing:l,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(i){var u=i.t;if(d){var s,c=d.length/r.length,l=r.map((function(e,t){var n=Math.floor(t*c);if(d[n]){var i=d[n],r=(0,O.k4)(i.x,e.x),a=(0,O.k4)(i.y,e.y);return K(K({},e),{},{x:r(u),y:a(u)})}return e}));return s=(0,O.hj)(a)&&"number"===typeof a?(0,O.k4)(y,a)(u):f()(a)||o()(a)?(0,O.k4)(y,0)(u):a.map((function(e,t){var n=Math.floor(t*c);if(y[n]){var i=y[n],r=(0,O.k4)(i.x,e.x),a=(0,O.k4)(i.y,e.y);return K(K({},e),{},{x:r(u),y:a(u)})}return e})),n.renderAreaStatically(l,s,e,t)}return g.createElement(M.m,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(u))),g.createElement(M.m,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(r,a,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,i=n.points,a=n.baseLine,o=n.isAnimationActive,u=this.state,s=u.prevPoints,c=u.prevBaseLine,l=u.totalLength;return o&&i&&i.length&&(!s&&l>0||!r()(s,i)||!r()(c,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(i,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,r=t.points,a=t.className,o=t.top,u=t.left,s=t.xAxis,c=t.yAxis,l=t.width,p=t.height,m=t.isAnimationActive,d=t.id;if(n||!r||!r.length)return null;var y=this.state.isAnimationFinished,h=1===r.length,v=b()("recharts-area",a),A=s&&s.allowDataOverflow,w=c&&c.allowDataOverflow,S=A||w,P=f()(d)?this.id:d,O=null!==(e=(0,I.L6)(i))&&void 0!==e?e:{r:3,strokeWidth:2},k=O.r,E=void 0===k?3:k,j=O.strokeWidth,T=void 0===j?2:j,B=((0,I.$k)(i)?i:{}).clipDot,N=void 0===B||B,K=2*E+T;return g.createElement(M.m,{className:v},A||w?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(P)},g.createElement("rect",{x:A?u:u-l/2,y:w?o:o-p/2,width:A?l:2*l,height:w?p:2*p})),!N&&g.createElement("clipPath",{id:"clipPath-dots-".concat(P)},g.createElement("rect",{x:u-K/2,y:o-K/2,width:l+K,height:p+K}))):null,h?null:this.renderArea(S,P),(i||h)&&this.renderDots(S,N,P),(!m||y)&&x.e.renderCallByParent(this.props,r))}}])&&V(t.prototype,n),i&&V(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(g.PureComponent);W(R,"displayName","Area"),W(R,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!P.x.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),W(R,"getBaseValue",(function(e,t,n,i){var r=e.layout,a=e.baseValue,o=t.props.baseValue,u=null!==o&&void 0!==o?o:a;if((0,O.hj)(u)&&"number"===typeof u)return u;var s="horizontal"===r?i:n,c=s.scale.domain();if("number"===s.type){var l=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return"dataMin"===u?p:"dataMax"===u||l<0?l:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===u?c[0]:"dataMax"===u?c[1]:c[0]})),W(R,"getComposedData",(function(e){var t,n=e.props,i=e.item,r=e.xAxis,a=e.yAxis,o=e.xAxisTicks,u=e.yAxisTicks,s=e.bandSize,c=e.dataKey,l=e.stackedData,p=e.dataStartIndex,d=e.displayedData,y=e.offset,g=n.layout,v=l&&l.length,b=R.getBaseValue(n,i,r,a),A=!1,w=d.map((function(e,t){var n,i=(0,k.F$)(e,c);v?n=l[p+t]:(n=i,h()(n)?A=!0:n=[b,n]);var m=f()(n[1])||v&&f()(i);return"horizontal"===g?{x:(0,k.Hv)({axis:r,ticks:o,bandSize:s,entry:e,index:t}),y:m?null:a.scale(n[1]),value:n,payload:e}:{x:m?null:r.scale(n[1]),y:(0,k.Hv)({axis:a,ticks:u,bandSize:s,entry:e,index:t}),value:n,payload:e}}));return t=v||A?w.map((function(e){return"horizontal"===g?{x:e.x,y:f()(m()(e,"value[0]"))||f()(m()(e,"y"))?null:a.scale(m()(e,"value[0]"))}:{x:f()(m()(e,"value[0]"))?null:r.scale(m()(e,"value[0]")),y:e.y}})):"horizontal"===g?a.scale(b):r.scale(b),K({points:w,baseLine:t,layout:g,isRange:A},y)})),W(R,"renderDotItem",(function(e,t){return g.isValidElement(e)?g.cloneElement(e,t):l()(e)?e(t):g.createElement(S.o,B({},t,{className:"recharts-area-dot"}))}))},76419:function(e,t,n){n.d(t,{q:function(){return S}});var i=n(49274),r=n.n(i),a=n(93981),o=n(90575),u=n(50139),s=["x1","y1","x2","y2","key"];function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function A(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(m,e);var t,n,i,c=g(m);function m(){return f(this,m),c.apply(this,arguments)}return t=m,i=[{key:"renderLineItem",value:function(e,t){var n;if(a.isValidElement(e))n=a.cloneElement(e,t);else if(r()(e))n=e(t);else{var i=t.x1,o=t.y1,c=t.x2,m=t.y2,d=t.key,f=p(t,s);n=a.createElement("line",l({},(0,u.L6)(f),{x1:i,y1:o,x2:c,y2:m,fill:"none",key:d}))}return n}}],(n=[{key:"renderHorizontal",value:function(e){var t=this,n=this.props,i=n.x,r=n.width,o=n.horizontal;if(!e||!e.length)return null;var u=e.map((function(e,n){var a=d(d({},t.props),{},{x1:i,y1:e,x2:i+r,y2:e,key:"line-".concat(n),index:n});return m.renderLineItem(o,a)}));return a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}},{key:"renderVertical",value:function(e){var t=this,n=this.props,i=n.y,r=n.height,o=n.vertical;if(!e||!e.length)return null;var u=e.map((function(e,n){var a=d(d({},t.props),{},{x1:e,y1:i,x2:e,y2:i+r,key:"line-".concat(n),index:n});return m.renderLineItem(o,a)}));return a.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}},{key:"renderVerticalStripes",value:function(e){var t=this.props.verticalFill;if(!t||!t.length)return null;var n=this.props,i=n.fillOpacity,r=n.x,o=n.y,u=n.width,s=n.height,c=e.map((function(e){return Math.round(e+r-r)})).sort((function(e,t){return e-t}));r!==c[0]&&c.unshift(0);var l=c.map((function(e,n){var l=c[n+1]?c[n+1]-e:r+u-e;if(l<=0)return null;var p=n%t.length;return a.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:l,height:s,stroke:"none",fill:t[p],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},l)}},{key:"renderHorizontalStripes",value:function(e){var t=this.props.horizontalFill;if(!t||!t.length)return null;var n=this.props,i=n.fillOpacity,r=n.x,o=n.y,u=n.width,s=n.height,c=e.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==c[0]&&c.unshift(0);var l=c.map((function(e,n){var l=c[n+1]?c[n+1]-e:o+s-e;if(l<=0)return null;var p=n%t.length;return a.createElement("rect",{key:"react-".concat(n),y:e,x:r,height:l,width:u,stroke:"none",fill:t[p],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},l)}},{key:"renderBackground",value:function(){var e=this.props.fill;if(!e||"none"===e)return null;var t=this.props,n=t.fillOpacity,i=t.x,r=t.y,o=t.width,u=t.height;return a.createElement("rect",{x:i,y:r,width:o,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,u=e.height,s=e.horizontal,c=e.vertical,l=e.horizontalCoordinatesGenerator,p=e.verticalCoordinatesGenerator,m=e.xAxis,d=e.yAxis,f=e.offset,y=e.chartWidth,h=e.chartHeight;if(!(0,o.hj)(i)||i<=0||!(0,o.hj)(u)||u<=0||!(0,o.hj)(t)||t!==+t||!(0,o.hj)(n)||n!==+n)return null;var g=this.props,v=g.horizontalPoints,b=g.verticalPoints;return v&&v.length||!r()(l)||(v=l({yAxis:d,width:y,height:h,offset:f})),b&&b.length||!r()(p)||(b=p({xAxis:m,width:y,height:h,offset:f})),a.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),s&&this.renderHorizontal(v),c&&this.renderVertical(b),s&&this.renderHorizontalStripes(v),c&&this.renderVerticalStripes(b))}}])&&y(t.prototype,n),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),m}(a.PureComponent);A(S,"displayName","CartesianGrid"),A(S,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]})},37030:function(e,t,n){n.d(t,{b:function(){return z}});var i=n(78838),r=n.n(i),a=n(49274),o=n.n(a),u=n(20253),s=n.n(u),c=n(93981),l=n(14056),p=n(30583),m=n.n(p),d=n(43635),f=n(39414),y=n(50139),h=n(17606),g=n(57361),v=n(3761),b=n(60446),A=n(90892),w=n(53315),S=n(90575),M=n(49619),x=n(74709);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O.apply(this,arguments)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,C(i.key),i)}}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===P(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function V(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==P(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(u,e);var t,n,i,a=B(u);function u(){var e;E(this,u);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return V(K(e=a.call.apply(a,[this].concat(n))),"state",{isAnimationFinished:!1}),V(K(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0})})),V(K(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1})})),V(K(e),"id",(0,S.EL)("recharts-scatter-")),e}return t=u,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderSymbolItem",value:function(e,t){var n;return c.isValidElement(e)?n=c.cloneElement(e,t):o()(e)?n=e(t):"string"===typeof e&&(n=c.createElement(b.v,O({},t,{type:e}))),n}}],(n=[{key:"renderSymbolsStatically",value:function(e){var t=this,n=this.props,i=n.shape,r=n.activeShape,a=n.activeIndex,o=(0,y.L6)(this.props);return e.map((function(e,n){var s=I(I({key:"symbol-".concat(n)},o),e);return c.createElement(d.m,O({className:"recharts-scatter-symbol"},(0,x.bw)(t.props,e,n),{key:"symbol-".concat(n),role:"img"}),u.renderSymbolItem(a===n?r:i,s))}))}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,n=t.points,i=t.isAnimationActive,r=t.animationBegin,a=t.animationDuration,o=t.animationEasing,u=t.animationId,s=this.state.prevPoints;return c.createElement(l.ZP,{begin:r,duration:a,isActive:i,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,r=n.map((function(e,t){var n=s&&s[t];if(n){var r=(0,S.k4)(n.cx,e.cx),a=(0,S.k4)(n.cy,e.cy),o=(0,S.k4)(n.size,e.size);return I(I({},e),{},{cx:r(i),cy:a(i),size:o(i)})}var u=(0,S.k4)(0,e.size);return I(I({},e),{},{size:u(i)})}));return c.createElement(d.m,null,e.renderSymbolsStatically(r))}))}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,i=this.state.prevPoints;return!(n&&t&&t.length)||i&&r()(i,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,i=e.yAxis,r=e.children,a=(0,y.NN)(r,A.W);return a?a.map((function(e,r){var a=e.props.direction;return c.cloneElement(e,{key:r,data:t,xAxis:n,yAxis:i,layout:"x"===a?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===a?+e.node.x:+e.node.y,errorVal:(0,M.F$)(e,t)}}})})):null}},{key:"renderLine",value:function(){var e,t,n=this.props,i=n.points,r=n.line,a=n.lineType,u=n.lineJointType,s=(0,y.L6)(this.props),l=(0,y.L6)(r);if("joint"===a)e=i.map((function(e){return{x:e.cx,y:e.cy}}));else if("fitting"===a){var p=(0,S.wr)(i),m=p.xmin,f=p.xmax,h=p.a,g=p.b,b=function(e){return h*e+g};e=[{x:m,y:b(m)},{x:f,y:b(f)}]}var A=I(I(I({},s),{},{fill:"none",stroke:s&&s.fill},l),{},{points:e});return t=c.isValidElement(r)?c.cloneElement(r,A):o()(r)?r(A):c.createElement(v.H,O({},A,{type:u})),c.createElement(d.m,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.points,i=e.line,r=e.className,a=e.xAxis,o=e.yAxis,u=e.left,l=e.top,p=e.width,y=e.height,h=e.id,g=e.isAnimationActive;if(t||!n||!n.length)return null;var v=this.state.isAnimationFinished,b=m()("recharts-scatter",r),A=a&&a.allowDataOverflow,w=o&&o.allowDataOverflow,S=A||w,M=s()(h)?this.id:h;return c.createElement(d.m,{className:b,clipPath:S?"url(#clipPath-".concat(M,")"):null},A||w?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(M)},c.createElement("rect",{x:A?u:u-p/2,y:w?l:l-y/2,width:A?p:2*p,height:w?y:2*y}))):null,i&&this.renderLine(),this.renderErrorBar(),c.createElement(d.m,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||v)&&f.e.renderCallByParent(this.props,n))}}])&&j(t.prototype,n),i&&j(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(c.PureComponent);V(z,"displayName","Scatter"),V(z,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!h.x.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),V(z,"getComposedData",(function(e){var t=e.xAxis,n=e.yAxis,i=e.zAxis,r=e.item,a=e.displayedData,o=e.xAxisTicks,u=e.yAxisTicks,c=e.offset,l=r.props.tooltipType,p=(0,y.NN)(r.props.children,w.b),m=s()(t.dataKey)?r.props.dataKey:t.dataKey,d=s()(n.dataKey)?r.props.dataKey:n.dataKey,f=i&&i.dataKey,h=i?i.range:g.d.defaultProps.range,v=h&&h[0],b=t.scale.bandwidth?t.scale.bandwidth():0,A=n.scale.bandwidth?n.scale.bandwidth():0,S=a.map((function(e,a){var c=(0,M.F$)(e,m),y=(0,M.F$)(e,d),h=!s()(f)&&(0,M.F$)(e,f)||"-",g=[{name:s()(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:c,payload:e,dataKey:m,type:l},{name:s()(n.dataKey)?r.props.name:n.name||n.dataKey,unit:n.unit||"",value:y,payload:e,dataKey:d,type:l}];"-"!==h&&g.push({name:i.name||i.dataKey,unit:i.unit||"",value:h,payload:e,dataKey:f,type:l});var w=(0,M.Hv)({axis:t,ticks:o,bandSize:b,entry:e,index:a,dataKey:m}),S=(0,M.Hv)({axis:n,ticks:u,bandSize:A,entry:e,index:a,dataKey:d}),x="-"!==h?i.scale(h):v,P=Math.sqrt(Math.max(x,0)/Math.PI);return I(I({},e),{},{cx:w,cy:S,x:w-P,y:S-P,xAxis:t,yAxis:n,zAxis:i,width:2*P,height:2*P,size:x,node:{x:c,y:y,z:h},tooltipPayload:g,tooltipPosition:{x:w,y:S},payload:e},p&&p[a]&&p[a].props)}));return I({points:S},c)}))},57361:function(e,t,n){n.d(t,{d:function(){return i}});var i=function(){return null};i.displayName="ZAxis",i.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"}},88451:function(e,t,n){n.d(t,{T:function(){return s}});var i=n(77169),r=n(49334),a=n(31242),o=n(39913),u=n(80049),s=(0,i.z)({chartName:"AreaChart",GraphicalChild:r.u,axisComponents:[{axisType:"xAxis",AxisComp:a.K},{axisType:"yAxis",AxisComp:o.B}],formatAxisMap:u.t9})},82948:function(e,t,n){n.d(t,{c:function(){return m}});var i=n(77169),r=n(49334),a=n(77485),o=n(60021),u=n(37030),s=n(31242),c=n(39913),l=n(57361),p=n(80049),m=(0,i.z)({chartName:"ComposedChart",GraphicalChild:[o.x,r.u,a.$,u.b],axisComponents:[{axisType:"xAxis",AxisComp:s.K},{axisType:"yAxis",AxisComp:c.B},{axisType:"zAxis",AxisComp:l.d}],formatAxisMap:p.t9})},69635:function(e,t,n){n.d(t,{xO:function(){return b},MG:function(){return v},_V:function(){return x}});var i,r=n(57565),a=n(94728),o=n(92147),u=n(25059),s=n(64421),c=n(52466);!function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate"}(i||(i={}));var l=n(795).Buffer;const p=(0,c.struct)([(0,c.u8)("instruction")]);function m(e,t=s.H_){const n=[{pubkey:e,isSigner:!1,isWritable:!0}],r=l.alloc(p.span);return p.encode({instruction:i.SyncNative},r),new a.TransactionInstruction({keys:n,programId:t,data:r})}var d=n(795).Buffer;const f=(0,c.struct)([(0,c.u8)("instruction")]);function y(e,t,n,r=[],o=s.H_){const u=function(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof a.PublicKey?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,r),c=d.alloc(f.span);return f.encode({instruction:i.CloseAccount},c),new a.TransactionInstruction({keys:u,programId:o,data:c})}var h=n(41364),g=n(795).Buffer,v={localhost:"EZb9UY49U9nayWBsJ9o7b7p7LLMrv1yWtWfskaGJ1Q4a",devnet:"VALY1TfX9RfPwNoVSfch8RUmgq5eNtWAjx4CVmDeYMo","mainnet-beta":"JVAp1DSLnM4Qh8qM1QasQ8x56ccb9S3DhbyEckybTF9"},b={version:"0.1.0",name:"value_average",instructions:[{name:"open",accounts:[{name:"valueAverage",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"inputMint",isMut:!1,isSigner:!1},{name:"outputMint",isMut:!1,isSigner:!1},{name:"userInputAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"feeDataAccount",isMut:!1,isSigner:!1,isOptional:!0},{name:"referralFeeAccount",isMut:!1,isSigner:!1,isOptional:!0},{name:"inputTokenProgram",isMut:!1,isSigner:!1},{name:"outputTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"applicationIdx",type:"u64"},{name:"orderInterval",type:"i64"},{name:"depositAmount",type:"u64"},{name:"incrementUsdcValue",type:"u64"},{name:"startAt",type:{option:"i64"}},{name:"autoWithdraw",type:"bool"}]},{name:"close",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"inputTokenProgram",isMut:!1,isSigner:!1},{name:"outputTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[]},{name:"deposit",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdraw",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!0,isSigner:!1},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"outputMint",isMut:!1,isSigner:!1},{name:"valueAverageVault",isMut:!0,isSigner:!1},{name:"userInputAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"userOutputAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"intermediateAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"withdrawParams",type:{defined:"WithdrawParams"}}]},{name:"withdrawV2",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!0,isSigner:!1},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"outputMint",isMut:!1,isSigner:!1},{name:"valueAverageVault",isMut:!0,isSigner:!1},{name:"userInputAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"userOutputAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"intermediateAccount",isMut:!0,isSigner:!1,isOptional:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"withdrawParams",type:{defined:"WithdrawParams"}}]},{name:"initiateFill",accounts:[{name:"keeper",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"keeperTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!1,isSigner:!1},{name:"instructionsSysvar",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"inputTokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"completeFill",accounts:[{name:"keeper",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"outputMint",isMut:!1,isSigner:!1},{name:"inputVault",isMut:!1,isSigner:!1},{name:"outputVault",isMut:!1,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"feeTokenAccount",isMut:!0,isSigner:!1},{name:"feeDataAccount",isMut:!1,isSigner:!1,isOptional:!0,docs:["CHECKED: Inside instruction"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"inputTokenProgram",isMut:!1,isSigner:!1},{name:"outputTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"minAmountExpected",type:"u64"},{name:"inputMintUiPrice",type:"f64"},{name:"outputMintPrice",type:"f64"}]},{name:"withdrawFees",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"mint",isMut:!1,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"programFeeVault",isMut:!0,isSigner:!1},{name:"adminFeeAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"createUpdateFee",accounts:[{name:"feeDataAccount",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!1,docs:["CHECKED: Doesnt really matter"]},{name:"feeAdmin",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"feeBps",type:"u64"}]},{name:"makeStale",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[]},{name:"makeUnstale",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"valueAverage",isMut:!0,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[]},{name:"update",accounts:[{name:"valueAverage",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"firstOrderAt",type:"i64"}]}],accounts:[{name:"valueAverage",type:{kind:"struct",fields:[{name:"isStale",type:"bool"},{name:"idx",type:"u64"},{name:"bump",type:"u8"},{name:"user",type:"publicKey"},{name:"inputMint",type:"publicKey"},{name:"outputMint",type:"publicKey"},{name:"incrementUsdcValue",type:"u64"},{name:"orderInterval",type:"i64"},{name:"inputVault",type:"publicKey"},{name:"outputVault",type:"publicKey"},{name:"autoWithdraw",type:"bool"},{name:"feeDataAccount",type:"publicKey"},{name:"referralFeeAccount",type:"publicKey"},{name:"createdAt",type:"i64"},{name:"inDeposited",type:"u64"},{name:"inLeft",type:"u64"},{name:"inUsed",type:"u64"},{name:"inWithdrawn",type:"u64"},{name:"outReceived",type:"u64"},{name:"outWithdrawn",type:"u64"},{name:"firstOrderAt",type:"i64"},{name:"nextOrderAt",type:"i64"},{name:"outBalanceBeforeSwap",type:"u64"}]}},{name:"feeDataAccount",type:{kind:"struct",fields:[{name:"user",type:"publicKey"},{name:"feeBps",type:"u64"}]}}],types:[{name:"WithdrawParams",type:{kind:"struct",fields:[{name:"withdrawAmount",type:{option:"u64"}},{name:"withdrawal",type:{defined:"Withdrawal"}}]}},{name:"Withdrawal",type:{kind:"enum",variants:[{name:"In"},{name:"Out"}]}}],events:[{name:"Open",fields:[{name:"user",type:"publicKey",index:!1},{name:"valueAverage",type:"publicKey",index:!1},{name:"deposit",type:"u64",index:!1},{name:"inputMint",type:"publicKey",index:!1},{name:"outputMint",type:"publicKey",index:!1},{name:"referralFeeAccount",type:"publicKey",index:!1},{name:"orderInterval",type:"i64",index:!1},{name:"incrementUsdcValue",type:"u64",index:!1},{name:"createdAt",type:"i64",index:!1}]},{name:"Deposit",fields:[{name:"depositor",type:"publicKey",index:!1},{name:"valueAverage",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"inDeposited",type:"u64",index:!1},{name:"inLeft",type:"u64",index:!1}]},{name:"Fill",fields:[{name:"valueAverage",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"keeper",type:"publicKey",index:!1},{name:"inputMint",type:"publicKey",index:!1},{name:"outputMint",type:"publicKey",index:!1},{name:"inputAmount",type:"u64",index:!1},{name:"outputAmount",type:"u64",index:!1},{name:"fee",type:"u64",index:!1},{name:"newActualUsdcValue",type:"u64",index:!1},{name:"supposedUsdcValue",type:"u64",index:!1},{name:"value",type:"u64",index:!1},{name:"inLeft",type:"u64",index:!1},{name:"inUsed",type:"u64",index:!1},{name:"outReceived",type:"u64",index:!1}]},{name:"Withdraw",fields:[{name:"valueAverage",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"inOrOut",type:{defined:"Withdrawal"},index:!1},{name:"userWithdraw",type:"bool",index:!1},{name:"inLeft",type:"u64",index:!1},{name:"inWithdrawn",type:"u64",index:!1},{name:"outWithdrawn",type:"u64",index:!1}]},{name:"Close",fields:[{name:"user",type:"publicKey",index:!1},{name:"valueAverage",type:"publicKey",index:!1},{name:"createdAt",type:"i64",index:!1},{name:"closedAt",type:"i64",index:!1},{name:"executor",type:"publicKey",index:!1}]}],errors:[{code:6e3,name:"MathOverflow",msg:"Math Overflow"},{code:6001,name:"InvalidOrderInterval",msg:"Order Interval Too Short"},{code:6002,name:"InvalidInputAmount",msg:"Invalid Input Token Amount"},{code:6003,name:"InvalidIncrementAmount",msg:"Invalid Increment Amount"},{code:6004,name:"InvalidTokenPair",msg:"Invalid Input and Output Token Pair"},{code:6005,name:"InvalidDepositAmount",msg:"Invalid Deposit Amount"},{code:6006,name:"UnauthorizedKeeper",msg:"Unauthorized Keeper"},{code:6007,name:"NotTimeToFill",msg:"Not Time to Fill"},{code:6008,name:"AddressMismatch",msg:"Unexpected Account Address"},{code:6009,name:"InvalidFillInstruction",msg:"Did Not Call Complete Fill"},{code:6010,name:"InvalidSwapMint",msg:"Invalid Swap Mint"},{code:6011,name:"InvalidSwapAmount",msg:"Swap Amount Different From Borrowed Amount"},{code:6012,name:"InvalidWithdrawMint",msg:"Invalid Withdraw Mint"},{code:6013,name:"InvalidAuthority",msg:"Invalid Authority"},{code:6014,name:"UnexpectedSwapProgram",msg:"Did Not Call Jup Swap"},{code:6015,name:"UnexpectedSwapInstruction",msg:"Did Not Call Jup Swap"},{code:6016,name:"NoSwapInstruction",msg:"Did Not Call Jup Swap"},{code:6017,name:"UnexpectedInputAccount",msg:"Invalid Swap Input Account"},{code:6018,name:"UnexpectedOutputAccount",msg:"Did Not Swap to Output Account"},{code:6019,name:"JupSwapShortChanged",msg:"Jupiter Swap Below Minimum Out"},{code:6020,name:"Unauthorized",msg:"Unauthorized"},{code:6021,name:"InsufficientVaultBalance",msg:"Insufficient for Withdrawal"},{code:6022,name:"UnexpectedVaultBalance",msg:"Vault has Balance"},{code:6023,name:"InvalidFeeBps",msg:"Invalid Fee BPS"},{code:6024,name:"UnsupportedTokenWithTransferFee",msg:"Tokens with transfer fee is not supported."},{code:6025,name:"ExceedUpperBound",msg:"Bought too much"},{code:6026,name:"BeneathLowerBound",msg:"Bought too little"}]};function A(e,t){const[n]=a.PublicKey.findProgramAddressSync([g.from("customfee"),t.toBuffer()],e.programId);return n}function w(e,t){const[n]=a.PublicKey.findProgramAddressSync([t.toBuffer()],e.programId);return n}async function S(e,t){return(await e.getParsedAccountInfo(t)).value?.owner}var M=async(e,t,n,i=n,r=!0)=>{const a=(0,o.MO)(t,n,r);if(await e.getAccountInfo(a))return{tokenAccount:a,ix:void 0};return{tokenAccount:a,ix:(0,u.E)(i,a,n,t)}},x=class{constructor(e,t="mainnet-beta",n,i){this.conn=e,this.api=n,this.provider=i??new r.AnchorProvider(this.conn,{},r.AnchorProvider.defaultOptions()),this.program=new r.Program(b,v[t],this.provider)}async getAll(){return this.program.account.valueAverage.all()}async getCurrentByUser(e){const[t,n]=await Promise.all([this.program.account.valueAverage.all([{memcmp:{offset:18,bytes:e.toBase58()}}]),fetch(this.api+`/value-averages?user=${e.toBase58()}&status=1`).then((e=>e.json())).then((e=>e.data.valueAverageAccounts))]),i={};return n.forEach((e=>i[e.valueAverageKey]=e)),t.map((e=>(e.account.estimatedUsdcValueSpent=i[e.publicKey.toBase58()]?.estimatedUsdcValueSpent,e)))}async getClosedByUser(e){return(await fetch(this.api+`/value-averages?user=${e.toBase58()}&status=0`).then((e=>e.json()))).data.valueAverageAccounts.map((e=>{let t=[],n=new h.Z("0");return e.fills.reverse().forEach((e=>{const i={userKey:new a.PublicKey(e.userKey),valueAverageKey:new a.PublicKey(e.valueAverageKey),inputMint:new a.PublicKey(e.inputMint),outputMint:new a.PublicKey(e.inputMint),inputAmount:e.inputAmount,outputAmount:e.outputAmount,totalOutputBeforeFill:n.toFixed(0),totalOutputAfterFill:"0",value:e.value,feeMint:new a.PublicKey(e.feeMint),fee:e.fee,supposedUsdcValue:e.supposedUsdcValue,newActualUsdcValue:e.newActualUsdcValue,txSignature:e.txSignature,confirmedAt:new Date(Date.parse(e.confirmedAt))};n=n.plus(e.outputAmount),i.totalOutputAfterFill=n.toFixed(0),t.push(i)})),{publicKey:new a.PublicKey(e.valueAverageKey),account:{user:new a.PublicKey(e.userKey),inputMint:new a.PublicKey(e.inputMint),outputMint:new a.PublicKey(e.outputMint),inDeposited:new r.BN(e.inDeposited),inLeft:new r.BN(e.inLeft),inUsed:new r.BN(e.inUsed),inWithdrawn:new r.BN(e.inWithdrawn),outReceived:new r.BN(e.outReceived),outWithdrawn:new r.BN(e.outWithdrawn),estimatedUsdcValueSpent:e.estimatedUsdcValueSpent,supposedUsdcValue:new r.BN(e.supposedUsdcValue),incrementUsdcValue:new r.BN(e.incrementUsdcValue),orderInterval:new r.BN(e.orderInterval),closeTxHash:e.closeTxHash,openTxHash:e.openTxHash,status:e.status,createdAt:new r.BN(new Date(e.openedAt).getTime()/1e3)},fills:t.reverse()}}))}async getFillHistory(e){try{const t=(await fetch(this.api+`/value-averages/${e.toBase58()}/fills`).then((e=>e.json()))).data.fills;let n=new h.Z("0");return t.reverse().map((e=>{const t={userKey:new a.PublicKey(e.userKey),valueAverageKey:new a.PublicKey(e.valueAverageKey),inputMint:new a.PublicKey(e.inputMint),outputMint:new a.PublicKey(e.outputMint),inputAmount:e.inputAmount,outputAmount:e.outputAmount,totalOutputBeforeFill:n.toFixed(0),totalOutputAfterFill:"0",value:e.value,feeMint:new a.PublicKey(e.feeMint),fee:e.fee,supposedUsdcValue:e.supposedUsdcValue,newActualUsdcValue:e.newActualUsdcValue,txSignature:e.txSignature,confirmedAt:new Date(1e3*+e.confirmedAt)};return n=n.plus(e.outputAmount),t.totalOutputAfterFill=n.toFixed(0),t})).reverse()}catch(t){if(t instanceof TypeError)throw t;if(t instanceof SyntaxError)return[];console.log(t)}}async getUserFeeDataAccount(e){const t=await this.program.account.feeDataAccount.all([{memcmp:{offset:8,bytes:e.toBase58()}}]);return t.length>0?t[0]:null}async get(e){return this.program.account.valueAverage.fetch(e)}computeSupposedNumberOfOrders(e,t,n){if(e instanceof Date&&t instanceof Date&&"number"===typeof n){const i=e.getTime()/1e3,r=t.getTime()/1e3-i;return Math.floor(r/n)+1}if("object"===typeof e&&!(e instanceof Date)){const t=e;return new h.Z(Date.now()/1e3).minus(new h.Z(t.firstOrderAt.toString())).div(new h.Z(t.orderInterval.toString())).plus(1).floor().toNumber()}throw new Error("Invalid arguments")}computeSupposedUIValue(e,t,n,i){if(e instanceof Date&&t&&"number"===typeof n&&i){const r=new h.Z(this.computeSupposedNumberOfOrders(e,t,n)),a=new h.Z(i.toString());return r.mul(a).div(new h.Z(10**6))}if("object"===typeof e&&!(e instanceof Date)){const t=e;return new h.Z(this.computeSupposedNumberOfOrders(t)).mul(new h.Z(t.incrementUsdcValue.toString())).div(new h.Z(10**6))}throw new Error("Invalid arguments for computeSupposedUIValue")}computeNextOrderAt(e){return new h.Z(this.computeSupposedNumberOfOrders(e)).mul(e.orderInterval.toString()).plus(e.firstOrderAt.toString()).toNumber()}async open({user:e,payer:t,inputMint:n,outputMint:i,orderInterval:c,depositAmount:l,incrementUSDCValue:p,autoWithdraw:d=!1,userInputAccount:f,feeDataAccount:h,referralFeeAccount:v,startAtUnix:b,inputTokenProgram:A,outputTokenProgram:w}){const x=new r.BN(parseInt((Date.now()/1e3).toString()));b=b?new r.BN(b.toString()):x;const P=function(e,t,n,i,r){const o=t.toArrayLike(g,"le",8),[u]=a.PublicKey.findProgramAddressSync([g.from("valueaverage"),n.toBuffer(),i.toBuffer(),r.toBuffer(),o],e.programId);return u}(this.program,x,e,n,i),O=[],k=[];if(n.equals(s.Gd)){const{tokenAccount:i,ix:a}=await M(this.conn,n,e,t,!0),o=r.web3.SystemProgram.transfer({fromPubkey:e,lamports:new r.BN(l.toString()).toNumber(),toPubkey:i}),u=m(i);a&&(O.push(a),k.push(y(i,e,e))),O.push(o),O.push(u)}if([A,w]=await Promise.all([A??S(this.conn,n),w??S(this.conn,i)]),d&&O.push((0,u.j)(t,(0,o.MO)(i,e,!0),e,i,w)),!h){const t=await this.getUserFeeDataAccount(e);t&&(h=t.publicKey)}return{ixs:await this.program.methods.open(x,new r.BN(c.toString()),new r.BN(l.toString()),new r.BN(p.toString()),b??x,d).accounts({valueAverage:P,user:e,payer:t,inputMint:n,outputMint:i,userInputAccount:f??(0,o.MO)(n,e,!0),inputVault:(0,o.MO)(n,P,!0),outputVault:(0,o.MO)(i,P,!0),feeDataAccount:h??null,referralFeeAccount:v??null,inputTokenProgram:A,outputTokenProgram:w}).preInstructions(O).postInstructions(k).transaction().then((e=>e.instructions)),pda:P}}async close(e,t,n,i,r){return n=n??await this.get(t),[i,r]=await Promise.all([i??S(this.conn,n.inputMint),r??S(this.conn,n.outputMint)]),this.program.methods.close().accounts({user:e,valueAverage:t,inputVault:n.inputVault,outputVault:n.outputVault,inputTokenProgram:i,outputTokenProgram:r}).instruction()}async deposit(e,t,n,i,a,u,c){u=u??await this.get(e),c=c??await S(this.conn,u.inputMint);const l=[],p=[];if(u.inputMint.equals(s.Gd)){const{tokenAccount:e,ix:a}=await M(this.conn,u.inputMint,n,i,!0),o=r.web3.SystemProgram.transfer({fromPubkey:i,lamports:new r.BN(t.toString()).toNumber(),toPubkey:e}),s=m(e);a&&(l.push(a),p.push(y(e,i,i))),l.push(o),l.push(s)}return{preInstructions:l,depositIx:await this.program.methods.deposit(new r.BN(t.toString())).accounts({user:i,valueAverage:e,mint:u.inputMint,vault:u.inputVault,userTokenAccount:a??(0,o.MO)(u.inputMint,i,!0),tokenProgram:c}).instruction(),postInstructions:p}}async withdraw(e,t,n,i,a=!1,c,l,p){const m=l??await this.get(n),d=c?new r.BN(c.toString()):null,f={withdrawAmount:d,withdrawal:{in:{}}},y={withdrawAmount:d,withdrawal:{out:{}}},h=i.equals(m.inputMint);p=p??h?await S(this.conn,m.inputMint):await S(this.conn,m.outputMint);const g=[];return a&&h&&!m.inputMint.equals(s.Gd)&&g.push((0,u.j)(t,(0,o.MO)(m.inputMint,e,!1,p),e,m.inputMint,p)),!a||h||m.outputMint.equals(s.Gd)||g.push((0,u.j)(t,(0,o.MO)(m.outputMint,e,!1,p),e,m.outputMint,p)),g.push(await this.program.methods.withdraw(h?f:y).accounts({payer:t,user:e,valueAverage:n,inputMint:m.inputMint,outputMint:m.outputMint,valueAverageVault:(0,o.MO)(h?m.inputMint:m.outputMint,n,!0),userInputAccount:h?m.inputMint.equals(s.Gd)?null:(0,o.MO)(m.inputMint,e,!0):null,userOutputAccount:h||m.outputMint.equals(s.Gd)?null:(0,o.MO)(m.outputMint,e,!0),intermediateAccount:i.equals(s.Gd)?w(this.program,n):null,tokenProgram:p}).instruction()),g}async withdrawV2(e,t,n,i,a=!1,c,l,p){const m=l??await this.get(n),d=c?new r.BN(c.toString()):null,f={withdrawAmount:d,withdrawal:{in:{}}},y={withdrawAmount:d,withdrawal:{out:{}}},h=i.equals(m.inputMint);p=p??h?await S(this.conn,m.inputMint):await S(this.conn,m.outputMint);const g=[];return a&&h&&!m.inputMint.equals(s.Gd)&&g.push((0,u.j)(t,(0,o.MO)(m.inputMint,e,!1,p),e,m.inputMint,p)),!a||h||m.outputMint.equals(s.Gd)||g.push((0,u.j)(t,(0,o.MO)(m.outputMint,e,!1,p),e,m.outputMint,p)),g.push(await this.program.methods.withdrawV2(h?f:y).accounts({payer:t,user:e,valueAverage:n,inputMint:m.inputMint,outputMint:m.outputMint,valueAverageVault:(0,o.MO)(h?m.inputMint:m.outputMint,n,!0),userInputAccount:h?m.inputMint.equals(s.Gd)?null:(0,o.MO)(m.inputMint,e,!0):null,userOutputAccount:h||m.outputMint.equals(s.Gd)?null:(0,o.MO)(m.outputMint,e,!0),intermediateAccount:i.equals(s.Gd)?w(this.program,n):null,tokenProgram:p}).instruction()),g}async withdrawFees(e,t,n,i,u){let s;return[[s],u]=await Promise.all([a.PublicKey.findProgramAddressSync([g.from("fee")],this.program.programId),u??S(this.conn,t)]),this.program.methods.withdrawFees(new r.BN(n.toString())).accounts({admin:e,mint:t,feeAuthority:s,programFeeVault:(0,o.MO)(t,s,!0),adminFeeAccount:i??(0,o.MO)(t,e,!1),tokenProgram:u}).instruction()}async createUpdateFee(e,t,n){return this.program.methods.createUpdateFee(new r.BN(n)).accounts({feeDataAccount:A(this.program,t),user:t,feeAdmin:e}).instruction()}async initiateFill(e,t,n,i,a,u,s,c){return c=c??await S(this.conn,i),this.program.methods.initiateFill(new r.BN(t.toString())).accounts({keeper:n,valueAverage:e,inputMint:i,keeperTokenAccount:s??(0,o.MO)(i,n,!1),inputVault:a,outputVault:u,instructionsSysvar:r.web3.SYSVAR_INSTRUCTIONS_PUBKEY,inputTokenProgram:c}).instruction()}async completeFill(e,t,n,i,u,s,c,l,p,m=null,d,f){let y;return[[y],d,f]=await Promise.all([a.PublicKey.findProgramAddressSync([g.from("fee")],this.program.programId),d??S(this.conn,s),f??S(this.conn,c)]),this.program.methods.completeFill(new r.BN(t.toString()),n,i).accounts({keeper:u,valueAverage:e,inputMint:s,outputMint:c,inputVault:l,outputVault:p,feeAuthority:y,feeTokenAccount:(0,o.MO)(c,y,!0),feeDataAccount:m??null,instructionsSysvar:r.web3.SYSVAR_INSTRUCTIONS_PUBKEY,inputTokenProgram:d,outputTokenProgram:f}).instruction()}async makeStale(e,t){return this.program.methods.makeStale().accounts({admin:t,valueAverage:e}).instruction()}async makeUnstale(e,t){return this.program.methods.makeUnstale().accounts({admin:t,valueAverage:e}).instruction()}}},64421:function(e,t,n){n.d(t,{Gd:function(){return u},H_:function(){return r},_u:function(){return o},nA:function(){return a}});var i=n(94728);const r=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),a=new i.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),o=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),u=new i.PublicKey("So11111111111111111111111111111111111111112");new i.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},25059:function(e,t,n){n.d(t,{E:function(){return o},j:function(){return u}});var i=n(94728),r=n(64421),a=n(795).Buffer;function o(e,t,n,i,o=r.H_,u=r._u){return s(e,t,n,i,a.alloc(0),o,u)}function u(e,t,n,i,o=r.H_,u=r._u){return s(e,t,n,i,a.from([1]),o,u)}function s(e,t,n,a,o,u=r.H_,s=r._u){const c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:c,programId:s,data:o})}},92147:function(e,t,n){n.d(t,{Am:function(){return l},MO:function(){return p}});var i=n(52466),r=n(78200),a=n(94728),o=n(64421);class u extends Error{constructor(e){super(e)}}class s extends u{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}n(795).Buffer;const c=(0,i.struct)([(0,i.u32)("mintAuthorityOption"),(0,r.ZL)("mintAuthority"),(0,r.AW)("supply"),(0,i.u8)("decimals"),(0,r.Xg)("isInitialized"),(0,i.u32)("freezeAuthorityOption"),(0,r.ZL)("freezeAuthority")]);c.span;async function l(e,t,n=!1,i=o.H_,r=o._u){if(!n&&!a.PublicKey.isOnCurve(t.toBuffer()))throw new s;const[u]=await a.PublicKey.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],r);return u}function p(e,t,n=!1,i=o.H_,r=o._u){if(!n&&!a.PublicKey.isOnCurve(t.toBuffer()))throw new s;const[u]=a.PublicKey.findProgramAddressSync([t.toBuffer(),i.toBuffer(),e.toBuffer()],r);return u}}}]);
//# sourceMappingURL=3843-d20982682b5139eb.js.map