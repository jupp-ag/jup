import{n as se,r as m,R as q,l as re}from"./vendors-Dtot3KuJ.js";import{ag as ne,z as oe,l as le,a3 as R,ah as D,W as ie,g as ce,U as me,X as de,V as xe,Y as pe,j as e,f as o,T as j,k as _,ai as ue}from"./index-rYEy9Y7-.js";import{A as N,T as B,S as h}from"./Skeleton-DP44cgo5.js";import{a as K}from"./useBlockchainExplorer-Bfo5epRb.js";import{B as ve,a2 as ge,a3 as fe}from"./Button-BDyEdmnj.js";import{u as Ce,S as he}from"./useDebouncedInputCallback-BrJO8xA0.js";import{b as T,A as I,M as _e,a as je,c as ke}from"./Alert-D7GHY6oI.js";import{T as ye,a as Ne,b as z}from"./Tabs-DcNKGcOi.js";import{a as be}from"./index-4aQNt6WP.js";import{C as Se}from"./Checkbox-C4ZH7UYo.js";import{b as O}from"./TokenAmountSwitch-BzcpGRmU.js";import{S as we}from"./Spinner-HGoxBeC4.js";import{b as Te}from"./TokenBalance-Clr_Wxgh.js";import{u as Ae}from"./useStorageBooleanState-Csz9mz-l.js";import{T as Le}from"./OperationModal-ChX50NfD.js";import{T as Fe}from"./FiatAmountFormatter-DJa9-DlJ.js";import{D as Me}from"./Divider-jHGK41G-.js";const E=t=>K({queryKey:["useAssetMetadataImport",t],retry(r,l){return l instanceof ne?!1:r<3},queryFn:async()=>{if(!oe.isEnabled(le.SELFLISTING)||!t||!R.isValid(t))return null;const r=new R(t);if(!N.isInitialized||N.assets?.some(d=>d.contractAddress.equals(t)))return null;const i=await D.fetchAssetsMetadataByAddresses([r],ie.wallet?.address);if(i instanceof Error)throw i;const c=i.at(0);return c?(c.isImported=!0,c):null}}),h2=({readyToBeInitialized:t,getStorageState:a})=>{const{state:r}=ce(),[l]=se(),[i,c]=m.useState(),{data:d,isLoading:n}=E(i?.fromToken),{data:u,isLoading:p}=E(i?.toToken);return m.useEffect(()=>{if(!t)return;const g={fromToken:r?.ft,fromAmount:r?.fa,toToken:r?.tt,toAmount:r?.ta};if(Object.values(g).some(Boolean)){c(g);return}const f={fromToken:l.get(me),fromAmount:l.get(de),toToken:l.get(xe),toAmount:l.get(pe)};if(Object.values(f).some(Boolean)){c(f);return}const v=a();c(v)},[t]),m.useEffect(()=>{d&&(d.blacklisted||N.importAssetMetadata(d))},[d]),m.useEffect(()=>{u&&(u.blacklisted||N.importAssetMetadata(u))},[u]),{stateToInit:n||p?void 0:i}},_2=({title:t,left:a,right:r,className:l,...i})=>e.jsxs("div",{...i,className:o("flex justify-center",l),children:[a,e.jsx(j.H4,{weight:"bold",className:"inline-flex w-full items-center",children:t}),r]}),P="/assets/empty-tokens-search-dark-tM_KlrSC.png",Y="/assets/empty-tokens-search-light-B3vyq8u8.png",Re="/assets/empty-favourite-assets-dark-Boyzmtbe.png",De="/assets/empty-favourite-assets-light-BtmD7ayy.png",Ie=({isFavorites:t,...a})=>e.jsx(T,{...a,withPadding:!0,children:e.jsx("div",{className:"flex flex-col items-center px-6 py-7",children:t?e.jsx(Be,{}):e.jsx(Ee,{})})}),Ee=()=>{const{t}=_();return e.jsxs(e.Fragment,{children:[e.jsx(B,{src:{light:Y,dark:P},alt:t("shared:tokenSelectorModal.empty"),className:"mb-6 aspect-square h-auto max-h-[100px]"}),e.jsx(j.Body,{weight:"medium",className:"mb-1",children:t("shared:tokenSelectorModal.emptyTitle")}),e.jsx(j.Caption1,{weight:"regular",className:"whitespace-break-spaces text-center text-textTertiary",children:t("shared:tokenSelectorModal.empty")})]})},Be=()=>{const{t}=_();return e.jsxs(e.Fragment,{children:[e.jsx(B,{src:{light:De,dark:Re},alt:t("shared:tokenSelectorModal.emptyFavorites"),className:"mb-6 aspect-square h-auto max-h-[100px]"}),e.jsx(j.Caption1,{weight:"regular",className:"whitespace-break-spaces text-center text-textTertiary",children:t("shared:tokenSelectorModal.emptyFavorites")})]})},Oe="_grp1_t9vfn_20",ze="_grp2_t9vfn_21",He="_grp3_t9vfn_22",Ue="_grp4_t9vfn_23",qe="_grp5_t9vfn_24",Ke="_grp6_t9vfn_25",Pe="_grp7_t9vfn_26",Ye="_oval1_t9vfn_50",Ve="_oval2_t9vfn_51",s={"star-swg":"_star-swg_t9vfn_1","star-outline":"_star-outline_t9vfn_6","star-filled":"_star-filled_t9vfn_9","star-fill":"_star-fill_t9vfn_9","main-circle":"_main-circle_t9vfn_16",grp1:Oe,grp2:ze,grp3:He,grp4:Ue,grp5:qe,grp6:Ke,grp7:Pe,oval1:Ye,oval2:Ve,"star-checkbox":"_star-checkbox_t9vfn_55","animate-star-circle-in":"_animate-star-circle-in_t9vfn_66","star-circle-in":"_star-circle-in_t9vfn_1","animate-grp1-oval1":"_animate-grp1-oval1_t9vfn_115","grp1-oval1-in":"_grp1-oval1-in_t9vfn_1","animate-grp1-oval2":"_animate-grp1-oval2_t9vfn_119","grp1-oval2-in":"_grp1-oval2-in_t9vfn_1","animate-grp2-oval1":"_animate-grp2-oval1_t9vfn_123","grp2-oval1-in":"_grp2-oval1-in_t9vfn_1","animate-grp2-oval2":"_animate-grp2-oval2_t9vfn_127","grp2-oval2-in":"_grp2-oval2-in_t9vfn_1","animate-grp3-oval1":"_animate-grp3-oval1_t9vfn_131","grp3-oval1-in":"_grp3-oval1-in_t9vfn_1","animate-grp3-oval2":"_animate-grp3-oval2_t9vfn_135","grp3-oval2-in":"_grp3-oval2-in_t9vfn_1","animate-grp4-oval1":"_animate-grp4-oval1_t9vfn_139","grp4-oval1-in":"_grp4-oval1-in_t9vfn_1","animate-grp4-oval2":"_animate-grp4-oval2_t9vfn_143","grp4-oval2-in":"_grp4-oval2-in_t9vfn_1","animate-grp5-oval1":"_animate-grp5-oval1_t9vfn_147","grp5-oval1-in":"_grp5-oval1-in_t9vfn_1","animate-grp5-oval2":"_animate-grp5-oval2_t9vfn_151","grp5-oval2-in":"_grp5-oval2-in_t9vfn_1","animate-grp6-oval1":"_animate-grp6-oval1_t9vfn_155","grp6-oval1-in":"_grp6-oval1-in_t9vfn_1","animate-grp6-oval2":"_animate-grp6-oval2_t9vfn_159","grp6-oval2-in":"_grp6-oval2-in_t9vfn_1","animate-grp7-oval1":"_animate-grp7-oval1_t9vfn_163","grp7-oval1-in":"_grp7-oval1-in_t9vfn_1","animate-grp7-oval2":"_animate-grp7-oval2_t9vfn_167","grp7-oval2-in":"_grp7-oval2-in_t9vfn_1","animate-star-in":"_animate-star-in_t9vfn_304","star-in":"_star-in_t9vfn_1","animate-star-out":"_animate-star-out_t9vfn_319","star-out":"_star-out_t9vfn_6"},H=new Map,Qe=1800,Ge=({className:t,checked:a,onCheckedChange:r,...l})=>{const i=m.useId(),c=l.id||i,d=m.useRef(null),[n,u]=m.useState(a||l.defaultChecked),[p,g]=m.useState(!1),f=m.useCallback(v=>{v.stopPropagation(),g(!0);const A=d.current?.getAttribute("aria-checked")==="true";clearInterval(H.get(c)),H.set(c,setTimeout(()=>{g(!1),r?.(!A)},Qe))},[r]);return m.useEffect(()=>{u(a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(Se,{...l,id:c,ref:d,checked:n,onCheckedChange:u,className:s["star-checkbox"]}),e.jsx("label",{htmlFor:c,onClick:f,children:e.jsx("svg",{viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg",className:o(s["star-swg"],t),children:e.jsxs("g",{id:"Group",fill:"none",fillRule:"evenodd",transform:"translate(467 392)",children:[n&&!p&&e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",id:"star-filled",d:"M28.5207 16.5631C28.8364 16.4922 29.1638 16.4922 29.4795 16.5631C30.1992 16.7247 30.6127 17.2551 30.8422 17.6014C31.0721 17.9482 31.3054 18.4123 31.5488 18.8964C31.5591 18.917 31.5694 18.9375 31.5798 18.9581L33.4889 22.7543C33.658 23.0905 33.7541 23.28 33.8361 23.4171C33.8864 23.501 33.9124 23.5323 33.9201 23.5405C33.9413 23.559 33.9641 23.5754 33.9884 23.5896C33.9765 23.5826 33.9956 23.6 34.1321 23.6298C34.2882 23.6639 34.4985 23.6947 34.8711 23.7478L39.1715 24.3611C39.7252 24.4399 40.2525 24.515 40.6629 24.6244C41.068 24.7324 41.7187 24.9585 42.1019 25.6059C42.2687 25.8877 42.3702 26.2035 42.3985 26.5298C42.464 27.2792 42.0667 27.8419 41.8004 28.1655C41.5304 28.4935 41.1455 28.8615 40.7413 29.2481L37.6849 32.1718C37.4074 32.4373 37.2511 32.5879 37.1419 32.7091C37.0752 32.7832 37.0526 32.8181 37.047 32.8279C37.0355 32.8542 37.0266 32.8815 37.0203 32.9093C37.0189 32.9207 37.0164 32.9623 37.0262 33.0614C37.0423 33.2238 37.0789 33.4378 37.145 33.816L37.8704 37.9665C37.9649 38.5067 38.0552 39.0233 38.0778 39.4421C38.1004 39.8584 38.0853 40.537 37.5981 41.0983C37.385 41.3436 37.1197 41.5386 36.8218 41.6686C36.1407 41.9661 35.4887 41.7776 35.0981 41.6318C34.7052 41.4852 34.2392 41.2447 33.7518 40.9931L29.8426 38.9764C29.5122 38.8059 29.3254 38.7104 29.1804 38.6485C29.0535 38.5942 29.0283 38.5972 29.0417 38.5984C29.014 38.5958 28.9862 38.5958 28.9585 38.5984C28.9719 38.5972 28.9467 38.5942 28.8198 38.6485C28.6747 38.7104 28.488 38.8059 28.1576 38.9764L24.2485 40.9931C23.7611 41.2447 23.2951 41.4852 22.9021 41.6318C22.5115 41.7776 21.8595 41.9661 21.1784 41.6686C20.8805 41.5386 20.6153 41.3436 20.4021 41.0983C19.9148 40.537 19.8999 39.8584 19.9224 39.4421C19.945 39.0233 20.0353 38.5067 20.1298 37.9665C20.1338 37.9437 20.1378 37.921 20.1418 37.8982L20.8552 33.816C20.9213 33.4376 20.9579 33.2238 20.9739 33.0614C20.988 32.9193 20.9769 32.8955 20.9799 32.9093C20.9737 32.8815 20.9648 32.8542 20.9532 32.8279C20.9589 32.8411 20.9538 32.8154 20.8582 32.7091C20.7491 32.5879 20.5928 32.4373 20.3153 32.1718L17.3094 29.2963C17.2925 29.2802 17.2757 29.2642 17.2589 29.2481C16.8547 28.8615 16.4699 28.4935 16.1999 28.1655C15.9334 27.8419 15.5361 27.2792 15.6016 26.5298C15.6301 26.2035 15.7315 25.8877 15.8984 25.6059C16.2815 24.9585 16.9322 24.7324 17.3372 24.6244C17.7477 24.515 18.2749 24.4399 18.8286 24.3611C18.8516 24.3578 18.8747 24.3545 18.8977 24.3512L23.1291 23.7478C23.5017 23.6947 23.712 23.6639 23.8681 23.6298C24.0047 23.6 24.0236 23.5826 24.0117 23.5896C24.0361 23.5754 24.0589 23.559 24.0801 23.5404C24.0697 23.5495 24.0922 23.5371 24.164 23.4171C24.2461 23.28 24.3422 23.0905 24.5113 22.7543L26.4204 18.9581C26.4308 18.9375 26.4411 18.917 26.4514 18.8964C26.6948 18.4123 26.9281 17.9482 27.158 17.6014C27.3875 17.2551 27.801 16.7247 28.5207 16.5631Z",className:s["star-filled"]}),(!n||p)&&e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.5207 16.5631C28.8364 16.4922 29.1638 16.4922 29.4795 16.5631C30.1992 16.7247 30.6127 17.2551 30.8422 17.6014C31.0721 17.9482 31.3054 18.4123 31.5488 18.8964C31.5591 18.917 31.5694 18.9375 31.5798 18.9581L33.4889 22.7543C33.658 23.0905 33.7541 23.28 33.8361 23.4171C33.8864 23.501 33.9124 23.5323 33.9201 23.5405C33.9413 23.559 33.9641 23.5754 33.9884 23.5896C33.9765 23.5826 33.9956 23.6 34.1321 23.6298C34.2882 23.6639 34.4985 23.6947 34.8711 23.7478L39.1715 24.3611C39.7252 24.4399 40.2525 24.515 40.6629 24.6244C41.068 24.7324 41.7187 24.9585 42.1019 25.6059C42.2687 25.8877 42.3702 26.2035 42.3985 26.5298C42.464 27.2792 42.0667 27.8419 41.8004 28.1655C41.5304 28.4935 41.1455 28.8615 40.7413 29.2481L37.6849 32.1718C37.4074 32.4373 37.2511 32.5879 37.1419 32.7091C37.0752 32.7832 37.0526 32.8181 37.047 32.8279C37.0355 32.8542 37.0266 32.8815 37.0203 32.9093C37.0189 32.9207 37.0164 32.9623 37.0262 33.0614C37.0423 33.2238 37.0789 33.4378 37.145 33.816L37.8704 37.9665C37.9649 38.5067 38.0552 39.0233 38.0778 39.4421C38.1004 39.8584 38.0853 40.537 37.5981 41.0983C37.385 41.3436 37.1197 41.5386 36.8218 41.6686C36.1407 41.9661 35.4887 41.7776 35.0981 41.6318C34.7052 41.4852 34.2392 41.2447 33.7518 40.9931L29.8426 38.9764C29.5122 38.8059 29.3254 38.7104 29.1804 38.6485C29.0535 38.5942 29.0283 38.5972 29.0417 38.5984C29.014 38.5958 28.9862 38.5958 28.9585 38.5984C28.9719 38.5972 28.9467 38.5942 28.8198 38.6485C28.6747 38.7104 28.488 38.8059 28.1576 38.9764L24.2485 40.9931C23.7611 41.2447 23.2951 41.4852 22.9021 41.6318C22.5115 41.7776 21.8595 41.9661 21.1784 41.6686C20.8805 41.5386 20.6153 41.3436 20.4021 41.0983C19.9148 40.537 19.8999 39.8584 19.9224 39.4421C19.945 39.0233 20.0353 38.5067 20.1298 37.9665C20.1338 37.9437 20.1378 37.921 20.1418 37.8982L20.8552 33.816C20.9213 33.4376 20.9579 33.2238 20.9739 33.0614C20.988 32.9193 20.9769 32.8955 20.9799 32.9093C20.9737 32.8815 20.9648 32.8542 20.9532 32.8279C20.9589 32.8411 20.9538 32.8154 20.8582 32.7091C20.7491 32.5879 20.5928 32.4373 20.3153 32.1718L17.3094 29.2963C17.2925 29.2802 17.2757 29.2642 17.2589 29.2481C16.8547 28.8615 16.4699 28.4935 16.1999 28.1655C15.9334 27.8419 15.5361 27.2792 15.6016 26.5298C15.6301 26.2035 15.7315 25.8877 15.8984 25.6059C16.2815 24.9585 16.9322 24.7324 17.3372 24.6244C17.7477 24.515 18.2749 24.4399 18.8286 24.3611C18.8516 24.3578 18.8747 24.3545 18.8977 24.3512L23.1291 23.7478C23.5017 23.6947 23.712 23.6639 23.8681 23.6298C24.0047 23.6 24.0236 23.5826 24.0117 23.5896C24.0361 23.5754 24.0589 23.559 24.0801 23.5404C24.0697 23.5495 24.0922 23.5371 24.164 23.4171C24.2461 23.28 24.3422 23.0905 24.5113 22.7543L26.4204 18.9581C26.4308 18.9375 26.4411 18.917 26.4514 18.8964C26.6948 18.4123 26.9281 17.9482 27.158 17.6014C27.3875 17.2551 27.801 16.7247 28.5207 16.5631ZM29.0001 19.6743C29.0681 19.8069 29.1453 19.96 29.2346 20.1375L31.1437 23.9336C31.1647 23.9754 31.1858 24.0176 31.207 24.06C31.4607 24.5683 31.7336 25.1146 32.1901 25.5147C32.3381 25.6444 32.4983 25.7595 32.6684 25.8585C33.193 26.1638 33.798 26.2482 34.3606 26.3268C34.4075 26.3334 34.4542 26.3399 34.5004 26.3465L38.7319 26.9499C38.9351 26.9789 39.1108 27.0042 39.2634 27.0272C39.1526 27.1348 39.0247 27.2575 38.8763 27.3995L35.8703 30.275C35.8359 30.308 35.801 30.3411 35.7659 30.3745C35.346 30.7738 34.8947 31.2031 34.6452 31.7688C34.5643 31.9522 34.5017 32.143 34.4581 32.3386C34.3237 32.9421 34.4327 33.5554 34.534 34.1259C34.5424 34.1735 34.551 34.2209 34.5592 34.2678L35.2725 38.3501C35.3072 38.5484 35.3369 38.7195 35.3618 38.8684C35.227 38.8004 35.0725 38.7209 34.8937 38.6285L31.0462 36.6435C31.0051 36.6223 30.9639 36.601 30.9223 36.5793C30.4243 36.3206 29.8889 36.0424 29.2914 35.9853C29.0976 35.9668 28.9026 35.9668 28.7088 35.9853C28.1113 36.0424 27.5759 36.3206 27.0778 36.5793C27.0363 36.601 26.995 36.6223 26.954 36.6435L23.1065 38.6285C22.9277 38.7209 22.7732 38.8004 22.6384 38.8684C22.6633 38.7195 22.6929 38.5484 22.7276 38.3501L23.441 34.2678C23.4493 34.2209 23.4577 34.1735 23.4661 34.1259C23.5676 33.5554 23.6766 32.9421 23.5421 32.3386C23.4985 32.143 23.4359 31.9522 23.355 31.7688C23.1055 31.2031 22.6542 30.7738 22.2343 30.3745C22.1992 30.3411 22.1644 30.308 22.1299 30.275L19.1239 27.3995C18.9755 27.2575 18.8475 27.1348 18.7368 27.0272C18.8894 27.0042 19.065 26.9789 19.2683 26.9499L23.4997 26.3465C23.546 26.3399 23.5927 26.3334 23.6396 26.3268C24.2023 26.2482 24.8071 26.1638 25.3318 25.8585C25.5019 25.7595 25.6621 25.6444 25.8101 25.5147C26.2666 25.1146 26.5394 24.5683 26.7932 24.06C26.8144 24.0176 26.8355 23.9754 26.8565 23.9336L28.7656 20.1375C28.8549 19.96 28.9321 19.8069 29.0001 19.6743Z",id:"star",className:o(s["star-outline"],n&&p&&s["animate-star-in"],!n&&p&&s["animate-star-out"])}),p&&e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M27.4976 18.5379C28.0385 17.4624 28.3089 16.9246 28.7128 16.8339C28.8391 16.8055 28.9701 16.8055 29.0964 16.8339C29.5003 16.9246 29.7707 17.4624 30.3116 18.5379L32.2206 22.3339C32.542 22.973 32.7026 23.2925 32.9595 23.5175C33.044 23.5916 33.1355 23.6574 33.2327 23.7139C33.5277 23.8856 33.8819 23.9361 34.5901 24.037L38.8212 24.6404C40.0488 24.8155 40.6625 24.903 40.8763 25.2642C40.943 25.377 40.9836 25.5033 40.9949 25.6338C41.0315 26.052 40.5835 26.4805 39.6876 27.3376L36.6817 30.213C36.1543 30.7176 35.8904 30.9698 35.7503 31.2879C35.7041 31.3927 35.6682 31.5018 35.6433 31.6134C35.5678 31.9529 35.6306 32.3123 35.7562 33.0314L36.4697 37.1134C36.6793 38.3128 36.7841 38.9125 36.5111 39.2268C36.4259 39.325 36.3199 39.403 36.2007 39.455C35.8192 39.6216 35.2781 39.3425 34.1962 38.7841L30.3488 36.7991C29.721 36.4752 29.407 36.3132 29.0711 36.2812C28.9603 36.2707 28.8489 36.2707 28.7382 36.2812C28.4022 36.3132 28.0882 36.4752 27.4604 36.7991L23.6131 38.7841C22.531 39.3425 21.99 39.6216 21.6085 39.455C21.4893 39.403 21.3833 39.325 21.298 39.2268C21.0251 38.9125 21.1299 38.3128 21.3396 37.1134L22.053 33.0314C22.1786 32.3123 22.2415 31.9529 22.1659 31.6134C22.141 31.5018 22.1052 31.3927 22.059 31.2879C21.9187 30.9698 21.655 30.7176 21.1275 30.213L18.1217 27.3376C17.2257 26.4805 16.7777 26.052 16.8142 25.6338C16.8256 25.5033 16.8662 25.377 16.9329 25.2642C17.1467 24.903 17.7605 24.8155 18.988 24.6404L23.2192 24.037C23.9274 23.9361 24.2815 23.8856 24.5765 23.7139C24.6737 23.6574 24.7652 23.5916 24.8498 23.5175C25.1065 23.2925 25.2672 22.973 25.5886 22.3339L27.4976 18.5379Z",id:"star-fill",className:o(s["star-fill"],n&&s["animate-star-in"],!n&&s["animate-star-out"])}),e.jsx("circle",{cx:"29.5",cy:"29.5",r:"1.5",className:o(s["main-circle"],n&&s["animate-star-circle-in"])}),e.jsxs("g",{id:"grp7",className:s.grp7,children:[e.jsx("circle",{id:"oval1",cx:"2",cy:"6",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp7-oval1"])}),e.jsx("circle",{id:"oval2",cx:"5",cy:"2",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp7-oval2"])})]}),e.jsxs("g",{id:"grp6",className:s.grp6,children:[e.jsx("circle",{id:"oval1",cx:"2",cy:"7",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp6-oval1"])}),e.jsx("circle",{id:"oval2",cx:"3",cy:"2",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp6-oval2"])})]}),e.jsxs("g",{id:"grp3",className:s.grp3,children:[e.jsx("circle",{id:"oval2",cx:"2",cy:"7",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp3-oval2"])}),e.jsx("circle",{id:"oval1",cx:"4",cy:"2",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp3-oval1"])})]}),e.jsxs("g",{id:"grp2",className:s.grp2,children:[e.jsx("circle",{id:"oval2",cx:"5",cy:"6",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp2-oval2"])}),e.jsx("circle",{id:"oval1",cx:"2",cy:"2",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp2-oval1"])})]}),e.jsxs("g",{id:"grp5",className:s.grp5,children:[e.jsx("circle",{id:"oval1",cx:"6",cy:"5",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp5-oval1"])}),e.jsx("circle",{id:"oval2",cx:"2",cy:"2",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp5-oval2"])})]}),e.jsxs("g",{id:"grp4",className:s.grp4,children:[e.jsx("circle",{id:"oval1",cx:"6",cy:"5",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp4-oval1"])}),e.jsx("circle",{id:"oval2",cx:"2",cy:"2",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp4-oval2"])})]}),e.jsxs("g",{id:"grp1",className:s.grp1,children:[e.jsx("circle",{id:"oval1",cx:"2.5",cy:"3",r:"2",opacity:"0",className:o(s.oval1,n&&s["animate-grp1-oval1"])}),e.jsx("circle",{id:"oval2",cx:"7.5",cy:"2",r:"2",opacity:"0",className:o(s.oval2,n&&s["animate-grp1-oval2"])})]})]})]})})})]})},Ze=({options:t,selectedToken:a,onClick:r,onFavoriteClick:l})=>{const i=q.useRef(null),c=be({count:t.length,getScrollElement:()=>i.current,estimateSize:()=>66,overscan:5});return e.jsx(T,{withPadding:!1,children:e.jsx("div",{ref:i,className:"overflow-auto",children:e.jsx("div",{className:"relative w-full",style:{height:`${c.getTotalSize()}px`},children:c.getVirtualItems().map(d=>{const n=t[d.index],u=!n.isAvailable,{token:p}=n,g=p.key===a?.key,f=p.isFavorite;return e.jsxs("button",{type:"button",style:{height:`${d.size}px`,transform:`translateY(${d.start}px)`},className:o("absolute left-0 top-0 w-full","animate-ui-element-transition","flex w-full items-center","py-3 flex gap-3","sm:px-4 md:px-6","hover:bg-backgroundHover",u&&"cursor-not-allowed",g&&"bg-backgroundHover"),onClick:u?void 0:()=>r(p),children:[e.jsx(O,{className:"flex-1",token:p,showLabel:!0,showAmounts:!0,showFiatAmount:!0,disabled:u}),e.jsx(Ge,{checked:f,onCheckedChange:v=>{v!==f&&l(p)},onClick:v=>v.stopPropagation(),className:"mr-[-9px]"})]},d.index)})})})})},We=({token:t})=>{const{t:a}=_();return e.jsxs(e.Fragment,{children:[e.jsx(T,{withPadding:!0,className:"mb-4 flex-none ",children:t.isBlacklisted?e.jsx(I,{icon:"error",className:"!flex-col items-center text-center",children:a("shared:tokenSelectorModal.scamAlert.title")}):e.jsx(I,{icon:"warn",topic:a("shared:tokenSelectorModal.communityAlert.title"),className:"!flex-col items-center text-center",children:a("shared:tokenSelectorModal.communityAlert.content")})}),e.jsx(O,{token:t,showLabel:!0,showAmounts:!0,showFiatAmount:!0,disabled:!1})]})},Xe=({token:t})=>{const{t:a}=_(),r=Te("unknownToken",{contractAddress:t.contractAddress,imageURL:"",amount:"0",symbol:a("shared:tokenSelectorModal.importedAsset"),name:a("shared:tokenSelectorModal.unknown")});return e.jsx(T,{withPadding:!1,children:e.jsxs("div",{className:"flex items-center gap-3 py-3 sm:px-4 md:px-6",children:[e.jsx(O,{className:"flex-1",token:r,showLabel:!1,showAmounts:!0,showFiatAmount:!0,disabled:!1}),e.jsx(we,{size:20,className:"ml-auto text-buttonPrimary"})]})})},$e=t=>{const{t:a}=_(),r=a("shared:tokenSelectorModal.assetFetchGeneralError");return e.jsx(T,{...t,withPadding:!0,children:e.jsxs("div",{className:"flex flex-col items-center gap-7 py-7",children:[e.jsx(B,{src:{light:Y,dark:P},alt:r,className:"aspect-square h-auto max-h-[100px]"}),e.jsx(j.Button1,{weight:"regular",className:"whitespace-break-spaces text-center  text-textTertiary",children:r})]})})},j2=re(({options:t,selected:a,onChange:r,onClose:l,...i})=>{const{t:c}=_(),d=q.useRef(null),[n,u]=Ae("token-selector-favorite-assets-tab"),[p,g]=m.useState(""),f=m.useCallback(x=>{g(x),x?X(x):A(x)},[]),[v,A]=m.useState(""),X=Ce(A),b=m.useMemo(()=>{const C=v.match("((EQ|UQ)[a-zA-Z0-9-_]{46})|((-1|0):[a-zA-Z0-9]{64})")?.at(0);if(C)try{return new R(C)}catch{return}},[v]),{data:S}=K({queryKey:["TokenSelectorContainer.search",v],queryFn:async()=>{if(!v)return null;const x=await D.searchAssets(b?.base64??v,t?.map(({token:C})=>C)??[]);return new Map(x.map((C,w)=>[C.contractAddress.key,w]))},refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:ue}),L=m.useMemo(()=>t?t.filter(({token:x})=>{const C=n?x.isFavorite:!0,w=S?S.has(x.contractAddress.key):!0;return C&&w}).sort((x,C)=>{const w=S?.get(x.token.contractAddress.key)??0,ae=S?.get(C.token.contractAddress.key)??0;return w-ae}):[],[t,S,n]),{data:k,error:$,isLoading:J}=E(b&&L.length===0?b.base64:null),y=m.useMemo(()=>k&&D.buildAssetEntity(k),[k]),F=m.useCallback(()=>{f(""),l()},[l]),ee=m.useCallback(x=>{f(x.target.value)},[]),M=m.useCallback(x=>{r(x),F()},[r,F]),te=m.useMemo(()=>{if(y&&!y.isBlacklisted)return[e.jsx(ve,{size:"large",variant:"primary",color:"default",onClick:()=>{!y||!k||(N.importAssetMetadata(k),M(y))},children:c("shared:ui.agreeAndProceed")},"proceed")]},[y,k,M,c]);return e.jsxs(_e,{...i,onClose:F,className:o(i.className,"h-[100svh]"),initialFocusRef:d,children:[e.jsxs(je,{title:c("shared:tokenSelectorModal.title"),children:[e.jsx(he,{ref:d,value:p,onChange:ee,placeholder:c("shared:tokenSelectorModal.searchPlaceholder")}),e.jsx(ye,{size:"medium",variant:"underlined",value:n?"favorites":"allAssets",onValueChange:x=>{u(x==="favorites")},className:"mt-2 !px-0 md:mt-3",children:e.jsxs(Ne,{children:[e.jsx(z,{value:"favorites",children:c("shared:tokenSelectorModal.tabs.favorites")}),e.jsx(z,{value:"allAssets",children:c("shared:tokenSelectorModal.tabs.allAssets")})]})})]}),$?e.jsx($e,{}):b&&J?e.jsx(Xe,{token:{contractAddress:b}}):y?e.jsx(We,{token:y}):L.length?e.jsx(Ze,{options:L,selectedToken:a,onClick:M,onFavoriteClick:N.toggleFavoriteAsset}):e.jsx(Ie,{isFavorites:n}),e.jsx(ke,{withMobileCloseButton:!0,children:te})]})}),Je=({token:t,value:a,className:r,...l})=>{const i=l.disabled||!t,c=m.useMemo(()=>a?a.amount.lten(0):!1,[a]);return e.jsx(Le,{placeholder:"0.00",...l,value:a,token:t,disabled:i,invalid:l.invalid||c,className:o("focus:outline-none border-none","!shadow-none","!bg-transparent","!p-0","[&>*:not(input)]:!hidden",r),inputClassName:o(l.invalid&&"text-dynamicRed",i&&"text-textTertiary","w-full","text-[3rem] leading-[3rem] h-[3.2rem] font-bold text-end font-Manrope","placeholder:!text-textTertiary/40")})};function k2({title:t,disabled:a,onBalanceClick:r,balance:l,amountInputProps:i,selectComponent:c,className:d,fiatAmountComponent:n,isBalancesLoaded:u,...p}){const g=a||!l||l.amount.lten(0)||!r;return e.jsxs(V,{...p,className:d,children:[e.jsxs(Q,{children:[e.jsx(j.Caption1,{weight:"regular",className:"whitespace-nowrap text-textTertiary",children:t}),u?e.jsx(W,{className:"ml-auto",balance:l,onClick:r,disabled:g}):e.jsx(h,{className:"ml-auto h-[18px] max-w-[50px]"})]}),e.jsxs(G,{children:[c,e.jsx(Je,{...i,disabled:a||i.disabled,className:o("flex-1 min-w-[40px]",i.className)})]}),n?e.jsx(Z,{children:u?e.jsx(j.Caption1,{weight:"regular",className:"text-end text-textTertiary",children:n}):e.jsx(h,{className:"h-[22px] max-w-[90px]"})}):null]})}const e2=m.forwardRef((t,a)=>e.jsx("form",{...t,ref:a,className:o("sm:max-md:-mx-4 sm:max-md:px-4",t.className),onSubmit:r=>r.preventDefault()}));e2.displayName="DexForm";const V=m.forwardRef(({className:t,...a},r)=>e.jsx("section",{...a,ref:r,className:o("flex flex-col gap-2",t)}));V.displayName="DexFormSectionRoot";const Q=m.forwardRef(({className:t,...a},r)=>e.jsx("div",{...a,ref:r,className:o("inline-flex items-center gap-6",t)}));Q.displayName="DexFormSectionHeader";const G=m.forwardRef(({className:t,...a},r)=>e.jsx("div",{...a,ref:r,className:o("inline-flex items-center gap-3",t)}));G.displayName="DexFormSectionContent";const Z=m.forwardRef(({className:t,...a},r)=>e.jsx("div",{...a,ref:r,className:o("inline-flex items-center justify-end",t)}));Z.displayName="DexFormSectionFooter";const W=m.forwardRef(({disabled:t,balance:a,onClick:r,className:l,...i},c)=>{const{formatter:d}=_();return e.jsxs("button",{type:"button",...i,ref:c,className:o("animate-ui-element-transition flex items-center truncate",t?"cursor-default text-textTertiary":"text-accent hover:text-accentHover active:text-accentHover cursor-pointer",l),disabled:t,onClick:a&&r?()=>r(a):void 0,children:[e.jsx(ge,{className:o("min-w-3 p-[5px]",{"text-iconTertiary":t})}),e.jsx(j.Caption1,{weight:"regular",className:"truncate",children:a?d.tokenAmount(a):0})]})});W.displayName="BalanceButton";const y2=({token:t,className:a,renderToken:r=t2,...l})=>{const{t:i}=_();return e.jsxs("button",{...l,type:"button",className:o("font-medium text-[30px] leading-[38px]","animate-ui-element-transition","flex items-center gap-1 max-h-7","max-w-[max(55%,21rem)]",l.disabled?"text-textTertiary cursor-not-allowed [&_img]:opacity-[.36]":"text-textSecondary hover:text-accentHover",a),children:[t?r(t):i("shared:ui.select"),e.jsx(fe,{})]})},t2=t=>e.jsxs("div",{className:"flex items-center gap-[6px] truncate",children:[e.jsx(Fe,{token:t,size:32,className:"outline outline-[1px] outline-offset-[-1px] outline-stroke"}),e.jsx("span",{className:"truncate",children:t.symbol})]}),N2=t=>{const{t:a}=_();return e.jsx(I,{...t,icon:"error",children:a("shared:taxableTokenUsageAlert.text",{symbol:t.token.symbol})})},b2=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx(h,{className:"h-[36px] max-w-[148px]"}),e.jsx(h,{className:"h-[36px] max-w-[124px]"})]}),e.jsxs("div",{className:o("relative","sm:max-md:-mx-4 sm:max-md:px-4","sm:max-md:border-t border-b border-stroke","py-4","mt-2"),children:[e.jsx(U,{}),e.jsxs("div",{className:"isolate flex items-center justify-center py-1",children:[e.jsx(Me,{className:"absolute z-[1]"}),e.jsx("div",{className:"z-[1] size-[36px] rounded-full border border-stroke bg-background"})]}),e.jsx(U,{})]}),e.jsx(h,{className:"mt-5 sm:h-[48px] md:h-[56px]"})]}),U=t=>e.jsxs("div",{...t,children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between gap-3",children:[e.jsx(h,{className:"h-[22px] max-w-[66px]"}),e.jsx(h,{className:"h-[22px] max-w-[159px]"})]}),e.jsxs("div",{className:"mb-2 flex gap-3",children:[e.jsx(h,{className:"h-[32px] max-w-[100px]"}),e.jsx(h,{className:"h-[32px]"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(h,{className:"h-[22px] max-w-[90px]"})})]});export{W as B,_2 as D,b2 as S,j2 as T,e2 as a,V as b,Q as c,G as d,y2 as e,Je as f,Z as g,N2 as h,k2 as i,h2 as u};
