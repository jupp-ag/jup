import{_ as T,a1 as k,a2 as g,a3 as O,Z as f,$ as re,s as N,r as v,G as oe,I as w,a4 as Ee,H as ne,a5 as se,O as Pe,M as _,A as Q,K as Ce,W as xe,k as ge,a6 as G,j as A,f as P,T as m,L as z,F as Oe,l as ve}from"./index-rYEy9Y7-.js";import{R as _e,r as ye}from"./Details-BLCaPtyP.js";import{T as Ne}from"./Divider-jHGK41G-.js";import{J as be,S as ae,b as Ae,T as y,B as Fe,c as Ue,O as Ke}from"./useBlockchainExplorer-Bfo5epRb.js";import{A as b,a as ie}from"./Skeleton-DP44cgo5.js";import{d as E}from"./ton-JVN5BOEN.js";import{r as S,h as le,o as Re,j as h,m as C,k as F,C as ce,z as M,w as je,R as U}from"./vendors-Dtot3KuJ.js";import{P as Ie,d as We}from"./Checkbox-C4ZH7UYo.js";import{A as Z}from"./index-C5_CRTyq.js";import{c as De,R as Be,B as L,N as ke}from"./Button-BDyEdmnj.js";import{M as Me,a as Y,b as $,c as ee}from"./Alert-D7GHY6oI.js";import{C as Le}from"./CheckboxField-C8queDZ-.js";const Ve=(a,e)=>S.createElement("svg",{width:8,height:16,viewBox:"0 0 8 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...a},S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 4.21973C2.79289 3.92683 3.26777 3.92683 3.56066 4.21973L7.06066 7.71973C7.20131 7.86038 7.28033 8.05114 7.28033 8.25006C7.28033 8.44897 7.20131 8.63973 7.06066 8.78039L3.56066 12.2804C3.26777 12.5733 2.79289 12.5733 2.5 12.2804C2.20711 11.9875 2.20711 11.5126 2.5 11.2197L5.46967 8.25006L2.5 5.28039C2.20711 4.98749 2.20711 4.51262 2.5 4.21973Z",fill:"currentColor"})),Qe=S.forwardRef(Ve),He={REQUEST_BURN:1499400124},ue={v1:"v1"},K=class V extends be{constructor(e=V.address,{gasConstants:t,...n}={}){super(e,n),this.gasConstants={...V.gasConstants,...t}}async getWrapTxParams(e,t){const n=this.address,r=null,s=BigInt(t.amount)+this.gasConstants.wrap;return{to:n,value:s,body:r}}async getUnwrapTxParams(e,t){const n=await this.getWalletAddress(e,t.responseAddress),r=E.beginCell().storeUint(He.REQUEST_BURN,32).storeUint(t.queryId??0,64).storeCoins(BigInt(t.amount)).storeAddress(t.responseAddress instanceof E.Address?t.responseAddress:E.address(t.responseAddress)).endCell(),s=this.gasConstants.unwrap;return{to:n,value:s,body:r}}};K.version=ue.v1;K.address=E.address("EQDQoc5M3Bh8eWFephi9bClhevelbZZvWhkqdo80XuY_0qXv");K.gasConstants={wrap:E.toNano("0.05"),unwrap:E.toNano("0.05")};let qe=K;const Xe={[ue.v1]:qe};function te(a){return a*1e4}const Je=.001;class pe extends Error{constructor(e,t){const n="InsufficientPoolAmountError",s=[`Insufficient ${e.debug} balance in pool`,t];super(...s),this.token=e,this.name=n,Object.setPrototypeOf(this,new.target.prototype)}}class de extends Error{constructor(e,t,n){const r="OperationsSimulationPoolNotFoundError",o=[`Pool for ${e.debug} and ${t.debug} not found`,n];super(...o),this.tokenA=e,this.tokenB=t,this.name=r,Object.setPrototypeOf(this,new.target.prototype)}}class fe extends Error{constructor(e,t){const n="SwapAmountIsTooSmallError",s=[`Swap amount of ${e.debug} is too small`,t];super(...s),this.token=e,this.name=n,Object.setPrototypeOf(this,new.target.prototype)}}let Ge=class extends _e{constructor(e){super(e),this.dependencies=e,this.SWAP_TRANSACTION_ESTIMATED_FEE=e.SWAP_TRANSACTION_ESTIMATED_FEE,this.SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW=e.SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW,this.SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH=e.SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH,this.SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT=e.SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT,this.SWAP_ASSERTS_WITH_DISABLED_REF=e.SWAP_ASSERTS_WITH_DISABLED_REF}SWAP_TRANSACTION_ESTIMATED_FEE;SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW;SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH;SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT;SWAP_ASSERTS_WITH_DISABLED_REF;getExpenses=()=>new T({...this.getTonToken(),amount:"300000000"});async simulateOperation(e){try{let t,n=null;const r=te(e.referralPercent??Je);let s=null;if("fromAmount"in e){t="direct";const{fromAmount:c,toToken:d}=e;n=[c,d].some(B=>this.SWAP_ASSERTS_WITH_DISABLED_REF.some(he=>he.equals(B.contractAddress)))?null:e.referralAddress;const D=Math.min(1,c.isTaxable?e.slippageTolerancePercent*this.SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT:e.slippageTolerancePercent).toString();s=async()=>this.dependencies.StonAPI.simulateDirectSwap({offer_address:c.contractAddress.base64,offer_units:c.amount.toString(),ask_address:d.contractAddress.base64,slippage_tolerance:D,referral_data:n?{referral_address:n.base64,referral_fee_bps:r.toString()}:void 0})}else if("toAmount"in e){t="reverse";const{fromToken:c,toAmount:d}=e;n=[c,d].some(D=>this.SWAP_ASSERTS_WITH_DISABLED_REF.some(B=>B.equals(D.contractAddress)))?null:e.referralAddress,s=async()=>this.dependencies.StonAPI.simulateReverseSwap({offer_address:c.contractAddress.base64,ask_units:d.amount.toString(),ask_address:d.contractAddress.base64,slippage_tolerance:e.slippageTolerancePercent.toString(),referral_data:n?{referral_address:n.base64,referral_fee_bps:r.toString()}:void 0})}else throw new Error("No amount provided to calculate the simulation");if(!s)throw new Error("none swap simulate requests to deal with");if(!t)throw new Error("unset simulateSwap direction");const o=await s();if(o instanceof Error){switch(o.errorCode){case k["dex.INSUFFICIENT_FUNDS_ERROR_CODE"]:return new pe(new g("fromAmount"in e?e.toToken:e.toAmount));case k["dex.SWAP_AMOUNT_TOO_SMALL_ERROR_CODE"]:return new fe(new g("fromAmount"in e?e.toToken:e.toAmount));case k["dex.POOL_NOT_FOUND_ERROR_CODE"]:return new de(new g("fromAmount"in e?e.fromAmount:e.fromToken),new g("toAmount"in e?e.toAmount:e.toToken))}throw o}const i=this.dependencies.getTokenByAddress(new O(o.offer_address));if(i===null)throw new Error(`Can not find offerToken by address "${o.offer_address}"`);const l=this.dependencies.getTokenByAddress(new O(o.ask_address));if(l===null)throw new Error(`Can not find askToken by address "${o.ask_address}"`);const u=this.dependencies.getTokenByAddress(new O(o.fee_address));if(u===null)throw new Error(`Can not find feet token by address "${o.fee_address}"`);const p=Number(o.price_impact);return{type:"swap",routerAddress:new O(o.router_address),referralAddress:n,referralPercent:e.referralPercent,direction:t,offerToken:i,offerTax:o.offer_tax_units&&o.offer_tax_units!=="0"?new T({...i,amount:o.offer_tax_units}):void 0,offerAmount:new T({...i,amount:o.offer_units}),askToken:l,askAmount:new T({...l,amount:o.ask_units}),receiveAmountMin:new T({...l,amount:o.min_ask_units}),swapRate:o.swap_rate??void 0,priceImpactPercent:p,priceImpactGrade:p<=this.SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW?"low":p<=this.SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH?"medium":"high",slippageTolerancePercent:Number(o.slippage_tolerance),feeToken:u,feeAmount:new T({...u,amount:o.fee_units}),feePercent:Number(o.fee_percent),transactionFee:this.SWAP_TRANSACTION_ESTIMATED_FEE}}catch(t){return new ae(t instanceof Error?t.message:JSON.stringify(t),{cause:t})}}async buildTransaction(e,t){const n=this.generateQueryId(),r=this.buildRouterContract(t.routerAddress);if(r instanceof Error)return r;const s=this.sdkClient.open(r);let o,i;const l={userWalletAddress:e.address.base64,offerAmount:t.offerAmount.amount.toString(),minAskAmount:t.receiveAmountMin.amount.toString(),referralAddress:t.referralAddress?.base64??void 0,referralValue:typeof t.referralPercent=="number"?te(t.referralPercent):void 0,queryId:n},u=this.buildProxyTonContract();return t.offerAmount.type===f.TON?(o=await s.getSwapTonToJettonTxParams({...l,proxyTon:u,askJettonAddress:t.receiveAmountMin.contractAddress.base64}),i=await this.validateWalletTokenAmounts({wallet:e,tonAmounts:[o.value],tokenAmounts:[]})):(t.askToken.type===f.TON?o=await s.getSwapJettonToTonTxParams({...l,proxyTon:u,offerJettonAddress:t.offerAmount.contractAddress.base64}):o=await s.getSwapJettonToJettonTxParams({...l,askJettonAddress:t.receiveAmountMin.contractAddress.base64,offerJettonAddress:t.offerAmount.contractAddress.base64}),i=await this.validateWalletTokenAmounts({wallet:e,tonAmounts:[o.value],tokenAmounts:[t.offerAmount]})),i instanceof Error?i:[{...o,queryId:n}]}async buildOperation(e,t,n){const r=new Date;return new Ae({type:re.SWAP,transactions:n.map(s=>new y({type:N.SWAP,status:v.INITIALIZED,askedAmount:t.askAmount,sendedAmount:t.offerAmount,routerAddress:t.routerAddress,slippageTolerancePercent:t.slippageTolerancePercent,createdAt:r,queryId:s.queryId}))})}async fetchTransactionStatus(e){if(e.data.type!==N.SWAP)throw new Error("Unexpected operation type");const t=await this.dependencies.StonAPI.getSwapOperationStatus({query_id:e.data.queryId.toString(),router_address:e.data.routerAddress.base64});if(t instanceof Error)throw t;if(t["@type"]==="NotFound")return null;const n=new Ne(t.tx_hash);switch(t.exit_code){case"swap_ok":case"swap_ok_ref":{const r=this.getTokenAmountFromBalanceDeltasResponse(e.data.askedAmount,t.balance_deltas);if(!r)throw new Error(`Expected "balance_deltas" field with amount for received token in success response, but got ${JSON.stringify(t.balance_deltas)}`);return new y({...e.data,status:v.FULFILLED_SUCCESS,transactionHash:n,exitCode:t.exit_code,receivedAmount:r})}case"swap_refund_no_liq":case"swap_refund_reserve_err":case"failed":return new y({...e.data,status:v.FULFILLED_ERROR,exitCode:t.exit_code,transactionHash:n});default:throw new Error(`Unknown exit code: ${t.exit_code}`)}}};const ze=new Ge({...ye,StonAPI:oe,SWAP_TRANSACTION_ESTIMATED_FEE:w.DEX_SWAP_ESTIMATED_FEE,SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH:w.DEX_SWAP_GRADE_PRICE_IMPACT_PERCENT_HIGH,SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW:w.DEX_SWAP_GRADE_PRICE_IMPACT_PERCENT_LOW,SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT:w.DEX_SWAP_TAXABLE_ASSET_SLIPPAGE_TOLERANCE_COEFFICIENT,SWAP_ASSERTS_WITH_DISABLED_REF:w.DEX_SWAP_ASSERTS_WITH_DISABLED_REF});class Ze extends Fe{getWtonToken;constructor(e){super(e),this.getWtonToken=e.getWtonToken}buildWtonContract(e){return new Xe.v1(e.base64)}}const Ye={...Ue,getWtonToken:b.getWtonAsset.bind(b)};let $e=class extends Ze{UNWRAP_TRANSACTION_ESTIMATED_FEE;constructor(e){super(e),this.UNWRAP_TRANSACTION_ESTIMATED_FEE=e.UNWRAP_TRANSACTION_ESTIMATED_FEE}getExpenses=()=>new T({...this.getTonToken(),amount:new Ee.BN("50000000").add(this.TON_AMOUNT_VALIDATION_MARGIN)});async simulateOperation(e){try{if(![f.WTON,f.TON].includes(e.amount.type))throw new Error(`Invalid token for unwrap ${e.amount.type}`);const{amount:t}=e.amount;if(t.lten(0))throw new Error(`Negative asset amount "${t.toString()}"}"`);const n=this.getTonToken(),r=this.getWtonToken();if(!r)throw new Error("WTON token is not found");return{type:"unwrap",offerAmount:new T({...r,amount:t}),askAmount:new T({...n,amount:t}),priceImpactPercent:0,transactionFee:this.UNWRAP_TRANSACTION_ESTIMATED_FEE}}catch(t){return new ae(t instanceof Error?t.message:JSON.stringify(t),{cause:t})}}async buildTransaction(e,t){const n=this.generateQueryId(),s=await this.sdkClient.open(this.buildWtonContract(t.offerAmount.contractAddress)).getUnwrapTxParams({amount:t.offerAmount.amount.toString(),responseAddress:e.address.base64,queryId:n}),o=await this.validateWalletTokenAmounts({wallet:e,tonAmounts:[s.value],tokenAmounts:[t.offerAmount]});return o instanceof Error?o:[{...s,queryId:n}]}async buildOperation(e,t,n){const r=new Date;return new Ae({type:re.TON_UNWRAP,transactions:n.map(s=>new y({type:N.TON_UNWRAP,status:v.INITIALIZED,amount:t.offerAmount,createdAt:r,queryId:s.queryId}))})}async fetchTransactionStatus(){throw new Error(`${N.TON_UNWRAP} operation status confirmation is not implemented`)}};const et=new $e({...Ye,UNWRAP_TRANSACTION_ESTIMATED_FEE:w.DEX_UNWRAP_ESTIMATED_FEE});class tt extends Error{constructor(e){const t="SwapPairsFetchError",r=["Could not fetch swap pairs",e];super(...r),this.name=t,Object.setPrototypeOf(this,new.target.prototype)}}let rt=class{constructor(e){this.dependencies=e}async fetchSwapPairs(){const{dependencies:{logger:e,StonAPI:t}}=this,n=e.child("fetchSwapPairs");try{e.log("fetching swap pairs");const r=await t.getSwapPairsList({});if(r instanceof Error)throw r;return r.pairs}catch(r){const s=new tt({cause:r});return n.error(s),s}}};const ot=new rt({logger:ne.child("services","SwapInfoService"),StonAPI:oe});var nt=Object.defineProperty,st=Object.getOwnPropertyDescriptor,H=(a,e,t,n)=>{for(var r=n>1?void 0:n?st(e,t):e,s=a.length-1,o;s>=0;s--)(o=a[s])&&(r=(n?o(e,t,r):o(r))||r);return n&&r&&nt(e,t,r),r};let R=class extends se{constructor(e){super(e),this.dependencies=e,C(this),F(()=>this.operation,t=>{t?.isFinalized&&this.updateOperation(null)}),F(()=>this.operation,t=>{t?.status===Pe.FINALIZED_SUCCESS&&(this.dependencies.SwapFormStore.setFromAmount(null),this.dependencies.SwapFormStore.setToAmount(null))})}_operationId=null;get operation(){if(this._operationId===null)return null;const e=this.dependencies.OperationsStore.getOperationById(this._operationId);if(!e)return null;switch(e.type){case"SWAP":return e;case"TON_UNWRAP":return e;default:return null}}updateOperation(e){super._set({key:"_operationId",value:e?.operationId??null,target:this._operationId})}};H([Re],R.prototype,"_operationId",2);H([h],R.prototype,"operation",1);H([le.bound],R.prototype,"updateOperation",1);const at=a=>new R(a);var At=Object.defineProperty,it=Object.getOwnPropertyDescriptor,j=(a,e,t,n)=>{for(var r=it(e,t),s=a.length-1,o;s>=0;s--)(o=a[s])&&(r=o(e,t,r)||r);return r&&At(e,t,r),r};let x=class extends Ie{constructor(e){super(e),this.dependencies=e,C(this)}get operationType(){const{fromToken:e,toToken:t}=this;return e?.type===f.WTON&&t?.type===f.TON?"unwrap":"swap"}get fromTokenOptions(){const{dependencies:{AssetsStore:{assets:e},SwapPairsStore:{isInitialized:t,isAvailableToken:n}}}=this;return!e||!t?null:e.map(r=>({token:r,isAvailable:n(r)})).filter(({isAvailable:r,token:s})=>!!(r||s.isImported||s.amount.gtn(0))).sort(super._sortTokenOptions)}get toTokenOptions(){const{fromTokenOptions:e,fromToken:t,dependencies:{SwapPairsStore:{isAvailableTokenPair:n}}}=this;return!e||!t?e:e.filter(r=>n(t,r.token)).map(r=>({...r,isAvailable:!0})).sort(super._sortTokenOptions)}swapTokens(){const{_fromToken:e,_fromAmount:t,_toToken:n,_toAmount:r,state:{fromToken:s,toToken:o},dependencies:{SwapPairsStore:{isAvailableTokenPair:i}}}=this;s&&o&&!i(o,s)||(this._set({key:"_fromToken",value:n,target:this._fromToken}),this._set({key:"_fromAmount",value:r,target:this._fromAmount}),this._set({key:"_toToken",value:e,target:this._toToken}),this._set({key:"_toAmount",value:t,target:this._toAmount}))}get storageStoreKey(){return this.dependencies.SWAP_FORM_STORAGE_KEY}};j([h],x.prototype,"operationType");j([ce],x.prototype,"fromTokenOptions");j([ce],x.prototype,"toTokenOptions");j([le.bound],x.prototype,"swapTokens");const lt=a=>new x(a);var ct=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,q=(a,e,t,n)=>{for(var r=ut(e,t),s=a.length-1,o;s>=0;s--)(o=a[s])&&(r=o(e,t,r)||r);return r&&ct(e,t,r),r};let I=class{constructor(e){this.dependencies=e,this._swapSimulationQuery=new ie(()=>({queryKey:["swap simulation",e.SwapFormStore.fromToken?.key,e.SwapFormStore.toToken?.key],queryFn:async()=>{const{SwapStore:{operation:t}}=e;if(t)return;const{SwapFormStore:{fromToken:n,fromAmount:r,toToken:s,toAmount:o}}=e;if(n===null||s===null||r===null&&o===null||r&&r.amount.lten(0)||o&&o.amount.lten(0))return null;const{AppStateStore:{referralAddress:i,referralPercent:l},SwapFormStore:{operationType:u},AppSettingsStore:{slippageTolerancePercent:p},SwapOperationService:c,WtonUnwrapOperationService:d}=e;if(r)switch(u){case"swap":return await c.simulateOperation({fromAmount:r,toToken:s,slippageTolerancePercent:p,referralAddress:i,referralPercent:l});case"unwrap":return await d.simulateOperation({amount:r});default:throw new Error(`Unexpected operation type: ${u}`)}else if(o)switch(u){case"swap":return await c.simulateOperation({fromToken:n,toAmount:o,slippageTolerancePercent:p,referralAddress:i,referralPercent:l});case"unwrap":return await d.simulateOperation({amount:o});default:throw new Error(`Unexpected operation type: ${u}`)}throw new Error("None of fromAmount or toAmount is provided")},refetchInterval:e.SIMULATION_REQUEST_INTERVAL_MS})),this._debouncedSimulateSwap=We(async()=>await this._swapSimulationQuery.refetch(),e.SIMULATION_REQUEST_DEBOUNCE_MS),C(this),F(()=>[e.SwapFormStore.fromAmount?.amount.toString(),e.SwapFormStore.toAmount?.amount.toString()],t=>{t.every(n=>!n)&&this._swapSimulationQuery.updateData(null)}),F(()=>[e.AppStateStore.referralAddress,e.AppStateStore.referralPercent,e.AppSettingsStore.slippageTolerancePercent,e.SwapFormStore.fromAmount?.amount.toString(),e.SwapFormStore.toAmount?.amount.toString()],()=>{this._debouncedSimulateSwap()})}_swapSimulationQuery;_debouncedSimulateSwap;get swapSimulation(){return this._swapSimulationQuery.state.data??null}get swapSimulationToDisplay(){return!this.swapSimulation||this.swapSimulation instanceof Error?null:this.swapSimulation}get swapSimulationLoading(){return this._swapSimulationQuery.state.isFetching}async simulateSwap(){return await this._debouncedSimulateSwap(),this.swapSimulation}};q([h],I.prototype,"swapSimulation");q([h],I.prototype,"swapSimulationToDisplay");q([h],I.prototype,"swapSimulationLoading");const pt=a=>new I(a);var dt=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,we=(a,e,t,n)=>{for(var r=ft(e,t),s=a.length-1,o;s>=0;s--)(o=a[s])&&(r=o(e,t,r)||r);return r&&dt(e,t,r),r};let X=class extends se{constructor(e){super(e),this.dependencies=e,C(this)}get validation(){const{WalletStore:{wallet:e},AssetsStore:{getAssetByAddress:t},AppSettingsStore:{priceImpactPercent:n},SwapStore:{operation:r},SwapFormStore:{state:s},SwapSimulationStore:{swapSimulation:o}}=this.dependencies,i={fromToken:null,fromAmount:null,toToken:null,toAmount:null,simulation:null};if(o instanceof pe)return i.simulation={error:"insufficient-pool-amount",data:o.token},i;if(o instanceof fe)return i.simulation={error:"ask-amount-too-small"},i;if(o instanceof de)return i.simulation={error:"pool-not-found"},i;if(o instanceof Error)return i.simulation={error:"unknown-error"},i;const{fromToken:l,toToken:u}=s,p=o?.offerAmount??s.fromAmount,c=o?.askAmount??s.toAmount;if(!l)return i.fromToken={error:"token-unset"},i;if(!t(l.contractAddress))return i.fromToken={error:"token-unavailable",data:l},i;if(!p)return i.fromAmount={error:"amount-unset",data:l},i;if(e&&!r){const d=l?t(l.contractAddress):null;if(!d)return i.fromAmount={error:"balance-unknown",data:l},i;if(!d.amount.gte(p.amount))return i.fromAmount={error:"balance-insufficient",data:l},i}return u?t(u.contractAddress)?c?(o&&o.priceImpactPercent>n&&(i.simulation={error:"price-impact-exceeded"}),i):(i.toAmount={error:"amount-unset",data:u},i):(i.toToken={error:"token-unavailable",data:u},i):(i.toToken={error:"token-unset"},i)}get isValid(){return Object.values(this.validation).every(e=>e===null)}};we([h],X.prototype,"validation");we([h],X.prototype,"isValid");const wt=a=>new X(a);var St=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,Tt=(a,e,t,n)=>{for(var r=mt(e,t),s=a.length-1,o;s>=0;s--)(o=a[s])&&(r=o(e,t,r)||r);return r&&St(e,t,r),r};let Se=class{_swapPairsQuery;constructor(e){C(this),this._swapPairsQuery=new ie(()=>({queryKey:["SwapPairsStore._swapPairsQuery"],queryFn:async()=>{const t=await e.SwapInfoService.fetchSwapPairs();if(t instanceof Error)throw t;return t},select:t=>new Set(t.map(r=>[this.buildKey(r[0]),this.buildKey(r[1]),this.buildKey(r[0],r[1]),this.buildKey(r[1],r[0])]).flat()),refetchOnMount:!0,refetchOnWindowFocus:!1,refetchInterval:e.SWAP_PAIRS_REFETCH_INTERVAL_MS}))}get isInitialized(){const{data:e}=this._swapPairsQuery.state;return!!(e&&e.size>0)}isAvailableToken=e=>{if(e.isBlacklisted)return!1;if(e.type===f.TON)return!0;const t=this.buildKey(e.contractAddress.key);return!!this._swapPairsQuery.state.data?.has(t)};isAvailableTokenPair=(e,t)=>{if(e.key===t.key||[e,t].some(s=>!this.isAvailableToken(s)))return!1;if(e.type===f.WTON&&t.type===f.TON)return!0;if(e.type===f.TON&&t.type===f.WTON)return!1;const n=this.buildKey(e.contractAddress.key,t.contractAddress.key);return!!this._swapPairsQuery.state.data?.has(n)};buildKey(...e){return e.join("")}};Tt([h],Se.prototype,"isInitialized");const ht=a=>new Se(a),W=ne.child("SwapView","stores"),Et=ht({SwapInfoService:ot,SWAP_PAIRS_REFETCH_INTERVAL_MS:w.APP_SWAP_PAIRS_REFETCH_INTERVAL_MS}),J=lt({logger:W.child("SwapFormStore"),StorageService:_,AppSettingsStore:Q,AssetsStore:b,SwapPairsStore:Et,SWAP_FORM_STORAGE_KEY:"swap-form-state",DEFAULT_STATE:w.APP_SWAP_FORM_DEFAULT_STATE}),me=at({logger:W.child("SwapStore"),SwapFormStore:J,OperationsStore:Ke}),Pt=pt({logger:W.child("SwapSimulationStore"),SwapOperationService:ze,WtonUnwrapOperationService:et,AppStateStore:Ce,AppSettingsStore:Q,SwapStore:me,SwapFormStore:J,SIMULATION_REQUEST_INTERVAL_MS:w.APP_SIMULATIONS_REFETCH_INTERVAL_MS,SIMULATION_REQUEST_DEBOUNCE_MS:w.APP_INPUT_DEBOUNCE_TIMEOUT_MS}),Xt=wt({logger:W.child("SwapValidationStore"),AppSettingsStore:Q,WalletStore:xe,AssetsStore:b,SwapStore:me,SwapFormStore:J,SwapSimulationStore:Pt}),Ct=(a,e,t=null)=>{const[n,r]=S.useState(()=>_.getSchemedValue(a,e)??t),s=S.useCallback(o=>{const i=o===null?t:typeof o=="function"?o(n):o;i===null?_.removeItem(a):_.setItem(a,JSON.stringify(i)),r(i)},[]);return[n,s]},xt=a=>{const{t:e}=ge(),[t,n]=S.useState(!1),[r,s]=Ct("buy-ton-hide-message",M.record(M.string(),M.boolean()),G.reduce((c,d)=>({...c,[d.key]:!1}),{})),[o,i]=S.useState(),l=c=>{if(r[c.key])return open(c.URL,"_blank","noopener noreferrer");i(c)},u=()=>{o&&(s({...r,[o.key]:t}),open(o.URL,"_blank","noopener noreferrer"))},p=()=>{i(void 0),n(!1)};return S.useEffect(()=>{t||!o||s({...r,[o.key]:t})},[t]),A.jsx(Me,{...a,onClose:()=>{p(),a.onClose()},className:P("md:max-w-[400px]",a.className),children:o?A.jsxs(A.Fragment,{children:[A.jsx(Y,{title:A.jsxs("button",{className:"inline-flex w-full items-center",onClick:p,children:[A.jsx(De,{className:"mr-3"}),e("shared:buyTonModal.titleConfirmation")]}),subtitle:A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"ml-[20px]"}),e("shared:buyTonModal.subtitleConfirmation",{source:e(`shared:buyTonModal.sources.${o.key}.title`)})]})}),A.jsxs($,{className:"flex flex-1 flex-col",children:[A.jsxs("div",{className:P("flex flex-col items-center gap-3 px-6 py-5","bg-backgroundContent rounded-md","my-auto"),children:[A.jsx(Be,{}),A.jsx(m.Caption1,{weight:"regular",className:"text-center",children:e("shared:buyTonModal.externalService")})]}),A.jsx(Le,{label:e("shared:buyTonModal.dontShowMessage"),checkboxProps:{checked:t,onCheckedChange:n},className:"mx-auto mt-3 py-3"}),A.jsxs(m.Caption2,{weight:"regular",className:"mt-3 text-center text-textTertiary",children:[e("shared:buyTonModal.beforeProceed",{source:e(`shared:buyTonModal.sources.${o.key}.title`)})," ",A.jsx(z,{href:e(`shared:buyTonModal.sources.${o.key}.privacyPolicyURL`),children:A.jsx(m.Caption2,{weight:"regular",className:"text-textPrimary",children:e("shared:buyTonModal.privacyPolicy")})})," ",e("shared:ui.and")," ",A.jsx(z,{href:e(`shared:buyTonModal.sources.${o.key}.termsOfServiceURL`),children:A.jsx(m.Caption2,{weight:"regular",className:"text-textPrimary",children:e("shared:buyTonModal.termsOfService")})})]})]}),A.jsx(ee,{withMobileCloseButton:!0,children:A.jsx(L,{variant:"primary",color:"default",size:"medium",className:"w-full",onClick:u,children:e("shared:buyTonModal.proceed")})})]}):A.jsxs(A.Fragment,{children:[A.jsx(Y,{title:e("shared:buyTonModal.title")}),A.jsxs($,{children:[A.jsxs("div",{className:"flex flex-col gap-3",children:[G.map(c=>A.jsxs(L,{variant:"outline",color:"default",size:"large",onClick:()=>l(c),className:"!justify-start !px-5",children:[A.jsx("img",{className:"mr-1 size-7",src:c.logoURL,alt:c.key}),A.jsx(m.Caption1,{weight:"medium",className:"truncate",children:e(`shared:buyTonModal.sources.${c.key}.title`)})]},c.key)),A.jsx("a",{href:e("shared:buyTonModal.readMoreURL"),target:"_blank",rel:"noopener noreferrer",children:A.jsxs(L,{variant:"outline",color:"default",size:"large",className:"w-full !justify-start !px-5",children:[A.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-1",children:[A.jsx("rect",{width:"32",height:"32",rx:"8",fill:"url(#pattern0)"}),A.jsxs("defs",{children:[A.jsx("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:A.jsx("use",{xlinkHref:"#image0_236_11363",transform:"scale(0.00520833)"})}),A.jsx("image",{id:"image0_236_11363",width:"192",height:"192",xlinkHref:"data:image/jpeg;base64,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"})]})]}),A.jsx(m.Caption1,{weight:"medium",className:"truncate",children:e("shared:buyTonModal.buyTonAnother")})]})})]}),A.jsx(m.Caption2,{weight:"regular",className:"mt-6 text-center text-textTertiary",children:e("shared:buyTonModal.thirdParty")})]}),A.jsx(ee,{withMobileCloseButton:!0})]})})},Jt=({children:a})=>{const e=S.useCallback(t=>{a.props.onClick?.(t);const n=je();Z.addElementWithId(n,A.jsx(xt,{isOpen:!0,onClose:()=>Z.removeElement(n)}))},[a.props.onClick]);return A.jsx(Oe,{feature:ve.BUY_TON,children:U.cloneElement(a,{onClick:e})})},gt=U.forwardRef(({title:a,text:e,icon:t,onClose:n,children:r,className:s,...o},i)=>{const[l,u]=S.useState("opened");return A.jsxs("div",{...o,ref:i,role:"alert",className:P("w-full","max-w-[420px]","flex items-start","backdrop-blur-[25px]","p-4 rounded-md gap-3 bg-backgroundSnackbar text-white",l==="opened"?"animate-[snackbar-in_300ms_ease-in]":"animate-[snackbar-out_300ms_ease-out]",s),onAnimationEnd:({currentTarget:p})=>{l==="closed"&&(p.classList.add("hidden"),n())},children:[t??null,A.jsxs("div",{className:"flex flex-1 flex-col flex-wrap gap-3 break-words",children:[A.jsx(m.Caption1,{weight:"regular",children:a}),e?A.jsx(m.Caption1,{weight:"regular",children:e}):null,r?A.jsx("div",{className:"flex items-center gap-3",children:r}):null]}),A.jsx("button",{className:'relative before:absolute before:inset-0 before:scale-[200%] before:content-[""]',onClick:p=>{p.stopPropagation(),u("closed")},children:A.jsx(ke,{})})]})});gt.displayName="Snackbar";const Ot=U.forwardRef(({children:a,className:e,...t},n)=>A.jsx("button",{...t,ref:n,className:P("animate-ui-element-transition","typography-button2 font-medium","inline-flex items-center gap-[6px]","py-2 px-3 rounded-sm bg-white/[.08] hover:bg-white/[.12]",e),children:a}));Ot.displayName="SnackbarButton";const vt=U.forwardRef(({children:a,className:e,...t},n)=>A.jsxs("a",{...t,ref:n,className:P("typography-button2 font-normal text-white/[0.8] hover:text-white","inline-flex items-center",e),children:[a,A.jsx(Qe,{className:"ml-[2px]"})]}));vt.displayName="SnackbarLink";export{Jt as B,gt as S,et as W,J as a,vt as b,Ot as c,Pt as d,me as e,ze as f,Xt as g,Qe as i};
