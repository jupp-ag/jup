import{r as b,d as M}from"./vendors-Dtot3KuJ.js";/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p(){return p=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},p.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S(){return S=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},S.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g(a,i,e){var n,t=(n=e.initialDeps)!=null?n:[],r;return function(){var o;e.key&&e.debug!=null&&e.debug()&&(o=Date.now());var s=a(),l=s.length!==t.length||s.some(function(v,d){return t[d]!==v});if(!l)return r;t=s;var u;if(e.key&&e.debug!=null&&e.debug()&&(u=Date.now()),r=i.apply(void 0,s),e.key&&e.debug!=null&&e.debug()){var f=Math.round((Date.now()-o)*100)/100,c=Math.round((Date.now()-u)*100)/100,m=c/16,h=function(d,E){for(d=String(d);d.length<E;)d=" "+d;return d};console.info("%c⏱ "+h(c,5)+" /"+h(f,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*m,120))+"deg 100% 31%);",e?.key)}return e==null||e.onChange==null||e.onChange(r),r}}function y(a,i){if(a===void 0)throw new Error("Unexpected undefined");return a}var w=function(i,e){return Math.abs(i-e)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T=function(i){return i},C=function(i){for(var e=Math.max(i.startIndex-i.overscan,0),n=Math.min(i.endIndex+i.overscan,i.count-1),t=[],r=e;r<=n;r++)t.push(r);return t},R=function(i,e){var n=i.scrollElement;if(n){var t=function(s){var l=s.width,u=s.height;e({width:Math.round(l),height:Math.round(u)})};t(n.getBoundingClientRect());var r=new ResizeObserver(function(o){var s=o[0];if(s!=null&&s.borderBoxSize){var l=s.borderBoxSize[0];if(l){t({width:l.inlineSize,height:l.blockSize});return}}t(n.getBoundingClientRect())});return r.observe(n,{box:"border-box"}),function(){r.unobserve(n)}}},j=function(i,e){var n=i.scrollElement;if(n){var t=function(){e({width:n.innerWidth,height:n.innerHeight})};return t(),n.addEventListener("resize",t,{passive:!0}),function(){n.removeEventListener("resize",t)}}},D=function(i,e){var n=i.scrollElement;if(n){var t=function(){e(n[i.options.horizontal?"scrollLeft":"scrollTop"])};return t(),n.addEventListener("scroll",t,{passive:!0}),function(){n.removeEventListener("scroll",t)}}},F=function(i,e){var n=i.scrollElement;if(n){var t=function(){e(n[i.options.horizontal?"scrollX":"scrollY"])};return t(),n.addEventListener("scroll",t,{passive:!0}),function(){n.removeEventListener("scroll",t)}}},$=function(i,e,n){if(e!=null&&e.borderBoxSize){var t=e.borderBoxSize[0];if(t){var r=Math.round(t[n.options.horizontal?"inlineSize":"blockSize"]);return r}}return Math.round(i.getBoundingClientRect()[n.options.horizontal?"width":"height"])},_=function(i,e,n){var t,r,o=e.adjustments,s=o===void 0?0:o,l=e.behavior,u=i+s;(t=n.scrollElement)==null||t.scrollTo==null||t.scrollTo((r={},r[n.options.horizontal?"left":"top"]=u,r.behavior=l,r))},k=function(i,e,n){var t,r,o=e.adjustments,s=o===void 0?0:o,l=e.behavior,u=i+s;(t=n.scrollElement)==null||t.scrollTo==null||t.scrollTo((r={},r[n.options.horizontal?"left":"top"]=u,r.behavior=l,r))},B=function(i){var e=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var n=null,t=function(){return n||(typeof ResizeObserver<"u"?n=new ResizeObserver(function(o){o.forEach(function(s){e._measureElement(s.target,s)})}):null)};return{disconnect:function(){var o;return(o=t())==null?void 0:o.disconnect()},observe:function(o){var s;return(s=t())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:function(o){var s;return(s=t())==null?void 0:s.unobserve(o)}}}(),this.range=null,this.setOptions=function(n){Object.entries(n).forEach(function(t){var r=t[0],o=t[1];typeof o>"u"&&delete n[r]}),e.options=S({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:T,rangeExtractor:C,onChange:function(){},measureElement:$,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},n)},this.notify=function(n){e.options.onChange==null||e.options.onChange(e,n)},this.maybeNotify=g(function(){return e.calculateRange(),[e.isScrolling,e.range?e.range.startIndex:null,e.range?e.range.endIndex:null]},function(n){e.notify(n)},{key:!1,debug:function(){return e.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){e.unsubs.filter(Boolean).forEach(function(n){return n()}),e.unsubs=[],e.scrollElement=null},this._didMount=function(){return e.measureElementCache.forEach(e.observer.observe),function(){e.observer.disconnect(),e.cleanup()}},this._willUpdate=function(){var n=e.options.getScrollElement();e.scrollElement!==n&&(e.cleanup(),e.scrollElement=n,e._scrollToOffset(e.scrollOffset,{adjustments:void 0,behavior:void 0}),e.unsubs.push(e.options.observeElementRect(e,function(t){e.scrollRect=t,e.maybeNotify()})),e.unsubs.push(e.options.observeElementOffset(e,function(t){e.scrollAdjustments=0,e.scrollOffset!==t&&(e.isScrollingTimeoutId!==null&&(clearTimeout(e.isScrollingTimeoutId),e.isScrollingTimeoutId=null),e.isScrolling=!0,e.scrollDirection=e.scrollOffset<t?"forward":"backward",e.scrollOffset=t,e.maybeNotify(),e.isScrollingTimeoutId=setTimeout(function(){e.isScrollingTimeoutId=null,e.isScrolling=!1,e.scrollDirection=null,e.maybeNotify()},e.options.scrollingDelay))})))},this.getSize=function(){return e.scrollRect[e.options.horizontal?"width":"height"]},this.memoOptions=g(function(){return[e.options.count,e.options.paddingStart,e.options.scrollMargin,e.options.getItemKey]},function(n,t,r,o){return e.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:t,scrollMargin:r,getItemKey:o}},{key:!1}),this.getFurthestMeasurement=function(n,t){for(var r=new Map,o=new Map,s=t-1;s>=0;s--){var l=n[s];if(!r.has(l.lane)){var u=o.get(l.lane);if(u==null||l.end>u.end?o.set(l.lane,l):l.end<u.end&&r.set(l.lane,!0),r.size===e.options.lanes)break}}return o.size===e.options.lanes?Array.from(o.values()).sort(function(f,c){return f.end-c.end})[0]:void 0},this.getMeasurements=g(function(){return[e.memoOptions(),e.itemSizeCache]},function(n,t){var r=n.count,o=n.paddingStart,s=n.scrollMargin,l=n.getItemKey,u=e.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,e.pendingMeasuredCacheIndexes):0;e.pendingMeasuredCacheIndexes=[];for(var f=e.measurementsCache.slice(0,u),c=u;c<r;c++){var m=l(c),h=e.options.lanes===1?f[c-1]:e.getFurthestMeasurement(f,c),v=h?h.end:o+s,d=t.get(m),E=typeof d=="number"?d:e.options.estimateSize(c),x=v+E,z=h?h.lane:c%e.options.lanes;f[c]={index:c,start:v,size:E,end:x,key:m,lane:z}}return e.measurementsCache=f,f},{key:!1,debug:function(){return e.options.debug}}),this.calculateRange=g(function(){return[e.getMeasurements(),e.getSize(),e.scrollOffset]},function(n,t,r){return e.range=n.length>0&&t>0?A({measurements:n,outerSize:t,scrollOffset:r}):null},{key:!1,debug:function(){return e.options.debug}}),this.getIndexes=g(function(){return[e.options.rangeExtractor,e.calculateRange(),e.options.overscan,e.options.count]},function(n,t,r,o){return t===null?[]:n(S({},t,{overscan:r,count:o}))},{key:!1,debug:function(){return e.options.debug}}),this.indexFromElement=function(n){var t=e.options.indexAttribute,r=n.getAttribute(t);return r?parseInt(r,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(n,t){var r=e.measurementsCache[e.indexFromElement(n)];if(!r||!n.isConnected){e.measureElementCache.forEach(function(l,u){l===n&&(e.observer.unobserve(n),e.measureElementCache.delete(u))});return}var o=e.measureElementCache.get(r.key);o!==n&&(o&&e.observer.unobserve(o),e.observer.observe(n),e.measureElementCache.set(r.key,n));var s=e.options.measureElement(n,t,e);e.resizeItem(r,s)},this.resizeItem=function(n,t){var r,o=(r=e.itemSizeCache.get(n.key))!=null?r:n.size,s=t-o;s!==0&&(n.start<e.scrollOffset&&e._scrollToOffset(e.scrollOffset,{adjustments:e.scrollAdjustments+=s,behavior:void 0}),e.pendingMeasuredCacheIndexes.push(n.index),e.itemSizeCache=new Map(e.itemSizeCache.set(n.key,t)),e.notify(!1))},this.measureElement=function(n){n&&e._measureElement(n,void 0)},this.getVirtualItems=g(function(){return[e.getIndexes(),e.getMeasurements()]},function(n,t){for(var r=[],o=0,s=n.length;o<s;o++){var l=n[o],u=t[l];r.push(u)}return r},{key:!1,debug:function(){return e.options.debug}}),this.getVirtualItemForOffset=function(n){var t=e.getMeasurements();return y(t[O(0,t.length-1,function(r){return y(t[r]).start},n)])},this.getOffsetForAlignment=function(n,t){var r=e.getSize();t==="auto"&&(n<=e.scrollOffset?t="start":n>=e.scrollOffset+r?t="end":t="start"),t==="start"?n=n:t==="end"?n=n-r:t==="center"&&(n=n-r/2);var o=e.options.horizontal?"scrollWidth":"scrollHeight",s=e.scrollElement?"document"in e.scrollElement?e.scrollElement.document.documentElement[o]:e.scrollElement[o]:0,l=s-e.getSize();return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=function(n,t){t===void 0&&(t="auto"),n=Math.max(0,Math.min(n,e.options.count-1));var r=y(e.getMeasurements()[n]);if(t==="auto")if(r.end>=e.scrollOffset+e.getSize()-e.options.scrollPaddingEnd)t="end";else if(r.start<=e.scrollOffset+e.options.scrollPaddingStart)t="start";else return[e.scrollOffset,t];var o=t==="end"?r.end+e.options.scrollPaddingEnd:r.start-e.options.scrollPaddingStart;return[e.getOffsetForAlignment(o,t),t]},this.isDynamicMode=function(){return e.measureElementCache.size>0},this.cancelScrollToIndex=function(){e.scrollToIndexTimeoutId!==null&&(clearTimeout(e.scrollToIndexTimeoutId),e.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(n,t){var r=t===void 0?{}:t,o=r.align,s=o===void 0?"start":o,l=r.behavior;e.cancelScrollToIndex(),l==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e._scrollToOffset(e.getOffsetForAlignment(n,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(n,t){var r=t===void 0?{}:t,o=r.align,s=o===void 0?"auto":o,l=r.behavior;n=Math.max(0,Math.min(n,e.options.count-1)),e.cancelScrollToIndex(),l==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=e.getOffsetForIndex(n,s),f=u[0],c=u[1];e._scrollToOffset(f,{adjustments:void 0,behavior:l}),l!=="smooth"&&e.isDynamicMode()&&(e.scrollToIndexTimeoutId=setTimeout(function(){e.scrollToIndexTimeoutId=null;var m=e.measureElementCache.has(e.options.getItemKey(n));if(m){var h=e.getOffsetForIndex(n,c),v=h[0];w(v,e.scrollOffset)||e.scrollToIndex(n,{align:c,behavior:l})}else e.scrollToIndex(n,{align:c,behavior:l})}))},this.scrollBy=function(n,t){var r=t===void 0?{}:t,o=r.behavior;e.cancelScrollToIndex(),o==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e._scrollToOffset(e.scrollOffset+n,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var n;return(((n=e.getMeasurements()[e.options.count-1])==null?void 0:n.end)||e.options.paddingStart)-e.options.scrollMargin+e.options.paddingEnd},this._scrollToOffset=function(n,t){var r=t.adjustments,o=t.behavior;e.options.scrollToFn(n,{behavior:o,adjustments:r},e)},this.measure=function(){e.itemSizeCache=new Map,e.notify(!1)},this.setOptions(i),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(n){e.itemSizeCache.set(n.key,n.size)}),this.maybeNotify()},O=function(i,e,n,t){for(;i<=e;){var r=(i+e)/2|0,o=n(r);if(o<t)i=r+1;else if(o>t)e=r-1;else return r}return i>0?i-1:0};function A(a){for(var i=a.measurements,e=a.outerSize,n=a.scrollOffset,t=i.length-1,r=function(u){return i[u].start},o=O(0,t,r,n),s=o;s<t&&i[s].end<n+e;)s++;return{startIndex:o,endIndex:s}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L=typeof document<"u"?b.useLayoutEffect:b.useEffect;function I(a){var i=b.useReducer(function(){return{}},{})[1],e=p({},a,{onChange:function(o,s){s?M.flushSync(i):i(),a.onChange==null||a.onChange(o,s)}}),n=b.useState(function(){return new B(e)}),t=n[0];return t.setOptions(e),b.useEffect(function(){return t._didMount()},[]),L(function(){return t._willUpdate()}),t}function P(a){return I(p({observeElementRect:R,observeElementOffset:D,scrollToFn:k},a))}function K(a){return I(p({getScrollElement:function(){return typeof document<"u"?window:null},observeElementRect:j,observeElementOffset:F,scrollToFn:_,initialOffset:typeof document<"u"?window.scrollY:void 0},a))}export{P as a,K as u};
