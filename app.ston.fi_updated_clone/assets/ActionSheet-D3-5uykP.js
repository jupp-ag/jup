import{aA as Ke,aB as ce,aC as K,aD as ue,aE as Be,aF as He,aG as ve,aH as We,aI as Ye,aJ as $e,j as $,f as de,aK as Xe,aL as Ue,aM as Ve,aN as Ge,aO as qe,aP as Je}from"./index-rYEy9Y7-.js";import{r as u,p as Ze,R as Qe}from"./vendors-Dtot3KuJ.js";function he(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function U(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Ke(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function De(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Le(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}function ze(e){return nt()?!1:!be()&&e.width===0&&e.height===0||be()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function et(){return/apple/i.test(navigator.vendor)}function be(){const e=/android/i;return e.test(De())||e.test(Le())}function tt(){return De().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function nt(){return Le().includes("jsdom/")}function se(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ot(e){return"nativeEvent"in e}function rt(e){return e.matches("html,body")}function z(e){return e?.ownerDocument||document}function le(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Q(e){return"composedPath"in e?e.composedPath()[0]:e.target}const st="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ie(e){return ce(e)&&e.matches(st)}const Ae={...Ze},it=Ae.useInsertionEffect,ct=it||(e=>e());function oe(e){const t=u.useRef(()=>{});return ct(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t.current==null?void 0:t.current(...o)},[])}var X=typeof document<"u"?u.useLayoutEffect:u.useEffect;let ye=!1,ut=0;const Ee=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ut++;function lt(){const[e,t]=u.useState(()=>ye?Ee():void 0);return X(()=>{e==null&&t(Ee())},[]),u.useEffect(()=>{ye=!0},[]),e}const at=Ae.useId,Oe=at||lt;function ft(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(c=>c(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(c=>c!==n))||[])}}}const dt=u.createContext(null),mt=u.createContext(null),me=()=>{var e;return((e=u.useContext(dt))==null?void 0:e.id)||null},ge=()=>u.useContext(mt);function pe(e){return"data-floating-ui-"+e}function re(e){const t=u.useRef(e);return X(()=>{t.current=e}),t}const Re=pe("safe-polygon");function ae(e,t,n){return n&&!se(n)?0:typeof e=="number"?e:e?.[t]}function gt(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,dataRef:c,events:g,elements:{domReference:l,floating:r},refs:h}=e,{enabled:d=!0,delay:v=0,handleClose:p=null,mouseOnly:m=!1,restMs:i=0,move:R=!0}=t,y=ge(),D=me(),L=re(p),w=re(v),S=u.useRef(),x=u.useRef(),M=u.useRef(),I=u.useRef(),_=u.useRef(!0),P=u.useRef(!1),T=u.useRef(()=>{}),A=u.useCallback(()=>{var s;const a=(s=c.current.openEvent)==null?void 0:s.type;return a?.includes("mouse")&&a!=="mousedown"},[c]);u.useEffect(()=>{if(!d)return;function s(a){let{open:b}=a;b||(clearTimeout(x.current),clearTimeout(I.current),_.current=!0)}return g.on("openchange",s),()=>{g.off("openchange",s)}},[d,g]),u.useEffect(()=>{if(!d||!L.current||!n)return;function s(b){A()&&o(!1,b,"hover")}const a=z(r).documentElement;return a.addEventListener("mouseleave",s),()=>{a.removeEventListener("mouseleave",s)}},[r,n,o,d,L,A]);const F=u.useCallback(function(s,a,b){a===void 0&&(a=!0),b===void 0&&(b="hover");const E=ae(w.current,"close",S.current);E&&!M.current?(clearTimeout(x.current),x.current=setTimeout(()=>o(!1,s,b),E)):a&&(clearTimeout(x.current),o(!1,s,b))},[w,o]),B=u.useCallback(()=>{T.current(),M.current=void 0},[]),C=u.useCallback(()=>{if(P.current){const s=z(h.floating.current).body;s.style.pointerEvents="",s.removeAttribute(Re),P.current=!1}},[h]);return u.useEffect(()=>{if(!d)return;function s(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function a(f){if(clearTimeout(x.current),_.current=!1,m&&!se(S.current)||i>0&&ae(w.current,"open")===0)return;const k=ae(w.current,"open",S.current);k?x.current=setTimeout(()=>{o(!0,f,"hover")},k):o(!0,f,"hover")}function b(f){if(s())return;T.current();const k=z(r);if(clearTimeout(I.current),L.current){n||clearTimeout(x.current),M.current=L.current({...e,tree:y,x:f.clientX,y:f.clientY,onClose(){C(),B(),F(f,!0,"safe-polygon")}});const Y=M.current;k.addEventListener("mousemove",Y),T.current=()=>{k.removeEventListener("mousemove",Y)};return}(S.current==="touch"?!U(r,f.relatedTarget):!0)&&F(f)}function E(f){s()||L.current==null||L.current({...e,tree:y,x:f.clientX,y:f.clientY,onClose(){C(),B(),F(f)}})(f)}if(K(l)){const f=l;return n&&f.addEventListener("mouseleave",E),r?.addEventListener("mouseleave",E),R&&f.addEventListener("mousemove",a,{once:!0}),f.addEventListener("mouseenter",a),f.addEventListener("mouseleave",b),()=>{n&&f.removeEventListener("mouseleave",E),r?.removeEventListener("mouseleave",E),R&&f.removeEventListener("mousemove",a),f.removeEventListener("mouseenter",a),f.removeEventListener("mouseleave",b)}}},[l,r,d,e,m,i,R,F,B,C,o,n,y,w,L,c]),X(()=>{var s;if(d&&n&&(s=L.current)!=null&&s.__options.blockPointerEvents&&A()){const b=z(r).body;if(b.setAttribute(Re,""),b.style.pointerEvents="none",P.current=!0,K(l)&&r){var a;const E=l,f=y==null||(a=y.nodesRef.current.find(k=>k.id===D))==null||(a=a.context)==null?void 0:a.elements.floating;return f&&(f.style.pointerEvents=""),E.style.pointerEvents="auto",r.style.pointerEvents="auto",()=>{E.style.pointerEvents="",r.style.pointerEvents=""}}}},[d,n,D,r,l,y,L,A]),X(()=>{n||(S.current=void 0,B(),C())},[n,B,C]),u.useEffect(()=>()=>{B(),clearTimeout(x.current),clearTimeout(I.current),C()},[d,l,B,C]),u.useMemo(()=>{if(!d)return{};function s(a){S.current=a.pointerType}return{reference:{onPointerDown:s,onPointerEnter:s,onMouseMove(a){function b(){_.current||o(!0,a.nativeEvent,"hover")}m&&!se(S.current)||n||i===0||(clearTimeout(I.current),S.current==="touch"?b():I.current=setTimeout(b,i))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(a){F(a.nativeEvent,!1)}}}},[d,m,n,i,o,F])}function ie(e,t){let n=e.filter(c=>{var g;return c.parentId===t&&((g=c.context)==null?void 0:g.open)}),o=n;for(;o.length;)o=e.filter(c=>{var g;return(g=o)==null?void 0:g.some(l=>{var r;return c.parentId===l.id&&((r=c.context)==null?void 0:r.open)})}),n=n.concat(o);return n}function we(e){return ce(e.target)&&e.target.tagName==="BUTTON"}function Ce(e){return Ie(e)}function pt(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,dataRef:c,elements:{domReference:g}}=e,{enabled:l=!0,event:r="click",toggle:h=!0,ignoreMouse:d=!1,keyboardHandlers:v=!0}=t,p=u.useRef(),m=u.useRef(!1);return u.useMemo(()=>l?{reference:{onPointerDown(i){p.current=i.pointerType},onMouseDown(i){i.button===0&&(se(p.current,!0)&&d||r!=="click"&&(n&&h&&(!c.current.openEvent||c.current.openEvent.type==="mousedown")?o(!1,i.nativeEvent,"click"):(i.preventDefault(),o(!0,i.nativeEvent,"click"))))},onClick(i){if(r==="mousedown"&&p.current){p.current=void 0;return}se(p.current,!0)&&d||(n&&h&&(!c.current.openEvent||c.current.openEvent.type==="click")?o(!1,i.nativeEvent,"click"):o(!0,i.nativeEvent,"click"))},onKeyDown(i){p.current=void 0,!(i.defaultPrevented||!v||we(i))&&(i.key===" "&&!Ce(g)&&(i.preventDefault(),m.current=!0),i.key==="Enter"&&o(!(n&&h),i.nativeEvent,"click"))},onKeyUp(i){i.defaultPrevented||!v||we(i)||Ce(g)||i.key===" "&&m.current&&(m.current=!1,o(!(n&&h),i.nativeEvent,"click"))}}}:{},[l,c,r,d,v,g,h,n,o])}const vt={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ht={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Pe=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function bt(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,nodeId:c,elements:{reference:g,domReference:l,floating:r},dataRef:h}=e,{enabled:d=!0,escapeKey:v=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:i=!1,referencePressEvent:R="pointerdown",ancestorScroll:y=!1,bubbles:D,capture:L}=t,w=ge(),S=oe(typeof p=="function"?p:()=>!1),x=typeof p=="function"?S:p,M=u.useRef(!1),I=u.useRef(!1),{escapeKey:_,outsidePress:P}=Pe(D),{escapeKey:T,outsidePress:A}=Pe(L),F=oe(a=>{if(!n||!d||!v||a.key!=="Escape")return;const b=w?ie(w.nodesRef.current,c):[];if(!_&&(a.stopPropagation(),b.length>0)){let E=!0;if(b.forEach(f=>{var k;if((k=f.context)!=null&&k.open&&!f.context.dataRef.current.__escapeKeyBubbles){E=!1;return}}),!E)return}o(!1,ot(a)?a.nativeEvent:a,"escape-key")}),B=oe(a=>{var b;const E=()=>{var f;F(a),(f=Q(a))==null||f.removeEventListener("keydown",E)};(b=Q(a))==null||b.addEventListener("keydown",E)}),C=oe(a=>{const b=M.current;M.current=!1;const E=I.current;if(I.current=!1,m==="click"&&E||b||typeof x=="function"&&!x(a))return;const f=Q(a),k="["+pe("inert")+"]",H=z(r).querySelectorAll(k);let Y=K(f)?f:null;for(;Y&&!ve(Y);){const j=We(Y);if(ve(j)||!K(j))break;Y=j}if(H.length&&K(f)&&!rt(f)&&!U(f,r)&&Array.from(H).every(j=>!U(Y,j)))return;if(ce(f)&&r){const j=f.clientWidth>0&&f.scrollWidth>f.clientWidth,W=f.clientHeight>0&&f.scrollHeight>f.clientHeight;let G=W&&a.offsetX>f.clientWidth;if(W&&Ye(f).direction==="rtl"&&(G=a.offsetX<=f.offsetWidth-f.clientWidth),G||j&&a.offsetY>f.clientHeight)return}const ee=w&&ie(w.nodesRef.current,c).some(j=>{var W;return le(a,(W=j.context)==null?void 0:W.elements.floating)});if(le(a,r)||le(a,l)||ee)return;const V=w?ie(w.nodesRef.current,c):[];if(V.length>0){let j=!0;if(V.forEach(W=>{var G;if((G=W.context)!=null&&G.open&&!W.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}o(!1,a,"outside-press")}),s=oe(a=>{var b;const E=()=>{var f;C(a),(f=Q(a))==null||f.removeEventListener(m,E)};(b=Q(a))==null||b.addEventListener(m,E)});return u.useEffect(()=>{if(!n||!d)return;h.current.__escapeKeyBubbles=_,h.current.__outsidePressBubbles=P;function a(f){o(!1,f,"ancestor-scroll")}const b=z(r);v&&b.addEventListener("keydown",T?B:F,T),x&&b.addEventListener(m,A?s:C,A);let E=[];return y&&(K(l)&&(E=ue(l)),K(r)&&(E=E.concat(ue(r))),!K(g)&&g&&g.contextElement&&(E=E.concat(ue(g.contextElement)))),E=E.filter(f=>{var k;return f!==((k=b.defaultView)==null?void 0:k.visualViewport)}),E.forEach(f=>{f.addEventListener("scroll",a,{passive:!0})}),()=>{v&&b.removeEventListener("keydown",T?B:F,T),x&&b.removeEventListener(m,A?s:C,A),E.forEach(f=>{f.removeEventListener("scroll",a)})}},[h,r,l,g,v,x,m,n,o,y,d,_,P,F,T,B,C,A,s]),u.useEffect(()=>{M.current=!1},[x,m]),u.useMemo(()=>d?{reference:{onKeyDown:F,[vt[R]]:a=>{i&&o(!1,a.nativeEvent,"reference-press")}},floating:{onKeyDown:F,onMouseDown(){I.current=!0},onMouseUp(){I.current=!0},[ht[m]]:()=>{M.current=!0}}}:{},[d,i,m,R,o,F])}function yt(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:o,nodeId:c}=e,[g,l]=u.useState(null),[r,h]=u.useState(null),v=((t=e.elements)==null?void 0:t.reference)||g;X(()=>{v&&(y.current=v)},[v]);const p=Be({...e,elements:{...e.elements,...r&&{reference:r}}}),m=ge(),i=me()!=null,R=oe((P,T,A)=>{D.current.openEvent=P?T:void 0,L.emit("openchange",{open:P,event:T,reason:A,nested:i}),o?.(P,T,A)}),y=u.useRef(null),D=u.useRef({}),L=u.useState(()=>ft())[0],w=Oe(),S=u.useCallback(P=>{const T=K(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;h(T),p.refs.setReference(T)},[p.refs]),x=u.useCallback(P=>{(K(P)||P===null)&&(y.current=P,l(P)),(K(p.refs.reference.current)||p.refs.reference.current===null||P!==null&&!K(P))&&p.refs.setReference(P)},[p.refs]),M=u.useMemo(()=>({...p.refs,setReference:x,setPositionReference:S,domReference:y}),[p.refs,x,S]),I=u.useMemo(()=>({...p.elements,domReference:v}),[p.elements,v]),_=u.useMemo(()=>({...p,refs:M,elements:I,dataRef:D,nodeId:c,floatingId:w,events:L,open:n,onOpenChange:R}),[p,c,w,L,n,R,M,I]);return X(()=>{const P=m?.nodesRef.current.find(T=>T.id===c);P&&(P.context=_)}),u.useMemo(()=>({...p,context:_,refs:M,elements:I}),[p,M,I,_])}function Et(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,events:c,refs:g,elements:{domReference:l}}=e,{enabled:r=!0,visibleOnly:h=!0}=t,d=u.useRef(!1),v=u.useRef(),p=u.useRef(!0);return u.useEffect(()=>{if(!r)return;const m=He(l);function i(){!n&&ce(l)&&l===he(z(l))&&(d.current=!0)}function R(){p.current=!0}return m.addEventListener("blur",i),m.addEventListener("keydown",R,!0),()=>{m.removeEventListener("blur",i),m.removeEventListener("keydown",R,!0)}},[l,n,r]),u.useEffect(()=>{if(!r)return;function m(i){let{reason:R}=i;(R==="reference-press"||R==="escape-key")&&(d.current=!0)}return c.on("openchange",m),()=>{c.off("openchange",m)}},[c,r]),u.useEffect(()=>()=>{clearTimeout(v.current)},[]),u.useMemo(()=>r?{reference:{onPointerDown(m){ze(m.nativeEvent)||(p.current=!1)},onMouseLeave(){d.current=!1},onFocus(m){if(d.current)return;const i=Q(m.nativeEvent);if(h&&K(i))try{if(et()&&tt())throw Error();if(!i.matches(":focus-visible"))return}catch{if(!p.current&&!Ie(i))return}o(!0,m.nativeEvent,"focus")},onBlur(m){d.current=!1;const i=m.relatedTarget,R=K(i)&&i.hasAttribute(pe("focus-guard"))&&i.getAttribute("data-type")==="outside";v.current=window.setTimeout(()=>{const y=he(l?l.ownerDocument:document);!i&&y===l||U(g.floating.current,y)||U(l,y)||R||o(!1,m.nativeEvent,"focus")})}}}:{},[r,h,l,g,o])}const xe="active",Te="selected";function fe(e,t,n){const o=new Map,c=n==="item";let g=e;if(c&&e){const{[xe]:l,[Te]:r,...h}=e;g=h}return{...n==="floating"&&{tabIndex:-1},...g,...t.map(l=>{const r=l?l[n]:null;return typeof r=="function"?e?r(e):null:r}).concat(e).reduce((l,r)=>(r&&Object.entries(r).forEach(h=>{let[d,v]=h;if(!(c&&[xe,Te].includes(d)))if(d.indexOf("on")===0){if(o.has(d)||o.set(d,[]),typeof v=="function"){var p;(p=o.get(d))==null||p.push(v),l[d]=function(){for(var m,i=arguments.length,R=new Array(i),y=0;y<i;y++)R[y]=arguments[y];return(m=o.get(d))==null?void 0:m.map(D=>D(...R)).find(D=>D!==void 0)}}}else l[d]=v}),l),{})}}function Rt(e){e===void 0&&(e=[]);const t=e,n=u.useCallback(g=>fe(g,e,"reference"),t),o=u.useCallback(g=>fe(g,e,"floating"),t),c=u.useCallback(g=>fe(g,e,"item"),e.map(g=>g?.item));return u.useMemo(()=>({getReferenceProps:n,getFloatingProps:o,getItemProps:c}),[n,o,c])}const wt=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ct(e,t){var n;t===void 0&&(t={});const{open:o,floatingId:c}=e,{enabled:g=!0,role:l="dialog"}=t,r=(n=wt.get(l))!=null?n:l,h=Oe(),v=me()!=null;return u.useMemo(()=>{if(!g)return{};const p={id:c,...r&&{role:r}};return r==="tooltip"||l==="label"?{reference:{["aria-"+(l==="label"?"labelledby":"describedby")]:o?c:void 0},floating:p}:{reference:{"aria-expanded":o?"true":"false","aria-haspopup":r==="alertdialog"?"dialog":r,"aria-controls":o?c:void 0,...r==="listbox"&&{role:"combobox"},...r==="menu"&&{id:h},...r==="menu"&&v&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},floating:{...p,...r==="menu"&&{"aria-labelledby":h}},item(m){let{active:i,selected:R}=m;const y={role:"option",...i&&{id:c+"-option"}};switch(l){case"select":return{...y,"aria-selected":i&&R};case"combobox":return{...y,...i&&{"aria-selected":!0}}}return{}}}},[g,l,r,o,c,h,v])}const ke=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function ne(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){const[n,o]=u.useState(e);return e&&!n&&o(!0),u.useEffect(()=>{if(!e){const c=setTimeout(()=>o(!1),t);return()=>clearTimeout(c)}},[e,t]),n}function xt(e,t){t===void 0&&(t={});const{open:n,elements:{floating:o}}=e,{duration:c=250}=t,l=(typeof c=="number"?c:c.close)||0,[r,h]=u.useState(!1),[d,v]=u.useState("unmounted"),p=Pt(n,l);return X(()=>{r&&!p&&v("unmounted")},[r,p]),X(()=>{if(o){if(n){v("initial");const m=requestAnimationFrame(()=>{v("open")});return()=>{cancelAnimationFrame(m)}}h(!0),v("close")}},[n,o]),{isMounted:p,status:d}}function Tt(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:o,close:c,common:g,duration:l=250}=t,r=e.placement,h=r.split("-")[0],d=u.useMemo(()=>({side:h,placement:r}),[h,r]),v=typeof l=="number",p=(v?l:l.open)||0,m=(v?l:l.close)||0,[i,R]=u.useState(()=>({...ne(g,d),...ne(n,d)})),{isMounted:y,status:D}=xt(e,{duration:l}),L=re(n),w=re(o),S=re(c),x=re(g);return X(()=>{const M=ne(L.current,d),I=ne(S.current,d),_=ne(x.current,d),P=ne(w.current,d)||Object.keys(M).reduce((T,A)=>(T[A]="",T),{});if(D==="initial"&&R(T=>({transitionProperty:T.transitionProperty,..._,...M})),D==="open"&&R({transitionProperty:Object.keys(P).map(ke).join(","),transitionDuration:p+"ms",..._,...P}),D==="close"){const T=I||M;R({transitionProperty:Object.keys(T).map(ke).join(","),transitionDuration:m+"ms",..._,...T})}},[m,S,L,w,x,p,D,d]),{isMounted:y,styles:i}}function Se(e,t){const[n,o]=e;let c=!1;const g=t.length;for(let l=0,r=g-1;l<g;r=l++){const[h,d]=t[l]||[0,0],[v,p]=t[r]||[0,0];d>=o!=p>=o&&n<=(v-h)*(o-d)/(p-d)+h&&(c=!c)}return c}function kt(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function St(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=e;let c,g=!1,l=null,r=null,h=performance.now();function d(p,m){const i=performance.now(),R=i-h;if(l===null||r===null||R===0)return l=p,r=m,h=i,null;const y=p-l,D=m-r,w=Math.sqrt(y*y+D*D)/R;return l=p,r=m,h=i,w}const v=p=>{let{x:m,y:i,placement:R,elements:y,onClose:D,nodeId:L,tree:w}=p;return function(x){function M(){clearTimeout(c),D()}if(clearTimeout(c),!y.domReference||!y.floating||R==null||m==null||i==null)return;const{clientX:I,clientY:_}=x,P=[I,_],T=Q(x),A=x.type==="mouseleave",F=U(y.floating,T),B=U(y.domReference,T),C=y.domReference.getBoundingClientRect(),s=y.floating.getBoundingClientRect(),a=R.split("-")[0],b=m>s.right-s.width/2,E=i>s.bottom-s.height/2,f=kt(P,C),k=s.width>C.width,H=s.height>C.height,Y=(k?C:s).left,ee=(k?C:s).right,V=(H?C:s).top,j=(H?C:s).bottom;if(F&&(g=!0,!A))return;if(B&&(g=!1),B&&!A){g=!0;return}if(A&&K(x.relatedTarget)&&U(y.floating,x.relatedTarget)||w&&ie(w.nodesRef.current,L).some(q=>{let{context:O}=q;return O?.open}))return;if(a==="top"&&i>=C.bottom-1||a==="bottom"&&i<=C.top+1||a==="left"&&m>=C.right-1||a==="right"&&m<=C.left+1)return M();let W=[];switch(a){case"top":W=[[Y,C.top+1],[Y,s.bottom-1],[ee,s.bottom-1],[ee,C.top+1]];break;case"bottom":W=[[Y,s.top+1],[Y,C.bottom-1],[ee,C.bottom-1],[ee,s.top+1]];break;case"left":W=[[s.right-1,j],[s.right-1,V],[C.left+1,V],[C.left+1,j]];break;case"right":W=[[C.right-1,j],[C.right-1,V],[s.left+1,V],[s.left+1,j]];break}function G(q){let[O,N]=q;switch(a){case"top":{const J=[k?O+t/2:b?O+t*4:O-t*4,N+t+1],Z=[k?O-t/2:b?O+t*4:O-t*4,N+t+1],te=[[s.left,b||k?s.bottom-t:s.top],[s.right,b?k?s.bottom-t:s.top:s.bottom-t]];return[J,Z,...te]}case"bottom":{const J=[k?O+t/2:b?O+t*4:O-t*4,N-t],Z=[k?O-t/2:b?O+t*4:O-t*4,N-t],te=[[s.left,b||k?s.top+t:s.bottom],[s.right,b?k?s.top+t:s.bottom:s.top+t]];return[J,Z,...te]}case"left":{const J=[O+t+1,H?N+t/2:E?N+t*4:N-t*4],Z=[O+t+1,H?N-t/2:E?N+t*4:N-t*4];return[...[[E||H?s.right-t:s.left,s.top],[E?H?s.right-t:s.left:s.right-t,s.bottom]],J,Z]}case"right":{const J=[O-t,H?N+t/2:E?N+t*4:N-t*4],Z=[O-t,H?N-t/2:E?N+t*4:N-t*4],te=[[E||H?s.left+t:s.right,s.top],[E?H?s.left+t:s.right:s.left+t,s.bottom]];return[J,Z,...te]}}}if(!Se([I,_],W)){if(g&&!f)return M();if(!A&&o){const q=d(x.clientX,x.clientY);if(q!==null&&q<.1)return M()}Se([I,_],G([m,i]))?!g&&o&&(c=window.setTimeout(M,40)):M()}}};return v.__options={blockPointerEvents:n},v}const Mt=$e,_e=u.createContext({}),je=u.createContext({}),Ot=({children:e,open:t,onOpenChange:n,...o})=>{const[c,g]=u.useState(t??!1),l=u.useCallback(v=>{g(v),n?.(v)},[n]),r=u.useCallback(()=>{l(!1)},[]);u.useEffect(()=>{g(t??!1)},[t]);const h=e.find(v=>Me(v)===Fe.displayName),d=e.find(v=>Me(v)===Ne.displayName);if(!h||!d)throw Error("ActionSheet should has ActionSheetTrigger and ActionSheetContent children");return $.jsx(_e.Provider,{value:{onClose:r},children:$.jsx(Dt,{...o,open:c,setOpen:l,trigger:$.jsx("div",{...h.props,children:h.props.children}),followTriggerWidth:d.props.followTriggerWidth,children:d})})},Fe=({children:e})=>$.jsx($.Fragment,{children:e});Fe.displayName="ActionSheetTrigger";const Ne=({className:e,children:t,...n})=>$.jsx("ul",{...n,className:de("flex flex-col","overflow-hidden rounded-lg bg-actionSheetBackground py-2 shadow-actionSheet","min-w-[240px]",e),children:t});Ne.displayName="ActionSheetContent";const Dt=({trigger:e,mode:t="click",offsetY:n=4,offsetX:o=0,children:c,placement:g="bottom-start",className:l,open:r,setOpen:h,followTriggerWidth:d})=>{const{x:v,y:p,strategy:m,context:i}=yt({open:r,onOpenChange:h,whileElementsMounted:Xe,placement:g,strategy:"absolute",middleware:[{name:"detectOverflow",async fn(w){const S=await Ue(w,{rootBoundary:"document",padding:12});return{...w,x:S.left>0?w.x+S.left:S.right>0?w.x-S.right:w.x}}},Ve(n),Ge(),qe(),d?Je({apply({elements:w}){const S=w.reference.getBoundingClientRect();Object.assign(w.floating.style,{width:`${S.width}px`})}}):void 0]}),{getReferenceProps:R,getFloatingProps:y}=Rt([...t==="hover"?[gt(i,{handleClose:St({buffer:-1/0})}),Et(i)]:[],...t==="click"?[pt(i,{toggle:!0})]:[],Ct(i,{role:"menu"}),bt(i)]),{isMounted:D,styles:L}=Tt(i,{duration:200,initial:{opacity:0,transform:"translateY(8px)"},open:{opacity:100,transform:"translateY(0)"},close:{opacity:0,transform:"translateY(8px)"}});return $.jsxs($.Fragment,{children:[Qe.cloneElement(e,R({ref:i.refs.setReference,className:de("cursor-pointer",e.props.className)})),(r||D)&&$.jsx(Mt,{children:$.jsx("div",{...y({ref:i.refs.setFloating,style:{position:m,top:p??0,left:v?v+o:0,...L},className:l}),children:c})})]})},Lt=({className:e,children:t,...n})=>{const{onClose:o}=u.useContext(_e);return $.jsx("li",{...n,className:de("animate-ui-element-transition hover:bg-actionSheetItemBackgroundHover","cursor-pointer",e),onClick:c=>{n.onClick?.(c),o?.()},children:t})},_t=({value:e,onValueChange:t,children:n})=>$.jsx(je.Provider,{value:{value:e,onValueChange:t},children:n}),jt=({value:e,children:t,...n})=>{const{onValueChange:o}=u.useContext(je);return $.jsx(Lt,{...n,onClick:c=>{o?.(e),n.onClick?.(c)},children:t})};function Me(e){return e.type.displayName}export{Ot as A,Mt as P,Fe as a,Ne as b,Lt as c,_t as d,je as e,jt as f};
