import{k as f,a9 as E,aa as S,ab as g,ac as P,j as e,f as L,T as p,ad as j,ae as y,A as C,af as x}from"./index-rYEy9Y7-.js";import{r as a,l as b,R as M}from"./vendors-Dtot3KuJ.js";import{A as O,M as k,a as w,b as G,c as H}from"./Alert-D7GHY6oI.js";import{D as F}from"./Divider-jHGK41G-.js";import{v as T,P as N,E as I}from"./FiatAmountFormatter-DJa9-DlJ.js";import{C as _,B}from"./Button-BDyEdmnj.js";import{N as v,B as V,P as D}from"./PercentageFormatter-DLWyLAHU.js";import{n as z}from"./Toggle-Dn0IgmcM.js";import{A as W,a as Z,b as K}from"./Accordion-4D3-142-.js";import{u as U}from"./useStorageBooleanState-Csz9mz-l.js";const X=({slippageTolerancePercent:s,onSlippageTolerancePercentChange:o,...c})=>{const{t:n,formatter:r}=f(),[t,m]=a.useState(s),[d,u]=a.useState(!1),h=a.useCallback(l=>{m(l);const R=l!==null&&l>=y&&l<=g;o(R?l:null)},[o]),i=a.useMemo(()=>t===null&&d?null:t===null||t<=0?n("shared:formSettings.validation.notSet",{percent:r.percentage(E)}):t<S?n("shared:formSettings.validation.tooLow",{percent:r.percentage(S)}):t>g?n("shared:formSettings.validation.max",{maxPercent:r.percentage(g),recommendedPercent:r.percentage(E)}):t>P?n("shared:formSettings.validation.tooHigh",{percent:r.percentage(P)}):null,[d,t,n]);return e.jsxs("div",{...c,className:L("flex flex-col gap-3",c.className),children:[e.jsxs(p.Caption1,{weight:"regular",className:"flex items-center text-textSecondary",children:[n("shared:formSettings.slippageTolerance"),e.jsxs(T,{children:[e.jsx(N,{children:e.jsx(_,{className:"text-iconTertiary"})}),e.jsx(I,{children:n("shared:formSettings.slippageToleranceHint")})]})]}),e.jsx(v,{decimals:1,invalid:!!i,value:t===null?null:t*100,onChange:l=>{h(l===null?null:l/100)},onFocus:()=>u(!0),onBlur:()=>u(!1),right:e.jsx(p.Label,{weight:"regular",children:"%"})}),i?e.jsx(p.Caption2,{weight:"regular",className:"text-dynamicRed",children:i}):null,e.jsx(V,{size:"medium",selectedButton:t===null?-1:j.indexOf(t),children:j.map(l=>e.jsx(B,{color:"default",variant:"outline",size:"medium",onClick:()=>{h(l)},children:e.jsx(D,{value:l})},l))})]})},q=({priceImpactPercent:s,onPriceImpactPercentChange:o,onPriceImpactPercentReset:c,...n})=>{const{t:r}=f(),[t,m]=U("custom-price-impact"),[d,u]=a.useState(typeof s=="number"?s*100:null),h=a.useCallback(i=>{u(i);const l=A(i);o(l&&typeof i=="number"?i/100:null)},[o]);return a.useEffect(()=>{typeof s=="number"&&u(s*100)},[s]),e.jsxs("div",{...n,children:[e.jsxs("div",{className:"flex w-full items-center",children:[e.jsx(p.Caption1,{weight:"regular",className:"text-textSecondary",children:r("shared:formSettings.priceImpact")}),e.jsxs(T,{children:[e.jsx(N,{children:e.jsx(_,{className:"text-iconTertiary"})}),e.jsx(I,{children:r("shared:formSettings.priceImpactHint")})]}),e.jsx(z,{className:"ml-auto",checked:t,onCheckedChange:i=>{m(i),i||c()}})]}),e.jsx(W,{type:"single",value:t.toString(),className:"-mx-1",children:e.jsx(Z,{value:"true",children:e.jsx(K,{children:e.jsxs("div",{className:"mx-1 flex flex-col gap-3",children:[e.jsx(v,{className:"mt-3",value:d,decimals:1,invalid:!A(d),onChange:h,right:e.jsx(p.Label,{weight:"regular",children:"%"})}),e.jsx(O,{icon:"warn",children:r("shared:formSettings.priceImpactAlert.content")})]})})})})]})},A=s=>typeof s!="number"?!1:s>=1&&s<=100,J=({slippageTolerancePercent:s,onSlippageTolerancePercentChange:o,priceImpactPercent:c,onPriceImpactPercentChange:n,onPriceImpactPercentReset:r,...t})=>{const{t:m}=f();return e.jsxs(k,{...t,children:[e.jsx(w,{title:m("shared:formSettings.title")}),e.jsxs(G,{children:[e.jsx(X,{slippageTolerancePercent:s,onSlippageTolerancePercentChange:o}),e.jsx(F,{className:"my-5"}),e.jsx(q,{priceImpactPercent:c,onPriceImpactPercentChange:n,onPriceImpactPercentReset:r})]}),e.jsx(H,{withMobileCloseButton:!0})]})},oe=({children:s})=>{const[o,c]=a.useState(!1),[n,r]=a.useState(0);return e.jsxs(e.Fragment,{children:[M.cloneElement(s,{onClick:t=>{c(!0),r(m=>m+1),s.props.onClick?.(t)}}),e.jsx(Q,{isOpen:o,onClose:()=>{c(!1)}},n)]})},Q=b(({onClose:s,...o})=>{const[c,n]=a.useState(C.slippageTolerancePercent),[r,t]=a.useState(C.priceImpactPercent);return e.jsx(J,{...o,onClose:()=>{C.setSlippageTolerancePercent(c===null?x.slippageTolerancePercent:c),C.setPriceImpactPercent(r===null?x.priceImpactPercent:r),s()},slippageTolerancePercent:c,onSlippageTolerancePercentChange:n,priceImpactPercent:r,onPriceImpactPercentChange:t,onPriceImpactPercentReset:()=>{t(x.priceImpactPercent)}})}),ie=s=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",id:"refresh_loading",...s},a.createElement("path",{d:"M4.39961 12.5001C4.39961 8.30273 7.80225 4.9001 11.9996 4.9001C14.5562 4.9001 16.8192 6.16248 18.1973 8.1001H16.0004C15.5033 8.1001 15.1004 8.50304 15.1004 9.0001C15.1004 9.49715 15.5033 9.9001 16.0004 9.9001H19.7285C19.7417 9.90039 19.755 9.90039 19.7683 9.9001H20.5004C20.9974 9.9001 21.4004 9.49715 21.4004 9.0001V4.5001C21.4004 4.00304 20.9974 3.6001 20.5004 3.6001C20.0033 3.6001 19.6004 4.00304 19.6004 4.5001V6.96862C17.8918 4.62475 15.1244 3.1001 11.9996 3.1001C6.80813 3.1001 2.59961 7.30862 2.59961 12.5001C2.59961 17.6916 6.80813 21.9001 11.9996 21.9001C16.3913 21.9001 20.0775 18.8892 21.1108 14.8204C21.2332 14.3386 20.9418 13.8489 20.4601 13.7265C19.9783 13.6042 19.4886 13.8956 19.3662 14.3773C18.5307 17.6673 15.5481 20.1001 11.9996 20.1001C7.80225 20.1001 4.39961 16.6975 4.39961 12.5001Z",fill:"currentColor"}),a.createElement("defs",null,a.createElement("path",{id:"refresh",stroke:"none",fill:"none",d:"M4.39961 12.5001C4.39961 8.30273 7.80225 4.9001 11.9996 4.9001C14.5562 4.9001 16.8192 6.16248 18.1973 8.1001H16.0004C15.5033 8.1001 15.1004 8.50304 15.1004 9.0001C15.1004 9.49715 15.5033 9.9001 16.0004 9.9001H19.7285C19.7417 9.90039 19.755 9.90039 19.7683 9.9001H20.5004C20.9974 9.9001 21.4004 9.49715 21.4004 9.0001V4.5001C21.4004 4.00304 20.9974 3.6001 20.5004 3.6001C20.0033 3.6001 19.6004 4.00304 19.6004 4.5001V6.96862C17.8918 4.62475 15.1244 3.1001 11.9996 3.1001C6.80813 3.1001 2.59961 7.30862 2.59961 12.5001C2.59961 17.6916 6.80813 21.9001 11.9996 21.9001C16.3913 21.9001 20.0775 18.8892 21.1108 14.8204C21.2332 14.3386 20.9418 13.8489 20.4601 13.7265C19.9783 13.6042 19.4886 13.8956 19.3662 14.3773C18.5307 17.6673 15.5481 20.1001 11.9996 20.1001C7.80225 20.1001 4.39961 16.6975 4.39961 12.5001Z"}),a.createElement("clipPath",{id:"refresh-clip"},a.createElement("use",{href:"#refresh"}))),a.createElement("g",{clipPath:"url(#refresh-clip)"},a.createElement("circle",{cx:12,cy:13,r:5,fill:"none",stroke:"rgb(var(--icon-tertiary, 169 177 188))",strokeWidth:16,strokeDasharray:30,strokeDashoffset:-30},a.createElement("animate",{id:"refresh-animate",begin:"0s",attributeName:"stroke-dashoffset",values:"0;-30",dur:"10s"}))));export{oe as F,ie as S};
